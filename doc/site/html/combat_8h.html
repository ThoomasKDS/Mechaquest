<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Mechaquest: Référence du fichier /mnt/c/Users/mokha/Documents/travaille L2/projet/github/lib/combat.h</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Mechaquest
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Généré par Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Recherche');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('combat_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Chargement...</div>
<div class="SRStatus" id="Searching">Recherche...</div>
<div class="SRStatus" id="NoMatches">Aucune correspondance</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Fonctions</a>  </div>
  <div class="headertitle"><div class="title">Référence du fichier combat.h</div></div>
</div><!--header-->
<div class="contents">

<p>Gestion des combats dans le jeu.  
<a href="#details">Plus de détails...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="sauv_8h_source.html">sauv.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pointDePassage_8h_source.html">pointDePassage.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="global_8h_source.html">../lib/global.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Graphe des dépendances par inclusion de combat.h:</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h__incl.png" border="0" usemap="#a_2mnt_2c_2Users_2mokha_2Documents_2travaille_01L2_2projet_2github_2lib_2combat_8h" alt=""/></div>
<map name="a_2mnt_2c_2Users_2mokha_2Documents_2travaille_01L2_2projet_2github_2lib_2combat_8h" id="a_2mnt_2c_2Users_2mokha_2Documents_2travaille_01L2_2projet_2github_2lib_2combat_8h">
<area shape="rect" title="Gestion des combats dans le jeu." alt="" coords="309,5,451,75"/>
<area shape="rect" href="sauv_8h.html" title="Gestion des sauvegardes et récupération des données du jeu." alt="" coords="139,416,197,441"/>
<area shape="poly" title=" " alt="" coords="310,76,255,109,199,152,173,178,151,206,132,237,120,270,116,316,118,344,124,367,134,387,148,404,144,407,130,390,119,369,113,345,111,316,115,269,128,234,146,203,169,174,195,148,252,104,307,72"/>
<area shape="rect" href="global_8h.html" title="Définition des constantes, structures et variables globales du jeu." alt="" coords="696,489,792,515"/>
<area shape="poly" title=" " alt="" coords="452,48,575,68,714,101,776,122,827,146,861,174,871,190,875,207,875,357,872,378,865,398,841,434,810,463,779,484,776,480,806,459,837,430,860,396,867,377,869,357,869,208,866,192,857,178,824,151,774,127,712,106,574,73,451,53"/>
<area shape="rect" href="pointDePassage_8h.html" title="Gestion des points de passage et événements du jeu." alt="" coords="247,123,377,148"/>
<area shape="poly" title=" " alt="" coords="358,76,331,113,326,110,353,73"/>
<area shape="rect" title=" " alt="" coords="136,489,197,515"/>
<area shape="poly" title=" " alt="" coords="170,442,170,476,164,476,165,442"/>
<area shape="rect" title=" " alt="" coords="272,489,336,515"/>
<area shape="poly" title=" " alt="" coords="191,439,271,481,269,485,189,444"/>
<area shape="rect" title=" " alt="" coords="31,489,97,515"/>
<area shape="poly" title=" " alt="" coords="153,444,94,483,91,479,150,439"/>
<area shape="poly" title=" " alt="" coords="198,431,682,490,682,496,197,436"/>
<area shape="rect" title=" " alt="" coords="696,563,792,588"/>
<area shape="poly" title=" " alt="" coords="747,515,747,549,741,549,741,515"/>
<area shape="rect" title=" " alt="" coords="447,563,582,588"/>
<area shape="poly" title=" " alt="" coords="708,517,566,561,564,556,706,512"/>
<area shape="rect" title=" " alt="" coords="165,563,304,588"/>
<area shape="poly" title=" " alt="" coords="696,513,318,565,317,560,695,507"/>
<area shape="rect" title=" " alt="" coords="865,563,980,588"/>
<area shape="poly" title=" " alt="" coords="774,512,882,555,880,560,772,517"/>
<area shape="poly" title=" " alt="" coords="283,150,246,168,203,194,163,228,145,248,132,270,126,287,123,305,128,341,140,375,155,403,150,406,136,377,123,342,118,305,120,286,127,268,141,245,159,224,200,190,243,163,281,146"/>
<area shape="poly" title=" " alt="" coords="377,139,505,153,651,179,718,197,772,220,794,233,810,247,820,263,824,280,824,357,818,393,804,427,785,457,766,481,762,477,781,454,799,425,813,392,819,356,819,281,815,265,806,251,790,237,770,224,716,202,650,184,504,158,377,144"/>
<area shape="rect" href="menu_8h.html" title="Gestion des menus et des interfaces utilisateur." alt="" coords="257,196,351,221"/>
<area shape="poly" title=" " alt="" coords="313,149,309,183,304,182,308,148"/>
<area shape="poly" title=" " alt="" coords="299,223,185,406,180,403,294,220"/>
<area shape="poly" title=" " alt="" coords="257,214,224,220,189,230,157,246,131,271,118,293,109,313,105,332,105,351,114,392,129,440,138,460,149,477,145,480,133,462,124,442,109,393,100,351,100,331,104,311,113,290,127,268,154,242,187,225,223,214,256,209"/>
<area shape="poly" title=" " alt="" coords="257,214,220,219,181,229,143,246,111,271,94,294,81,321,67,377,62,432,64,476,58,476,57,432,61,376,76,319,90,292,107,267,140,241,179,224,219,214,256,209"/>
<area shape="poly" title=" " alt="" coords="352,209,427,219,520,240,568,257,615,279,658,307,697,341,719,373,733,409,741,445,745,475,740,476,736,446,728,411,714,376,693,344,655,311,612,284,566,262,518,245,426,224,351,215"/>
<area shape="poly" title=" " alt="" coords="352,211,480,228,557,244,633,267,716,293,784,314,814,329,841,349,868,377,893,415,901,438,898,460,888,481,871,500,828,534,784,559,781,554,825,529,868,496,883,478,893,458,895,438,888,417,863,380,838,353,811,334,782,319,715,298,631,272,556,249,480,233,351,216"/>
<area shape="poly" title=" " alt="" coords="257,214,216,218,172,228,128,245,90,271,75,299,51,357,28,426,12,490,9,503,11,513,32,528,66,541,152,560,151,565,65,546,30,533,7,516,3,503,7,489,23,425,46,355,70,297,86,268,126,240,171,223,216,213,256,208"/>
<area shape="poly" title=" " alt="" coords="352,207,525,210,635,216,748,227,854,245,942,271,977,287,1003,306,1021,329,1027,354,1027,430,1019,469,1000,503,975,533,951,556,947,552,971,529,996,500,1014,467,1021,430,1021,354,1016,331,1000,310,974,292,941,276,853,250,748,232,635,221,524,215,352,212"/>
<area shape="rect" href="initGame_8h.html" title="Initialisation et gestion de la SDL pour le jeu." alt="" coords="323,416,437,441"/>
<area shape="poly" title=" " alt="" coords="311,221,374,402,369,404,305,223"/>
<area shape="rect" href="affichage_8h.html" title="Fichier d&#39;en&#45;tête pour la gestion de l&#39;affichage dans le jeu." alt="" coords="383,269,497,295"/>
<area shape="poly" title=" " alt="" coords="327,219,407,261,405,265,325,224"/>
<area shape="rect" title=" " alt="" coords="141,269,216,295"/>
<area shape="poly" title=" " alt="" coords="285,224,212,265,210,260,282,219"/>
<area shape="poly" title=" " alt="" coords="346,444,211,489,209,484,345,439"/>
<area shape="poly" title=" " alt="" coords="370,443,328,482,325,478,366,439"/>
<area shape="poly" title=" " alt="" coords="330,444,110,493,109,488,329,439"/>
<area shape="poly" title=" " alt="" coords="438,439,683,486,682,491,437,444"/>
<area shape="poly" title=" " alt="" coords="411,439,533,487,590,512,701,555,699,560,588,517,531,492,409,444"/>
<area shape="poly" title=" " alt="" coords="390,440,451,513,492,552,488,555,447,516,386,443"/>
<area shape="poly" title=" " alt="" coords="381,442,372,478,363,498,350,516,319,542,285,560,283,555,316,538,346,513,358,495,366,476,376,441"/>
<area shape="poly" title=" " alt="" coords="420,439,685,512,863,557,861,562,683,517,419,444"/>
<area shape="rect" title=" " alt="" coords="461,489,520,515"/>
<area shape="poly" title=" " alt="" coords="399,439,462,479,459,484,396,444"/>
<area shape="poly" title=" " alt="" coords="434,270,389,89,394,88,440,268"/>
<area shape="poly" title=" " alt="" coords="419,297,202,412,200,407,417,293"/>
<area shape="poly" title=" " alt="" coords="392,297,334,314,265,340,194,374,128,418,100,447,79,478,75,475,96,444,125,414,191,369,263,335,332,309,390,292"/>
<area shape="poly" title=" " alt="" coords="458,293,628,414,718,479,715,483,625,418,455,297"/>
<area shape="poly" title=" " alt="" coords="498,283,543,288,595,299,647,315,696,340,739,372,767,402,788,439,806,489,810,502,806,516,792,538,774,556,771,552,788,535,801,514,804,502,801,490,783,441,763,405,735,376,693,345,645,320,593,304,542,294,497,288"/>
<area shape="poly" title=" " alt="" coords="383,292,292,309,240,324,187,344,136,370,89,402,50,442,21,490,17,509,21,525,32,537,50,548,98,562,152,569,151,574,96,567,48,553,29,541,16,527,11,509,16,488,46,439,86,398,133,365,185,339,239,319,291,304,382,286"/>
<area shape="poly" title=" " alt="" coords="498,282,550,287,610,297,673,314,732,340,765,362,795,388,847,446,887,503,913,549,908,552,882,506,843,449,791,391,761,366,729,345,671,319,609,302,549,292,497,287"/>
<area shape="poly" title=" " alt="" coords="460,293,479,307,496,326,506,347,507,358,502,369,477,396,445,413,442,409,473,392,498,367,501,357,501,348,492,329,475,311,457,297"/>
<area shape="rect" title=" " alt="" coords="613,343,683,368"/>
<area shape="poly" title=" " alt="" coords="474,292,602,336,600,341,472,297"/>
<area shape="rect" href="player_8h.html" title="Gestion du joueur dans le jeu." alt="" coords="392,343,488,368"/>
<area shape="poly" title=" " alt="" coords="436,295,434,329,429,329,430,295"/>
<area shape="poly" title=" " alt="" coords="397,371,211,419,210,414,396,365"/>
<area shape="poly" title=" " alt="" coords="392,369,349,386,329,400,313,418,306,431,303,446,302,476,297,476,297,445,301,429,308,414,325,396,346,382,390,364"/>
<area shape="poly" title=" " alt="" coords="447,367,468,403,484,423,503,439,573,461,683,485,682,491,572,466,500,444,480,427,464,406,443,370"/>
<area shape="poly" title=" " alt="" coords="485,365,539,385,595,414,624,438,644,460,661,484,686,513,724,551,720,555,682,516,657,488,639,463,621,441,592,418,537,389,484,371"/>
<area shape="poly" title=" " alt="" coords="393,370,343,388,319,401,298,418,274,449,257,484,246,520,240,550,235,549,241,518,252,482,269,446,294,414,316,397,341,383,391,365"/>
<area shape="poly" title=" " alt="" coords="432,370,400,407,396,404,428,367"/>
<area shape="poly" title=" " alt="" coords="444,342,446,308,451,309,449,343"/>
<area shape="rect" title=" " alt="" coords="513,416,581,441"/>
<area shape="poly" title=" " alt="" coords="459,366,519,406,516,411,456,370"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
Ce graphe montre quels fichiers incluent directement ou indirectement ce fichier :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h__dep__incl.png" border="0" usemap="#a_2mnt_2c_2Users_2mokha_2Documents_2travaille_01L2_2projet_2github_2lib_2combat_8hdep" alt=""/></div>
<map name="a_2mnt_2c_2Users_2mokha_2Documents_2travaille_01L2_2projet_2github_2lib_2combat_8hdep" id="a_2mnt_2c_2Users_2mokha_2Documents_2travaille_01L2_2projet_2github_2lib_2combat_8hdep">
<area shape="rect" title="Gestion des combats dans le jeu." alt="" coords="609,5,751,75"/>
<area shape="rect" href="affichage_8h.html" title="Fichier d&#39;en&#45;tête pour la gestion de l&#39;affichage dans le jeu." alt="" coords="295,123,438,192"/>
<area shape="poly" title=" " alt="" coords="597,75,439,132,438,127,595,70"/>
<area shape="rect" href="main_8c.html" title="fichier contenant la fonctions principale" alt="" coords="166,475,309,544"/>
<area shape="poly" title=" " alt="" coords="595,55,449,81,366,101,285,125,210,146,149,162,122,172,97,188,72,210,48,241,20,290,12,312,9,333,9,355,14,377,38,425,64,453,96,473,132,487,167,497,165,502,130,493,94,478,61,457,34,428,9,379,4,356,3,333,7,310,15,287,43,239,68,207,93,184,120,168,147,156,208,141,283,120,365,96,448,76,594,50"/>
<area shape="rect" href="pointDePassage_8c.html" title="Fichier contenant les fonctions de gestion des points de passage, de soin des Mechas,..." alt="" coords="666,475,809,544"/>
<area shape="poly" title=" " alt="" coords="689,88,736,474,731,474,683,89"/>
<area shape="rect" href="combat_8c.html" title="fichier contenant la fonctions de combat" alt="" coords="769,123,911,192"/>
<area shape="poly" title=" " alt="" coords="739,81,795,120,792,124,736,85"/>
<area shape="rect" href="menu_8h.html" title="Gestion des menus et des interfaces utilisateur." alt="" coords="129,240,271,309"/>
<area shape="poly" title=" " alt="" coords="308,202,251,242,248,237,305,198"/>
<area shape="rect" href="affichage_8c.html" title="fichier contenant la fonctions d&#39;affichage utilisant la librérie de SDL" alt="" coords="333,475,475,544"/>
<area shape="poly" title=" " alt="" coords="426,200,441,218,453,239,463,275,461,292,453,311,438,328,420,336,403,343,389,359,381,387,380,418,385,447,393,474,388,475,380,448,375,418,375,386,384,356,400,339,418,331,435,324,449,308,456,290,458,275,448,241,437,221,422,203"/>
<area shape="poly" title=" " alt="" coords="282,166,236,175,187,189,141,211,101,242,65,286,53,308,46,330,43,352,46,375,54,400,68,425,87,448,112,466,139,480,167,491,165,496,137,485,109,471,84,452,63,428,49,402,41,376,38,352,41,329,48,306,60,283,97,238,138,206,185,184,234,169,281,161"/>
<area shape="rect" href="player_8c.html" title="fichier contenant les fonctions de déplacement" alt="" coords="499,475,642,544"/>
<area shape="poly" title=" " alt="" coords="440,197,481,227,522,264,558,307,585,356,593,387,594,419,584,475,579,474,588,418,588,388,580,358,554,310,518,267,477,231,437,202"/>
<area shape="rect" href="menu_8c.html" title="Fichier contenant les fonctions liées à l&#39;affichage et la gestion du menu principal et des sous&#45;menus..." alt="" coords="78,357,221,427"/>
<area shape="poly" title=" " alt="" coords="282,164,238,172,193,187,152,209,118,241,108,269,109,299,118,329,130,356,126,358,113,331,103,300,102,268,114,239,148,205,191,182,237,167,282,159"/>
<area shape="rect" href="player_8h.html" title="Gestion du joueur dans le jeu." alt="" coords="295,240,438,309"/>
<area shape="poly" title=" " alt="" coords="361,206,361,240,356,240,355,206"/>
<area shape="rect" href="pointDePassage_8h.html" title="Gestion des points de passage et événements du jeu." alt="" coords="398,357,541,427"/>
<area shape="poly" title=" " alt="" coords="285,309,399,358,397,363,283,314"/>
<area shape="poly" title=" " alt="" coords="224,322,235,357,242,419,242,474,237,474,237,419,230,358,219,323"/>
<area shape="poly" title=" " alt="" coords="182,323,167,358,162,356,177,321"/>
<area shape="poly" title=" " alt="" coords="494,344,658,73,662,76,499,347"/>
<area shape="poly" title=" " alt="" coords="446,440,426,476,421,473,441,437"/>
<area shape="poly" title=" " alt="" coords="391,435,306,477,304,472,389,430"/>
<area shape="poly" title=" " alt="" coords="510,435,543,473,539,476,506,439"/>
<area shape="poly" title=" " alt="" coords="555,427,667,475,665,480,552,432"/>
<area shape="poly" title=" " alt="" coords="373,226,372,192,378,192,378,226"/>
<area shape="poly" title=" " alt="" coords="344,323,258,476,254,473,339,320"/>
<area shape="poly" title=" " alt="" coords="453,290,509,315,534,333,556,356,571,384,578,416,579,475,573,475,573,417,566,386,551,359,531,337,506,319,450,295"/>
</map>
</div>
</div>
<p><a href="combat_8h_source.html">Aller au code source de ce fichier.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Fonctions</h2></td></tr>
<tr class="memitem:a30cb93b663d557e0e81271f956c24379" id="r_a30cb93b663d557e0e81271f956c24379"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="combat_8h.html#a30cb93b663d557e0e81271f956c24379">aff_mechas_combat</a> (<a class="el" href="structjoueur__t.html">joueur_t</a> *joueur)</td></tr>
<tr class="memdesc:a30cb93b663d557e0e81271f956c24379"><td class="mdescLeft">&#160;</td><td class="mdescRight">Affiche l'interface de sélection du Mecha du joueur durant un combat.  <br /></td></tr>
<tr class="separator:a30cb93b663d557e0e81271f956c24379"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a159b2a6408c605d1fc9432689f92e3cb" id="r_a159b2a6408c605d1fc9432689f92e3cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="combat_8h.html#a159b2a6408c605d1fc9432689f92e3cb">draw_combat</a> (<a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *mecha_joueur, <a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *mecha_ordi)</td></tr>
<tr class="memdesc:a159b2a6408c605d1fc9432689f92e3cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Affiche à l'écran tous les éléments graphiques d'un combat entre deux Mechas.  <br /></td></tr>
<tr class="separator:a159b2a6408c605d1fc9432689f92e3cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9469ab4f84b56a27ef05848c4a78cb9" id="r_ab9469ab4f84b56a27ef05848c4a78cb9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="combat_8h.html#ab9469ab4f84b56a27ef05848c4a78cb9">animation_degat</a> (int mecha_att, int pv_old, int pv_new, <a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *mecha_joueur, <a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *mecha_ordi)</td></tr>
<tr class="memdesc:ab9469ab4f84b56a27ef05848c4a78cb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Anime visuellement la diminution progressive des PV d'un Mecha durant un combat.  <br /></td></tr>
<tr class="separator:ab9469ab4f84b56a27ef05848c4a78cb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f2daafca6455a03963db8f32d8a8d10" id="r_a7f2daafca6455a03963db8f32d8a8d10"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="combat_8h.html#a7f2daafca6455a03963db8f32d8a8d10">utilisation_carburant</a> (<a class="el" href="structjoueur__t.html">joueur_t</a> *joueur, <a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *ordi, int *actif)</td></tr>
<tr class="memdesc:a7f2daafca6455a03963db8f32d8a8d10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gère l'utilisation d'un objet "carburant" durant un combat.  <br /></td></tr>
<tr class="separator:a7f2daafca6455a03963db8f32d8a8d10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afff6b8b516af5c46c938f407788d1b5f" id="r_afff6b8b516af5c46c938f407788d1b5f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="combat_8h.html#afff6b8b516af5c46c938f407788d1b5f">utilisation_rappel</a> (<a class="el" href="structjoueur__t.html">joueur_t</a> *joueur, <a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *ordi, int *actif)</td></tr>
<tr class="memdesc:afff6b8b516af5c46c938f407788d1b5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gère l'utilisation d'un objet "rappel" durant un combat.  <br /></td></tr>
<tr class="separator:afff6b8b516af5c46c938f407788d1b5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53bf2250ba00b21dceed166fa59bd150" id="r_a53bf2250ba00b21dceed166fa59bd150"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="combat_8h.html#a53bf2250ba00b21dceed166fa59bd150">utilisation_mechaball</a> (<a class="el" href="structjoueur__t.html">joueur_t</a> *joueur, <a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *ordi, int *actif)</td></tr>
<tr class="memdesc:a53bf2250ba00b21dceed166fa59bd150"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gère l'utilisation d'une "mechaball" pour capturer un Mecha adverse durant un combat.  <br /></td></tr>
<tr class="separator:a53bf2250ba00b21dceed166fa59bd150"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae82c6dcf76c1412964511d71b75c637e" id="r_ae82c6dcf76c1412964511d71b75c637e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="combat_8h.html#ae82c6dcf76c1412964511d71b75c637e">utilisation_objet</a> (<a class="el" href="structjoueur__t.html">joueur_t</a> *joueur, <a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *ordi, int *actif, int type_combat)</td></tr>
<tr class="memdesc:ae82c6dcf76c1412964511d71b75c637e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Affiche l'interface d'utilisation d'objets pendant un combat.  <br /></td></tr>
<tr class="separator:ae82c6dcf76c1412964511d71b75c637e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16e4593cbfaef36a7cc088aa6bef48c0" id="r_a16e4593cbfaef36a7cc088aa6bef48c0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="combat_8h.html#a16e4593cbfaef36a7cc088aa6bef48c0">changer_mecha</a> (<a class="el" href="structjoueur__t.html">joueur_t</a> *joueur, int *actif, <a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *ordi)</td></tr>
<tr class="memdesc:a16e4593cbfaef36a7cc088aa6bef48c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Permet au joueur de changer le Mecha actif pendant un combat.  <br /></td></tr>
<tr class="separator:a16e4593cbfaef36a7cc088aa6bef48c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c19b3bf83d09e9fb4b596cd4ff45219" id="r_a8c19b3bf83d09e9fb4b596cd4ff45219"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="combat_8h.html#a8c19b3bf83d09e9fb4b596cd4ff45219">algo_attaque</a> (int choix, <a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *mecha_att, <a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *mecha_def, int mecha_choix)</td></tr>
<tr class="memdesc:a8c19b3bf83d09e9fb4b596cd4ff45219"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calcule et applique les effets d'une attaque lors d'un combat entre deux Mechas.  <br /></td></tr>
<tr class="separator:a8c19b3bf83d09e9fb4b596cd4ff45219"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeabe45f0372840462d595a801345672b" id="r_aeabe45f0372840462d595a801345672b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="combat_8h.html#aeabe45f0372840462d595a801345672b">attaque_joueur</a> (<a class="el" href="structjoueur__t.html">joueur_t</a> *j, <a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *mecha_ordi, int *actif)</td></tr>
<tr class="memdesc:aeabe45f0372840462d595a801345672b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Affiche l'interface permettant au joueur de choisir et effectuer une attaque durant un combat.  <br /></td></tr>
<tr class="separator:aeabe45f0372840462d595a801345672b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6ceced0c9217ccb31c1400649cfd67c" id="r_ac6ceced0c9217ccb31c1400649cfd67c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="combat_8h.html#ac6ceced0c9217ccb31c1400649cfd67c">attaque_ordi_sauvage</a> (<a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *mecha_ordi, <a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *mecha_joueur)</td></tr>
<tr class="memdesc:ac6ceced0c9217ccb31c1400649cfd67c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gère l'attaque aléatoire d'un Mecha sauvage durant un combat contre le joueur.  <br /></td></tr>
<tr class="separator:ac6ceced0c9217ccb31c1400649cfd67c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5491a6cd3adeb619da6eb84e6d888e7a" id="r_a5491a6cd3adeb619da6eb84e6d888e7a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="combat_8h.html#a5491a6cd3adeb619da6eb84e6d888e7a">attaque_ordi_pnj</a> (<a class="el" href="structpnj__t.html">pnj_t</a> *pnj, <a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *mecha_joueur, int *actif)</td></tr>
<tr class="memdesc:a5491a6cd3adeb619da6eb84e6d888e7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gère les actions automatiques d'un PNJ (personnage non-joueur) lors d'un combat contre le joueur.  <br /></td></tr>
<tr class="separator:a5491a6cd3adeb619da6eb84e6d888e7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c18ce2957ca72f56737d0082766ad63" id="r_a3c18ce2957ca72f56737d0082766ad63"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="combat_8h.html#a3c18ce2957ca72f56737d0082766ad63">tour_joueur</a> (<a class="el" href="structjoueur__t.html">joueur_t</a> *joueur, <a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *mecha_sauvage, int *actif, int type_combat)</td></tr>
<tr class="memdesc:a3c18ce2957ca72f56737d0082766ad63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gère le tour du joueur lors d'un combat contre un Mécha sauvage ou un PNJ.  <br /></td></tr>
<tr class="separator:a3c18ce2957ca72f56737d0082766ad63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae03e9f733803425a6c1dcb7b81c8234e" id="r_ae03e9f733803425a6c1dcb7b81c8234e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="combat_8h.html#ae03e9f733803425a6c1dcb7b81c8234e">combat_sauvage</a> (<a class="el" href="structjoueur__t.html">joueur_t</a> *joueur, <a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *mecha_sauvage)</td></tr>
<tr class="memdesc:ae03e9f733803425a6c1dcb7b81c8234e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gère un combat entre le joueur et un Mécha sauvage.  <br /></td></tr>
<tr class="separator:ae03e9f733803425a6c1dcb7b81c8234e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af35e79d0f311c06fb1fe44ce8bb34ca4" id="r_af35e79d0f311c06fb1fe44ce8bb34ca4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="combat_8h.html#af35e79d0f311c06fb1fe44ce8bb34ca4">apprentissage_attaque</a> (<a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *mecha_joueur, <a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *mecha_ordi)</td></tr>
<tr class="memdesc:af35e79d0f311c06fb1fe44ce8bb34ca4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gère l'apprentissage d'une nouvelle attaque par un Mecha lors d'un changement de niveau.  <br /></td></tr>
<tr class="separator:af35e79d0f311c06fb1fe44ce8bb34ca4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2de6c3e2a52edcf450da90005d5fad1d" id="r_a2de6c3e2a52edcf450da90005d5fad1d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="combat_8h.html#a2de6c3e2a52edcf450da90005d5fad1d">level_mechas</a> (<a class="el" href="structjoueur__t.html">joueur_t</a> *mechas_presents, <a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *mecha_ordi)</td></tr>
<tr class="memdesc:a2de6c3e2a52edcf450da90005d5fad1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calcule et distribue les points d'expérience (XP) aux Méchas du joueur après avoir vaincu un Mécha adverse.  <br /></td></tr>
<tr class="separator:a2de6c3e2a52edcf450da90005d5fad1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe15b54290598e06032e0c418f626461" id="r_afe15b54290598e06032e0c418f626461"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="combat_8h.html#afe15b54290598e06032e0c418f626461">evolution_mechas</a> (<a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *mecha_joueur, <a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *mecha_ordi)</td></tr>
<tr class="memdesc:afe15b54290598e06032e0c418f626461"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gère l'évolution d'un Mecha joueur lorsqu'il atteint le niveau requis.  <br /></td></tr>
<tr class="separator:afe15b54290598e06032e0c418f626461"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec838d58a7def8717d7fcd0faab3a107" id="r_aec838d58a7def8717d7fcd0faab3a107"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="combat_8h.html#aec838d58a7def8717d7fcd0faab3a107">montee_niveau</a> (<a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *mecha, <a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *mecha_ordi, int xp_partage, int lvlup)</td></tr>
<tr class="memdesc:aec838d58a7def8717d7fcd0faab3a107"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gère la montée en niveau d'un Mecha joueur après avoir reçu des points d'expérience (XP).  <br /></td></tr>
<tr class="separator:aec838d58a7def8717d7fcd0faab3a107"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6fcdad743dc3526b2b89a1630618a07" id="r_ac6fcdad743dc3526b2b89a1630618a07"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="combat_8h.html#ac6fcdad743dc3526b2b89a1630618a07">distribuer_xp</a> (<a class="el" href="structjoueur__t.html">joueur_t</a> *mechas_presents, <a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *mecha_ordi, int xp_gagne)</td></tr>
<tr class="memdesc:ac6fcdad743dc3526b2b89a1630618a07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Distribue les points d'expérience (XP) gagnés lors d'un combat à un ensemble de Méchas ayant participé.  <br /></td></tr>
<tr class="separator:ac6fcdad743dc3526b2b89a1630618a07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03ca199547656caabf8e81d769b770e4" id="r_a03ca199547656caabf8e81d769b770e4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="combat_8h.html#a03ca199547656caabf8e81d769b770e4">combat_pnj</a> (<a class="el" href="structjoueur__t.html">joueur_t</a> *joueur, <a class="el" href="structpnj__t.html">pnj_t</a> *pnj)</td></tr>
<tr class="memdesc:a03ca199547656caabf8e81d769b770e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gère un combat complet entre le joueur et un PNJ.  <br /></td></tr>
<tr class="separator:a03ca199547656caabf8e81d769b770e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Description détaillée</h2>
<div class="textblock"><p>Gestion des combats dans le jeu. </p>
<p>Ce fichier contient les déclarations des fonctions permettant de gérer les combats, l'utilisation d'objets et l'évolution des mechas. </p>
</div><h2 class="groupheader">Documentation des fonctions</h2>
<a id="a30cb93b663d557e0e81271f956c24379" name="a30cb93b663d557e0e81271f956c24379"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30cb93b663d557e0e81271f956c24379">&#9670;&#160;</a></span>aff_mechas_combat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int aff_mechas_combat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjoueur__t.html">joueur_t</a> *&#160;</td>
          <td class="paramname"><em>joueur</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Affiche l'interface de sélection du Mecha du joueur durant un combat. </p>
<p>Cette fonction permet au joueur de sélectionner visuellement un Mecha parmi les quatre disponibles dans son équipe, ou bien de revenir au menu précédent (option "Retour"). Elle affiche les Mechas disponibles avec leurs informations clés (nom, niveau, PV) sous forme de rectangles interactifs, ainsi qu'un bouton retour.</p>
<p>La sélection est réalisée via les touches directionnelles (gauche/droite), et validée avec la touche <code>A</code>.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">joueur</td><td>Pointeur vers la structure du joueur contenant l'équipe de Mechas à afficher.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>int<ul>
<li>L'indice du Mecha sélectionné (0 à 3) si la sélection est validée.</li>
<li><code>KO</code> si le joueur choisit l'option "Retour".</li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Précondition</dt><dd>Le renderer SDL (<code>game.renderer</code>), les textures des Mechas, ainsi que les structures du joueur doivent être initialisés.</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Le Mecha sélectionné est prêt à être utilisé dans le combat, ou la fonction retourne au menu précédent.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Cette fonction bloque l'exécution en attendant que l'utilisateur effectue une sélection.</dd></dl>
<dl class="section warning"><dt>Avertissement</dt><dd>Les informations des Mechas doivent être valides pour éviter les erreurs d'affichage. Assure-toi également que les constantes globales comme <code>FRAME_DELAYS</code> sont correctement définies. </dd></dl>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_a30cb93b663d557e0e81271f956c24379_cgraph.png" border="0" usemap="#acombat_8h_a30cb93b663d557e0e81271f956c24379_cgraph" alt=""/></div>
<map name="acombat_8h_a30cb93b663d557e0e81271f956c24379_cgraph" id="acombat_8h_a30cb93b663d557e0e81271f956c24379_cgraph">
<area shape="rect" title="Affiche l&#39;interface de sélection du Mecha du joueur durant un combat." alt="" coords="5,104,145,129"/>
<area shape="rect" href="affichage_8c.html#afc970416ff2ee1d9f8351a288625f23a" title="Concatène un entier à la fin d&#39;une chaîne de caractères." alt="" coords="225,5,286,31"/>
<area shape="poly" title=" " alt="" coords="93,102,137,72,192,40,211,31,213,36,195,44,140,76,96,106"/>
<area shape="rect" href="affichage_8c.html#a7290dad76779d8dd7f48366a16812be8" title="Initialise un rectangle avec ses dimensions, sa couleur et un texte optionnel." alt="" coords="200,55,311,80"/>
<area shape="poly" title=" " alt="" coords="122,101,194,81,195,86,123,107"/>
<area shape="rect" href="affichage_8c.html#a4f7e45e8554e8971bdba352cf9838405" title="Dessine plusieurs rectangles avec leurs textes centrés." alt="" coords="206,104,305,129"/>
<area shape="poly" title=" " alt="" coords="146,114,192,114,192,119,146,119"/>
<area shape="rect" href="affichage_8c.html#a3d385ca0396c4c2b3001371505a410e4" title="Affiche l&#39;arrière&#45;plan (background) actuel du jeu." alt="" coords="193,153,317,179"/>
<area shape="poly" title=" " alt="" coords="123,127,195,147,194,152,122,132"/>
<area shape="rect" href="affichage_8c.html#ae63215d67a18f635b3a1c2e1464a0a6f" title="Dessine un Mécha à l&#39;écran avec la texture correspondant à son orientation." alt="" coords="207,203,303,228"/>
<area shape="poly" title=" " alt="" coords="97,127,141,156,195,188,209,195,207,200,192,192,138,161,94,132"/>
<area shape="rect" href="affichage_8c.html#ab542b24175a0231f8530346fc8ab790f" title="Dessine un rectangle coloré et son texte associé si présent." alt="" coords="387,80,466,105"/>
<area shape="poly" title=" " alt="" coords="305,107,373,97,374,103,305,112"/>
<area shape="rect" href="affichage_8c.html#a390da1c2cd15fd5355de26bd34b3d3dc" title="Dessine du texte centré dans un rectangle, ligne par ligne si nécessaire." alt="" coords="365,129,488,155"/>
<area shape="poly" title=" " alt="" coords="305,121,352,128,351,134,305,127"/>
</map>
</div>
<div class="dynheader">
Voici le graphe des appelants de cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_a30cb93b663d557e0e81271f956c24379_icgraph.png" border="0" usemap="#acombat_8h_a30cb93b663d557e0e81271f956c24379_icgraph" alt=""/></div>
<map name="acombat_8h_a30cb93b663d557e0e81271f956c24379_icgraph" id="acombat_8h_a30cb93b663d557e0e81271f956c24379_icgraph">
<area shape="rect" title="Affiche l&#39;interface de sélection du Mecha du joueur durant un combat." alt="" coords="861,81,1001,107"/>
<area shape="rect" href="affichage_8c.html#af70cd65063ba7719d712c57fcce296a3" title="Affiche le PC du joueur permettant de gérer et échanger les Méchas capturés." alt="" coords="696,5,792,31"/>
<area shape="poly" title=" " alt="" coords="885,78,775,33,777,28,887,74"/>
<area shape="rect" href="combat_8c.html#a16e4593cbfaef36a7cc088aa6bef48c0" title="Permet au joueur de changer le Mecha actif pendant un combat." alt="" coords="512,56,627,81"/>
<area shape="poly" title=" " alt="" coords="847,91,627,75,627,70,848,86"/>
<area shape="rect" href="combat_8c.html#a7f2daafca6455a03963db8f32d8a8d10" title="Gère l&#39;utilisation d&#39;un objet &quot;carburant&quot; durant un combat." alt="" coords="675,107,813,132"/>
<area shape="poly" title=" " alt="" coords="848,108,814,113,813,107,848,103"/>
<area shape="rect" href="combat_8c.html#afff6b8b516af5c46c938f407788d1b5f" title="Gère l&#39;utilisation d&#39;un objet &quot;rappel&quot; durant un combat." alt="" coords="685,156,803,181"/>
<area shape="poly" title=" " alt="" coords="891,115,814,147,784,158,782,153,812,142,889,110"/>
<area shape="rect" href="combat_8c.html#a03ca199547656caabf8e81d769b770e4" title="Gère un combat complet entre le joueur et un PNJ." alt="" coords="224,81,313,107"/>
<area shape="poly" title=" " alt="" coords="499,77,314,93,313,88,498,72"/>
<area shape="rect" href="combat_8c.html#ae03e9f733803425a6c1dcb7b81c8234e" title="Gère un combat entre le joueur et un Mécha sauvage." alt="" coords="208,19,329,44"/>
<area shape="poly" title=" " alt="" coords="498,63,329,41,330,36,499,57"/>
<area shape="rect" href="combat_8c.html#a3c18ce2957ca72f56737d0082766ad63" title="Gère le tour du joueur lors d&#39;un combat contre un Mécha sauvage ou un PNJ." alt="" coords="377,107,464,132"/>
<area shape="poly" title=" " alt="" coords="519,88,460,109,458,104,517,83"/>
<area shape="rect" href="pointDePassage_8c.html#ade398b595e60d698c8c259edf2f8252a" title="Gère les interactions finales avec les PNJs &quot;Vin Gazole&quot; et &quot;Iron Musk&quot;, incluant dialogues,..." alt="" coords="35,56,131,81"/>
<area shape="poly" title=" " alt="" coords="210,89,131,78,131,73,211,84"/>
<area shape="rect" href="pointDePassage_8c.html#a9ed15a581ba87d71ad2d85b8649075da" title="Gère l&#39;interaction du joueur avec les PNJs &quot;Vin Gazole 2&quot; et &quot;Iron Musk&quot;, incluant dialogues,..." alt="" coords="5,105,160,131"/>
<area shape="poly" title=" " alt="" coords="211,104,160,111,160,105,210,99"/>
<area shape="poly" title=" " alt="" coords="363,112,313,104,314,99,364,107"/>
<area shape="poly" title=" " alt="" coords="384,102,290,46,293,42,387,97"/>
<area shape="rect" href="combat_8c.html#ae82c6dcf76c1412964511d71b75c637e" title="Affiche l&#39;interface d&#39;utilisation d&#39;objets pendant un combat." alt="" coords="513,107,625,132"/>
<area shape="poly" title=" " alt="" coords="661,122,626,122,626,117,661,117"/>
<area shape="poly" title=" " alt="" coords="500,122,464,122,464,117,500,117"/>
<area shape="poly" title=" " alt="" coords="685,155,615,135,616,130,686,150"/>
</map>
</div>

</div>
</div>
<a id="a8c19b3bf83d09e9fb4b596cd4ff45219" name="a8c19b3bf83d09e9fb4b596cd4ff45219"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c19b3bf83d09e9fb4b596cd4ff45219">&#9670;&#160;</a></span>algo_attaque()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int algo_attaque </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>choix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *&#160;</td>
          <td class="paramname"><em>mecha_att</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *&#160;</td>
          <td class="paramname"><em>mecha_def</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mecha_choix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calcule et applique les effets d'une attaque lors d'un combat entre deux Mechas. </p>
<p>Cette fonction gère le calcul des dégâts infligés par un Mecha attaquant à un Mecha défenseur en tenant compte :</p><ul>
<li>De l'attaque choisie (attaque_1 ou attaque_2).</li>
<li>De la précision de l'attaque.</li>
<li>Des affinités de types entre l'attaque et le Mecha défenseur.</li>
<li>Des statistiques (attaque et défense) des deux Mechas impliqués.</li>
</ul>
<p>En cas de succès, les dégâts sont calculés, et une animation de perte de PV est jouée. La fonction affiche également des dialogues informatifs sur les actions réalisées et leur résultat (échec ou succès de l'attaque).</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">choix</td><td>Indice de l'attaque choisie par le joueur (0 pour attaque_1, 1 pour attaque_2, 2 pour passer le tour). </td></tr>
    <tr><td class="paramname">mecha_att</td><td>Pointeur vers la structure du Mecha attaquant. </td></tr>
    <tr><td class="paramname">mecha_def</td><td>Pointeur vers la structure du Mecha défenseur. </td></tr>
    <tr><td class="paramname">mecha_choix</td><td>Indicateur du Mecha attaquant (1 si joueur attaque, 0 si adversaire attaque).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>int<ul>
<li><code>OK</code> : Attaque exécutée avec succès.</li>
<li><code>KO</code> : Impossible d'exécuter l'attaque (plus d'utilisations disponibles).</li>
<li><code>0</code> : Action spéciale "passer son tour", aucune action réalisée.</li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Précondition</dt><dd>Les structures des Mechas et les tableaux globaux des attaques doivent être initialisés correctement.</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>La fonction modifie les PV du Mecha défenseur et réduit le compteur d'utilisation de l'attaque effectuée.</dd></dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>L'efficacité des attaques dépend des types :<ul>
<li>"Carburant" efficace contre "Électrique"</li>
<li>"Électrique" efficace contre "Renouvelable"</li>
<li>"Renouvelable" efficace contre "Carburant"</li>
<li>"Uranium" inflige des dégâts légèrement supérieurs contre tous les types sauf lui-même.</li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="section warning"><dt>Avertissement</dt><dd>La fonction ne vérifie pas si les Mechas sont déjà KO avant de calculer les dégâts ; cela doit être géré en amont.</dd></dl>
<dl class="section see"><dt>Voir également</dt><dd><a class="el" href="combat_8c.html#ab9469ab4f84b56a27ef05848c4a78cb9" title="Anime visuellement la diminution progressive des PV d&#39;un Mecha durant un combat.">animation_degat()</a> pour l'affichage animé de la perte de PV. </dd></dl>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_a8c19b3bf83d09e9fb4b596cd4ff45219_cgraph.png" border="0" usemap="#acombat_8h_a8c19b3bf83d09e9fb4b596cd4ff45219_cgraph" alt=""/></div>
<map name="acombat_8h_a8c19b3bf83d09e9fb4b596cd4ff45219_cgraph" id="acombat_8h_a8c19b3bf83d09e9fb4b596cd4ff45219_cgraph">
<area shape="rect" title="Calcule et applique les effets d&#39;une attaque lors d&#39;un combat entre deux Mechas." alt="" coords="5,207,101,233"/>
<area shape="rect" href="affichage_8c.html#a1091893e7df87a967b878919b232b0d5" title="Affiche un dialogue interactif durant un combat entre deux Méchas." alt="" coords="149,231,320,257"/>
<area shape="poly" title=" " alt="" coords="102,224,136,228,135,234,101,229"/>
<area shape="rect" href="combat_8c.html#ab9469ab4f84b56a27ef05848c4a78cb9" title="Anime visuellement la diminution progressive des PV d&#39;un Mecha durant un combat." alt="" coords="176,182,293,207"/>
<area shape="poly" title=" " alt="" coords="101,211,162,202,163,207,102,216"/>
<area shape="rect" href="affichage_8c.html#a7290dad76779d8dd7f48366a16812be8" title="Initialise un rectangle avec ses dimensions, sa couleur et un texte optionnel." alt="" coords="572,282,683,307"/>
<area shape="poly" title=" " alt="" coords="297,254,368,267,559,287,558,293,368,272,296,260"/>
<area shape="rect" href="combat_8c.html#a159b2a6408c605d1fc9432689f92e3cb" title="Affiche à l&#39;écran tous les éléments graphiques d&#39;un combat entre deux Mechas." alt="" coords="393,182,493,207"/>
<area shape="poly" title=" " alt="" coords="288,229,379,207,380,212,290,234"/>
<area shape="rect" href="affichage_8c.html#ab542b24175a0231f8530346fc8ab790f" title="Dessine un rectangle coloré et son texte associé si présent." alt="" coords="759,270,838,295"/>
<area shape="poly" title=" " alt="" coords="268,254,315,272,369,288,458,311,528,325,599,328,689,318,723,309,755,298,757,303,724,314,690,323,599,333,528,330,456,316,367,293,313,277,266,259"/>
<area shape="rect" href="affichage_8c.html#a390da1c2cd15fd5355de26bd34b3d3dc" title="Dessine du texte centré dans un rectangle, ligne par ligne si nécessaire." alt="" coords="737,195,860,221"/>
<area shape="poly" title=" " alt="" coords="294,229,319,218,334,207,343,195,366,169,417,120,457,81,501,48,564,20,599,9,629,3,658,6,691,20,712,36,731,55,761,98,781,143,794,181,788,183,776,145,756,101,727,58,709,40,688,25,656,11,629,9,601,14,566,25,504,53,460,85,421,124,370,173,347,199,337,211,321,222,297,234"/>
<area shape="rect" href="affichage_8c.html#ab54c358911a2ed823f20797846583531" title="Dessine un texte centré verticalement et aligné à gauche dans un rectangle." alt="" coords="368,231,517,257"/>
<area shape="poly" title=" " alt="" coords="320,241,354,241,354,247,320,247"/>
<area shape="poly" title=" " alt="" coords="493,205,519,218,534,231,544,244,553,256,567,269,576,274,573,278,564,273,549,260,539,247,530,235,516,222,491,210"/>
<area shape="rect" href="affichage_8c.html#afc970416ff2ee1d9f8351a288625f23a" title="Concatène un entier à la fin d&#39;une chaîne de caractères." alt="" coords="597,183,658,209"/>
<area shape="poly" title=" " alt="" coords="493,192,583,193,583,198,493,198"/>
<area shape="rect" href="affichage_8c.html#a4f7e45e8554e8971bdba352cf9838405" title="Dessine plusieurs rectangles avec leurs textes centrés." alt="" coords="578,233,677,258"/>
<area shape="poly" title=" " alt="" coords="491,205,568,226,566,232,489,210"/>
<area shape="rect" href="affichage_8c.html#a3d385ca0396c4c2b3001371505a410e4" title="Affiche l&#39;arrière&#45;plan (background) actuel du jeu." alt="" coords="565,35,689,61"/>
<area shape="poly" title=" " alt="" coords="452,180,497,129,529,98,564,71,575,64,578,69,567,76,532,102,501,132,456,184"/>
<area shape="rect" href="affichage_8c.html#ae63215d67a18f635b3a1c2e1464a0a6f" title="Dessine un Mécha à l&#39;écran avec la texture correspondant à son orientation." alt="" coords="579,85,675,110"/>
<area shape="poly" title=" " alt="" coords="462,180,564,120,579,113,581,118,567,125,465,184"/>
<area shape="rect" href="affichage_8c.html#ac0e780352c4ab1739b9e31be92740c2d" title="Dessine du texte à une position spécifique à l&#39;écran, avec gestion des retours à la ligne." alt="" coords="574,134,681,159"/>
<area shape="poly" title=" " alt="" coords="492,179,563,161,565,166,493,185"/>
<area shape="poly" title=" " alt="" coords="678,254,747,269,745,274,676,259"/>
<area shape="poly" title=" " alt="" coords="676,232,726,221,727,226,678,237"/>
<area shape="poly" title=" " alt="" coords="294,192,379,192,379,197,294,197"/>
</map>
</div>
<div class="dynheader">
Voici le graphe des appelants de cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_a8c19b3bf83d09e9fb4b596cd4ff45219_icgraph.png" border="0" usemap="#acombat_8h_a8c19b3bf83d09e9fb4b596cd4ff45219_icgraph" alt=""/></div>
<map name="acombat_8h_a8c19b3bf83d09e9fb4b596cd4ff45219_icgraph" id="acombat_8h_a8c19b3bf83d09e9fb4b596cd4ff45219_icgraph">
<area shape="rect" title="Calcule et applique les effets d&#39;une attaque lors d&#39;un combat entre deux Mechas." alt="" coords="740,56,836,81"/>
<area shape="rect" href="combat_8c.html#aeabe45f0372840462d595a801345672b" title="Affiche l&#39;interface permettant au joueur de choisir et effectuer une attaque durant un combat." alt="" coords="564,56,671,81"/>
<area shape="poly" title=" " alt="" coords="726,71,671,71,671,66,726,66"/>
<area shape="rect" href="combat_8c.html#a5491a6cd3adeb619da6eb84e6d888e7a" title="Gère les actions automatiques d&#39;un PNJ (personnage non&#45;joueur) lors d&#39;un combat contre le joueur." alt="" coords="377,5,495,31"/>
<area shape="poly" title=" " alt="" coords="729,55,692,47,587,33,495,24,495,19,588,27,692,42,730,50"/>
<area shape="rect" href="combat_8c.html#ac6ceced0c9217ccb31c1400649cfd67c" title="Gère l&#39;attaque aléatoire d&#39;un Mecha sauvage durant un combat contre le joueur." alt="" coords="543,105,692,131"/>
<area shape="poly" title=" " alt="" coords="731,88,663,108,662,103,729,83"/>
<area shape="rect" href="combat_8c.html#a3c18ce2957ca72f56737d0082766ad63" title="Gère le tour du joueur lors d&#39;un combat contre un Mécha sauvage ou un PNJ." alt="" coords="393,55,479,80"/>
<area shape="poly" title=" " alt="" coords="550,71,480,70,480,65,550,66"/>
<area shape="rect" href="combat_8c.html#a03ca199547656caabf8e81d769b770e4" title="Gère un combat complet entre le joueur et un PNJ." alt="" coords="224,31,313,56"/>
<area shape="poly" title=" " alt="" coords="378,62,313,52,314,47,379,57"/>
<area shape="rect" href="combat_8c.html#ae03e9f733803425a6c1dcb7b81c8234e" title="Gère un combat entre le joueur et un Mécha sauvage." alt="" coords="208,80,329,105"/>
<area shape="poly" title=" " alt="" coords="379,79,330,86,329,81,378,73"/>
<area shape="rect" href="pointDePassage_8c.html#ade398b595e60d698c8c259edf2f8252a" title="Gère les interactions finales avec les PNJs &quot;Vin Gazole&quot; et &quot;Iron Musk&quot;, incluant dialogues,..." alt="" coords="35,5,131,31"/>
<area shape="poly" title=" " alt="" coords="210,38,131,27,131,22,211,33"/>
<area shape="rect" href="pointDePassage_8c.html#a9ed15a581ba87d71ad2d85b8649075da" title="Gère l&#39;interaction du joueur avec les PNJs &quot;Vin Gazole 2&quot; et &quot;Iron Musk&quot;, incluant dialogues,..." alt="" coords="5,55,160,80"/>
<area shape="poly" title=" " alt="" coords="211,53,160,60,160,55,210,48"/>
<area shape="poly" title=" " alt="" coords="364,32,314,39,313,34,363,26"/>
<area shape="poly" title=" " alt="" coords="529,114,329,100,330,94,529,109"/>
</map>
</div>

</div>
</div>
<a id="ab9469ab4f84b56a27ef05848c4a78cb9" name="ab9469ab4f84b56a27ef05848c4a78cb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9469ab4f84b56a27ef05848c4a78cb9">&#9670;&#160;</a></span>animation_degat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void animation_degat </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mecha_att</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pv_old</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pv_new</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *&#160;</td>
          <td class="paramname"><em>mecha_joueur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *&#160;</td>
          <td class="paramname"><em>mecha_ordi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Anime visuellement la diminution progressive des PV d'un Mecha durant un combat. </p>
<p>Cette fonction génère une animation fluide montrant la baisse progressive des points de vie (PV) après une attaque réussie. Elle ajuste dynamiquement la vitesse de l'animation en fonction des dégâts subis et limite sa durée maximale à 2 secondes pour maintenir le rythme du combat.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">mecha_att</td><td>Indique quel Mecha reçoit les dégâts :<ul>
<li><code>0</code> pour le Mecha du joueur.</li>
<li><code>1</code> pour le Mecha adverse contrôlé par l'ordinateur. </li>
</ul>
</td></tr>
    <tr><td class="paramname">pv_old</td><td>Valeur initiale des PV avant les dégâts. </td></tr>
    <tr><td class="paramname">pv_new</td><td>Valeur finale des PV après les dégâts. </td></tr>
    <tr><td class="paramname">mecha_joueur</td><td>Pointeur vers le Mecha du joueur en combat. </td></tr>
    <tr><td class="paramname">mecha_ordi</td><td>Pointeur vers le Mecha adverse contrôlé par l'ordinateur.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Précondition</dt><dd>Les ressources graphiques (<code>game.renderer</code>, <code>mecha[]</code>, textures, etc.) doivent être chargées et initialisées avant l'appel.</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Le Mecha concerné affiche la nouvelle valeur de PV, avec une animation fluide entre les deux états.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>La durée maximale de l'animation est limitée à 2 secondes pour éviter une attente excessive.</dd></dl>
<dl class="section warning"><dt>Avertissement</dt><dd>La fonction est bloquante pendant la durée de l'animation (utilise <code>SDL_Delay</code>). Elle doit donc être utilisée à bon escient pour préserver la fluidité générale du jeu. </dd></dl>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_ab9469ab4f84b56a27ef05848c4a78cb9_cgraph.png" border="0" usemap="#acombat_8h_ab9469ab4f84b56a27ef05848c4a78cb9_cgraph" alt=""/></div>
<map name="acombat_8h_ab9469ab4f84b56a27ef05848c4a78cb9_cgraph" id="acombat_8h_ab9469ab4f84b56a27ef05848c4a78cb9_cgraph">
<area shape="rect" title="Anime visuellement la diminution progressive des PV d&#39;un Mecha durant un combat." alt="" coords="5,129,123,155"/>
<area shape="rect" href="combat_8c.html#a159b2a6408c605d1fc9432689f92e3cb" title="Affiche à l&#39;écran tous les éléments graphiques d&#39;un combat entre deux Mechas." alt="" coords="171,129,271,155"/>
<area shape="poly" title=" " alt="" coords="123,139,157,139,157,145,123,145"/>
<area shape="rect" href="affichage_8c.html#afc970416ff2ee1d9f8351a288625f23a" title="Concatène un entier à la fin d&#39;une chaîne de caractères." alt="" coords="350,5,411,31"/>
<area shape="poly" title=" " alt="" coords="229,128,265,85,290,61,317,40,336,30,339,34,320,44,293,65,269,89,233,131"/>
<area shape="rect" href="affichage_8c.html#a7290dad76779d8dd7f48366a16812be8" title="Initialise un rectangle avec ses dimensions, sa couleur et un texte optionnel." alt="" coords="325,55,436,80"/>
<area shape="poly" title=" " alt="" coords="243,127,318,89,332,83,334,88,320,94,246,132"/>
<area shape="rect" href="affichage_8c.html#a4f7e45e8554e8971bdba352cf9838405" title="Dessine plusieurs rectangles avec leurs textes centrés." alt="" coords="331,104,430,129"/>
<area shape="poly" title=" " alt="" coords="270,131,317,124,318,129,271,137"/>
<area shape="rect" href="affichage_8c.html#a3d385ca0396c4c2b3001371505a410e4" title="Affiche l&#39;arrière&#45;plan (background) actuel du jeu." alt="" coords="319,153,443,179"/>
<area shape="poly" title=" " alt="" coords="271,147,305,152,304,157,271,152"/>
<area shape="rect" href="affichage_8c.html#ae63215d67a18f635b3a1c2e1464a0a6f" title="Dessine un Mécha à l&#39;écran avec la texture correspondant à son orientation." alt="" coords="333,203,429,228"/>
<area shape="poly" title=" " alt="" coords="248,152,320,188,336,195,334,200,318,192,245,157"/>
<area shape="rect" href="affichage_8c.html#ac0e780352c4ab1739b9e31be92740c2d" title="Dessine du texte à une position spécifique à l&#39;écran, avec gestion des retours à la ligne." alt="" coords="327,252,434,277"/>
<area shape="poly" title=" " alt="" coords="234,153,270,194,320,237,331,244,329,248,317,241,266,197,230,157"/>
<area shape="rect" href="affichage_8c.html#ab542b24175a0231f8530346fc8ab790f" title="Dessine un rectangle coloré et son texte associé si présent." alt="" coords="513,80,591,105"/>
<area shape="poly" title=" " alt="" coords="430,107,498,97,499,103,431,112"/>
<area shape="rect" href="affichage_8c.html#a390da1c2cd15fd5355de26bd34b3d3dc" title="Dessine du texte centré dans un rectangle, ligne par ligne si nécessaire." alt="" coords="491,129,613,155"/>
<area shape="poly" title=" " alt="" coords="431,121,477,128,476,134,430,127"/>
</map>
</div>
<div class="dynheader">
Voici le graphe des appelants de cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_ab9469ab4f84b56a27ef05848c4a78cb9_icgraph.png" border="0" usemap="#acombat_8h_ab9469ab4f84b56a27ef05848c4a78cb9_icgraph" alt=""/></div>
<map name="acombat_8h_ab9469ab4f84b56a27ef05848c4a78cb9_icgraph" id="acombat_8h_ab9469ab4f84b56a27ef05848c4a78cb9_icgraph">
<area shape="rect" title="Anime visuellement la diminution progressive des PV d&#39;un Mecha durant un combat." alt="" coords="884,56,1001,81"/>
<area shape="rect" href="combat_8c.html#a8c19b3bf83d09e9fb4b596cd4ff45219" title="Calcule et applique les effets d&#39;une attaque lors d&#39;un combat entre deux Mechas." alt="" coords="740,56,836,81"/>
<area shape="poly" title=" " alt="" coords="870,71,836,71,836,66,870,66"/>
<area shape="rect" href="combat_8c.html#aeabe45f0372840462d595a801345672b" title="Affiche l&#39;interface permettant au joueur de choisir et effectuer une attaque durant un combat." alt="" coords="564,56,671,81"/>
<area shape="poly" title=" " alt="" coords="726,71,671,71,671,66,726,66"/>
<area shape="rect" href="combat_8c.html#a5491a6cd3adeb619da6eb84e6d888e7a" title="Gère les actions automatiques d&#39;un PNJ (personnage non&#45;joueur) lors d&#39;un combat contre le joueur." alt="" coords="377,5,495,31"/>
<area shape="poly" title=" " alt="" coords="729,55,692,47,587,33,495,24,495,19,588,27,692,42,730,50"/>
<area shape="rect" href="combat_8c.html#ac6ceced0c9217ccb31c1400649cfd67c" title="Gère l&#39;attaque aléatoire d&#39;un Mecha sauvage durant un combat contre le joueur." alt="" coords="543,105,692,131"/>
<area shape="poly" title=" " alt="" coords="731,88,663,108,662,103,729,83"/>
<area shape="rect" href="combat_8c.html#a3c18ce2957ca72f56737d0082766ad63" title="Gère le tour du joueur lors d&#39;un combat contre un Mécha sauvage ou un PNJ." alt="" coords="393,55,479,80"/>
<area shape="poly" title=" " alt="" coords="550,71,480,70,480,65,550,66"/>
<area shape="rect" href="combat_8c.html#a03ca199547656caabf8e81d769b770e4" title="Gère un combat complet entre le joueur et un PNJ." alt="" coords="224,31,313,56"/>
<area shape="poly" title=" " alt="" coords="378,62,313,52,314,47,379,57"/>
<area shape="rect" href="combat_8c.html#ae03e9f733803425a6c1dcb7b81c8234e" title="Gère un combat entre le joueur et un Mécha sauvage." alt="" coords="208,80,329,105"/>
<area shape="poly" title=" " alt="" coords="379,79,330,86,329,81,378,73"/>
<area shape="rect" href="pointDePassage_8c.html#ade398b595e60d698c8c259edf2f8252a" title="Gère les interactions finales avec les PNJs &quot;Vin Gazole&quot; et &quot;Iron Musk&quot;, incluant dialogues,..." alt="" coords="35,5,131,31"/>
<area shape="poly" title=" " alt="" coords="210,38,131,27,131,22,211,33"/>
<area shape="rect" href="pointDePassage_8c.html#a9ed15a581ba87d71ad2d85b8649075da" title="Gère l&#39;interaction du joueur avec les PNJs &quot;Vin Gazole 2&quot; et &quot;Iron Musk&quot;, incluant dialogues,..." alt="" coords="5,55,160,80"/>
<area shape="poly" title=" " alt="" coords="211,53,160,60,160,55,210,48"/>
<area shape="poly" title=" " alt="" coords="364,32,314,39,313,34,363,26"/>
<area shape="poly" title=" " alt="" coords="529,114,329,100,330,94,529,109"/>
</map>
</div>

</div>
</div>
<a id="af35e79d0f311c06fb1fe44ce8bb34ca4" name="af35e79d0f311c06fb1fe44ce8bb34ca4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af35e79d0f311c06fb1fe44ce8bb34ca4">&#9670;&#160;</a></span>apprentissage_attaque()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int apprentissage_attaque </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *&#160;</td>
          <td class="paramname"><em>mecha_joueur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *&#160;</td>
          <td class="paramname"><em>mecha_ordi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gère l'apprentissage d'une nouvelle attaque par un Mecha lors d'un changement de niveau. </p>
<p>Cette fonction vérifie si le Mecha joueur acquiert une nouvelle attaque lorsqu'il atteint un niveau précis. Si une nouvelle attaque est disponible au niveau actuel du Mecha, la fonction propose au joueur de remplacer une de ses deux attaques actuelles, ou bien de ne pas changer ses attaques.</p>
<p>Des messages informatifs sur l'attaque actuelle et les attaques disponibles sont affichés au joueur pour guider son choix.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">mecha_joueur</td><td>Pointeur vers le Mecha du joueur concerné par l'apprentissage. </td></tr>
    <tr><td class="paramname">mecha_ordi</td><td>Pointeur vers le Mecha adverse, utilisé uniquement pour l'affichage de dialogues.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>int<ul>
<li><code>OK</code> : L'apprentissage a été géré correctement (même si le joueur décide de ne pas changer d'attaque ou qu'aucune attaque n'est disponible).</li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Précondition</dt><dd>Le Mecha joueur doit avoir un niveau valide et cohérent avec les attaques définies dans le tableau <code>attaque</code> associé au type du Mecha.</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>L'attaque du Mecha joueur peut être modifiée en fonction du choix du joueur. Si une attaque est remplacée, son nombre d'utilisations est réinitialisé à la valeur par défaut de la nouvelle attaque.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Cette fonction utilise <code>afficher_dialogue_combat</code> pour interagir avec le joueur. La fonction est sans effet si aucune attaque ne correspond au niveau actuel du Mecha.</dd></dl>
<dl class="section warning"><dt>Avertissement</dt><dd>Cette fonction suppose que les attaques associées au Mecha sont correctement définies et triées par niveau d'apprentissage.</dd></dl>
<dl class="section see"><dt>Voir également</dt><dd><a class="el" href="affichage_8c.html#a1091893e7df87a967b878919b232b0d5" title="Affiche un dialogue interactif durant un combat entre deux Méchas.">afficher_dialogue_combat()</a> pour l'affichage interactif des dialogues avec le joueur. </dd></dl>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_af35e79d0f311c06fb1fe44ce8bb34ca4_cgraph.png" border="0" usemap="#acombat_8h_af35e79d0f311c06fb1fe44ce8bb34ca4_cgraph" alt=""/></div>
<map name="acombat_8h_af35e79d0f311c06fb1fe44ce8bb34ca4_cgraph" id="acombat_8h_af35e79d0f311c06fb1fe44ce8bb34ca4_cgraph">
<area shape="rect" title="Gère l&#39;apprentissage d&#39;une nouvelle attaque par un Mecha lors d&#39;un changement de niveau." alt="" coords="5,172,159,197"/>
<area shape="rect" href="affichage_8c.html#a1091893e7df87a967b878919b232b0d5" title="Affiche un dialogue interactif durant un combat entre deux Méchas." alt="" coords="207,172,377,197"/>
<area shape="poly" title=" " alt="" coords="159,182,193,182,193,187,159,187"/>
<area shape="rect" href="affichage_8c.html#a7290dad76779d8dd7f48366a16812be8" title="Initialise un rectangle avec ses dimensions, sa couleur et un texte optionnel." alt="" coords="629,48,740,73"/>
<area shape="poly" title=" " alt="" coords="332,169,629,75,631,80,334,174"/>
<area shape="rect" href="combat_8c.html#a159b2a6408c605d1fc9432689f92e3cb" title="Affiche à l&#39;écran tous les éléments graphiques d&#39;un combat entre deux Mechas." alt="" coords="450,172,550,197"/>
<area shape="poly" title=" " alt="" coords="377,182,436,182,436,187,377,187"/>
<area shape="rect" href="affichage_8c.html#ab542b24175a0231f8530346fc8ab790f" title="Dessine un rectangle coloré et son texte associé si présent." alt="" coords="817,270,895,296"/>
<area shape="poly" title=" " alt="" coords="306,169,378,112,430,77,490,44,555,18,621,4,654,3,687,7,718,17,748,33,775,55,797,82,815,112,829,144,847,207,855,257,850,257,841,208,824,146,810,115,793,85,771,59,745,37,716,22,686,13,654,9,622,9,556,23,493,49,433,81,381,116,309,174"/>
<area shape="rect" href="affichage_8c.html#a390da1c2cd15fd5355de26bd34b3d3dc" title="Dessine du texte centré dans un rectangle, ligne par ligne si nécessaire." alt="" coords="795,320,917,345"/>
<area shape="poly" title=" " alt="" coords="315,195,367,225,441,264,530,302,623,330,704,339,780,338,781,343,704,344,622,335,528,307,439,269,364,230,312,199"/>
<area shape="rect" href="affichage_8c.html#ab54c358911a2ed823f20797846583531" title="Dessine un texte centré verticalement et aligné à gauche dans un rectangle." alt="" coords="425,396,575,421"/>
<area shape="poly" title=" " alt="" coords="302,196,319,231,346,278,383,329,427,374,448,388,445,392,424,378,379,333,342,281,314,233,297,199"/>
<area shape="poly" title=" " alt="" coords="517,169,573,125,596,102,621,82,632,76,634,81,624,87,600,106,576,129,520,174"/>
<area shape="rect" href="affichage_8c.html#afc970416ff2ee1d9f8351a288625f23a" title="Concatène un entier à la fin d&#39;une chaîne de caractères." alt="" coords="654,245,715,270"/>
<area shape="poly" title=" " alt="" coords="534,195,624,231,642,239,640,244,622,236,532,200"/>
<area shape="rect" href="affichage_8c.html#a4f7e45e8554e8971bdba352cf9838405" title="Dessine plusieurs rectangles avec leurs textes centrés." alt="" coords="635,294,734,320"/>
<area shape="poly" title=" " alt="" coords="516,195,562,236,624,281,635,287,632,291,621,285,558,240,512,199"/>
<area shape="rect" href="affichage_8c.html#a3d385ca0396c4c2b3001371505a410e4" title="Affiche l&#39;arrière&#45;plan (background) actuel du jeu." alt="" coords="623,97,747,122"/>
<area shape="poly" title=" " alt="" coords="531,169,622,131,637,125,639,130,624,136,533,174"/>
<area shape="rect" href="affichage_8c.html#ae63215d67a18f635b3a1c2e1464a0a6f" title="Dessine un Mécha à l&#39;écran avec la texture correspondant à son orientation." alt="" coords="637,146,733,172"/>
<area shape="poly" title=" " alt="" coords="550,175,622,165,623,170,550,180"/>
<area shape="rect" href="affichage_8c.html#ac0e780352c4ab1739b9e31be92740c2d" title="Dessine du texte à une position spécifique à l&#39;écran, avec gestion des retours à la ligne." alt="" coords="631,196,738,221"/>
<area shape="poly" title=" " alt="" coords="550,188,618,197,617,202,550,193"/>
<area shape="poly" title=" " alt="" coords="734,298,802,288,803,293,735,303"/>
<area shape="poly" title=" " alt="" coords="735,312,781,319,780,324,734,317"/>
</map>
</div>
<div class="dynheader">
Voici le graphe des appelants de cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_af35e79d0f311c06fb1fe44ce8bb34ca4_icgraph.png" border="0" usemap="#acombat_8h_af35e79d0f311c06fb1fe44ce8bb34ca4_icgraph" alt=""/></div>
<map name="acombat_8h_af35e79d0f311c06fb1fe44ce8bb34ca4_icgraph" id="acombat_8h_af35e79d0f311c06fb1fe44ce8bb34ca4_icgraph">
<area shape="rect" title="Gère l&#39;apprentissage d&#39;une nouvelle attaque par un Mecha lors d&#39;un changement de niveau." alt="" coords="831,55,984,80"/>
<area shape="rect" href="combat_8c.html#aec838d58a7def8717d7fcd0faab3a107" title="Gère la montée en niveau d&#39;un Mecha joueur après avoir reçu des points d&#39;expérience (XP)." alt="" coords="672,55,783,80"/>
<area shape="poly" title=" " alt="" coords="817,70,783,70,783,65,817,65"/>
<area shape="rect" href="combat_8c.html#ac6fcdad743dc3526b2b89a1630618a07" title="Distribue les points d&#39;expérience (XP) gagnés lors d&#39;un combat à un ensemble de Méchas ayant particip..." alt="" coords="528,55,624,80"/>
<area shape="poly" title=" " alt="" coords="658,70,624,70,624,65,658,65"/>
<area shape="rect" href="combat_8c.html#a2de6c3e2a52edcf450da90005d5fad1d" title="Calcule et distribue les points d&#39;expérience (XP) aux Méchas du joueur après avoir vaincu un Mécha ad..." alt="" coords="377,55,480,80"/>
<area shape="poly" title=" " alt="" coords="514,70,480,70,480,65,514,65"/>
<area shape="rect" href="combat_8c.html#a03ca199547656caabf8e81d769b770e4" title="Gère un combat complet entre le joueur et un PNJ." alt="" coords="224,29,313,55"/>
<area shape="poly" title=" " alt="" coords="363,60,313,52,314,46,364,54"/>
<area shape="rect" href="combat_8c.html#ae03e9f733803425a6c1dcb7b81c8234e" title="Gère un combat entre le joueur et un Mécha sauvage." alt="" coords="208,79,329,104"/>
<area shape="poly" title=" " alt="" coords="364,80,330,85,329,80,363,74"/>
<area shape="rect" href="pointDePassage_8c.html#ade398b595e60d698c8c259edf2f8252a" title="Gère les interactions finales avec les PNJs &quot;Vin Gazole&quot; et &quot;Iron Musk&quot;, incluant dialogues,..." alt="" coords="35,5,131,31"/>
<area shape="poly" title=" " alt="" coords="210,37,131,27,131,22,211,32"/>
<area shape="rect" href="pointDePassage_8c.html#a9ed15a581ba87d71ad2d85b8649075da" title="Gère l&#39;interaction du joueur avec les PNJs &quot;Vin Gazole 2&quot; et &quot;Iron Musk&quot;, incluant dialogues,..." alt="" coords="5,55,160,80"/>
<area shape="poly" title=" " alt="" coords="211,53,160,59,160,54,210,47"/>
</map>
</div>

</div>
</div>
<a id="aeabe45f0372840462d595a801345672b" name="aeabe45f0372840462d595a801345672b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeabe45f0372840462d595a801345672b">&#9670;&#160;</a></span>attaque_joueur()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int attaque_joueur </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjoueur__t.html">joueur_t</a> *&#160;</td>
          <td class="paramname"><em>j</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *&#160;</td>
          <td class="paramname"><em>mecha_ordi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>actif</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Affiche l'interface permettant au joueur de choisir et effectuer une attaque durant un combat. </p>
<p>Cette fonction permet au joueur de sélectionner l'une des deux attaques disponibles pour son Mecha actif ou de revenir en arrière. Elle affiche les informations sur chaque attaque (nom, dégâts, type, utilisations restantes) et gère les interactions utilisateur via le clavier.</p>
<p>L'utilisateur navigue entre les choix avec les touches gauche/droite et valide avec la touche 'a'. Une fois validée, l'attaque est traitée via la fonction <code><a class="el" href="combat_8c.html#a8c19b3bf83d09e9fb4b596cd4ff45219" title="Calcule et applique les effets d&#39;une attaque lors d&#39;un combat entre deux Mechas.">algo_attaque()</a></code>.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">j</td><td>Un pointeur vers la structure <code><a class="el" href="structjoueur__t.html" title="Représente le joueur dans le jeu, avec sa position, son équipe de mechas et son inventaire.">joueur_t</a></code> représentant l'état actuel du joueur. </td></tr>
    <tr><td class="paramname">mecha_ordi</td><td>Pointeur vers la structure du Mecha adverse (cible de l'attaque). </td></tr>
    <tr><td class="paramname">actif</td><td>Pointeur vers l'indice du Mecha actuellement actif du joueur dans son équipe.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>int<ul>
<li><code>OK</code> : L'attaque a été effectuée avec succès.</li>
<li><code>KO</code> : Impossible d'exécuter l'attaque (plus d'utilisations disponibles).</li>
<li><code>RETOUR</code> : Le joueur a choisi l'option "Retour" pour annuler l'action d'attaque.</li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Précondition</dt><dd>Les structures globales <code>game</code>, <code>attaque</code> et <code>mecha</code> doivent être initialisées correctement.</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd><ul>
<li>La fonction met à jour les utilisations restantes de l'attaque choisie.</li>
<li>Applique les dégâts au Mecha adverse via <code><a class="el" href="combat_8c.html#a8c19b3bf83d09e9fb4b596cd4ff45219" title="Calcule et applique les effets d&#39;une attaque lors d&#39;un combat entre deux Mechas.">algo_attaque()</a></code>.</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>L'interface utilise un système de couleur pour distinguer clairement les attaques selon leur type.</li>
<li>Les boutons affichés sont dynamiquement adaptés à la taille de l'écran.</li>
</ul>
</dd></dl>
<dl class="section warning"><dt>Avertissement</dt><dd>Cette fonction suppose que les structures globales (<code>game</code>, <code>attaque</code>, <code>mecha</code>) sont déjà initialisées, sinon le comportement est indéfini.</dd></dl>
<dl class="section see"><dt>Voir également</dt><dd><a class="el" href="combat_8c.html#a8c19b3bf83d09e9fb4b596cd4ff45219" title="Calcule et applique les effets d&#39;une attaque lors d&#39;un combat entre deux Mechas.">algo_attaque()</a> pour le traitement des attaques et le calcul des dégâts. </dd>
<dd>
<a class="el" href="combat_8c.html#a159b2a6408c605d1fc9432689f92e3cb" title="Affiche à l&#39;écran tous les éléments graphiques d&#39;un combat entre deux Mechas.">draw_combat()</a> pour l'affichage graphique de l'état actuel du combat. </dd></dl>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_aeabe45f0372840462d595a801345672b_cgraph.png" border="0" usemap="#acombat_8h_aeabe45f0372840462d595a801345672b_cgraph" alt=""/></div>
<map name="acombat_8h_aeabe45f0372840462d595a801345672b_cgraph" id="acombat_8h_aeabe45f0372840462d595a801345672b_cgraph">
<area shape="rect" title="Affiche l&#39;interface permettant au joueur de choisir et effectuer une attaque durant un combat." alt="" coords="5,210,112,235"/>
<area shape="rect" href="combat_8c.html#a8c19b3bf83d09e9fb4b596cd4ff45219" title="Calcule et applique les effets d&#39;une attaque lors d&#39;un combat entre deux Mechas." alt="" coords="160,159,256,185"/>
<area shape="poly" title=" " alt="" coords="96,207,156,187,157,192,98,212"/>
<area shape="rect" href="affichage_8c.html#a7290dad76779d8dd7f48366a16812be8" title="Initialise un rectangle avec ses dimensions, sa couleur et un texte optionnel." alt="" coords="727,87,837,113"/>
<area shape="poly" title=" " alt="" coords="73,208,111,177,159,144,228,106,261,94,303,83,406,63,487,57,569,61,672,72,724,81,723,87,672,77,568,66,487,62,406,68,305,88,262,99,230,111,161,149,114,181,76,212"/>
<area shape="rect" href="combat_8c.html#a159b2a6408c605d1fc9432689f92e3cb" title="Affiche à l&#39;écran tous les éléments graphiques d&#39;un combat entre deux Mechas." alt="" coords="547,189,647,214"/>
<area shape="poly" title=" " alt="" coords="112,218,534,201,534,207,112,223"/>
<area shape="rect" href="affichage_8c.html#afc970416ff2ee1d9f8351a288625f23a" title="Concatène un entier à la fin d&#39;une chaîne de caractères." alt="" coords="751,285,813,310"/>
<area shape="poly" title=" " alt="" coords="113,226,738,290,737,296,112,231"/>
<area shape="rect" href="affichage_8c.html#a4f7e45e8554e8971bdba352cf9838405" title="Dessine plusieurs rectangles avec leurs textes centrés." alt="" coords="733,334,831,359"/>
<area shape="poly" title=" " alt="" coords="110,233,161,244,475,299,720,336,719,341,474,305,159,249,109,238"/>
<area shape="rect" href="affichage_8c.html#a1091893e7df87a967b878919b232b0d5" title="Affiche un dialogue interactif durant un combat entre deux Méchas." alt="" coords="304,98,475,123"/>
<area shape="poly" title=" " alt="" coords="245,157,337,125,339,130,247,162"/>
<area shape="rect" href="combat_8c.html#ab9469ab4f84b56a27ef05848c4a78cb9" title="Anime visuellement la diminution progressive des PV d&#39;un Mecha durant un combat." alt="" coords="331,159,448,185"/>
<area shape="poly" title=" " alt="" coords="256,169,317,169,317,175,256,175"/>
<area shape="poly" title=" " alt="" coords="475,119,570,125,672,121,720,113,721,118,672,127,570,130,475,124"/>
<area shape="poly" title=" " alt="" coords="422,121,476,144,524,167,555,181,553,186,522,172,474,149,420,126"/>
<area shape="rect" href="affichage_8c.html#ab542b24175a0231f8530346fc8ab790f" title="Dessine un rectangle coloré et son texte associé si présent." alt="" coords="914,62,993,87"/>
<area shape="poly" title=" " alt="" coords="404,96,454,60,487,42,522,28,611,8,682,3,754,11,845,28,882,39,917,53,915,58,881,44,843,33,754,16,682,9,612,13,523,33,489,46,457,64,407,100"/>
<area shape="rect" href="affichage_8c.html#a390da1c2cd15fd5355de26bd34b3d3dc" title="Dessine du texte centré dans un rectangle, ligne par ligne si nécessaire." alt="" coords="892,186,1015,211"/>
<area shape="poly" title=" " alt="" coords="422,95,500,70,551,58,607,48,667,43,728,44,788,53,845,72,877,92,904,119,941,172,937,175,900,122,874,97,843,77,787,58,727,49,667,48,608,54,552,63,501,76,424,101"/>
<area shape="rect" href="affichage_8c.html#ab54c358911a2ed823f20797846583531" title="Dessine un texte centré verticalement et aligné à gauche dans un rectangle." alt="" coords="523,87,672,113"/>
<area shape="poly" title=" " alt="" coords="475,104,509,102,509,107,475,109"/>
<area shape="poly" title=" " alt="" coords="633,186,670,167,694,145,704,134,719,122,728,116,731,121,721,126,707,137,698,148,674,172,636,191"/>
<area shape="poly" title=" " alt="" coords="619,212,665,240,721,271,740,279,737,284,719,276,662,245,616,216"/>
<area shape="poly" title=" " alt="" coords="610,212,655,264,687,294,721,321,731,326,728,331,719,325,683,298,651,267,606,216"/>
<area shape="rect" href="affichage_8c.html#a3d385ca0396c4c2b3001371505a410e4" title="Affiche l&#39;arrière&#45;plan (background) actuel du jeu." alt="" coords="720,235,844,261"/>
<area shape="poly" title=" " alt="" coords="648,211,719,229,717,235,647,216"/>
<area shape="rect" href="affichage_8c.html#ae63215d67a18f635b3a1c2e1464a0a6f" title="Dessine un Mécha à l&#39;écran avec la texture correspondant à son orientation." alt="" coords="734,137,830,162"/>
<area shape="poly" title=" " alt="" coords="642,186,722,163,724,168,644,191"/>
<area shape="rect" href="affichage_8c.html#ac0e780352c4ab1739b9e31be92740c2d" title="Dessine du texte à une position spécifique à l&#39;écran, avec gestion des retours à la ligne." alt="" coords="729,186,835,211"/>
<area shape="poly" title=" " alt="" coords="647,198,715,197,715,202,647,203"/>
<area shape="poly" title=" " alt="" coords="828,332,842,321,856,303,865,286,872,252,876,216,890,172,911,132,933,98,937,100,915,135,894,174,882,217,878,253,870,288,861,306,846,325,831,336"/>
<area shape="poly" title=" " alt="" coords="823,331,842,321,871,297,896,271,934,221,939,224,900,274,874,301,846,325,825,336"/>
<area shape="poly" title=" " alt="" coords="449,178,534,190,533,195,448,183"/>
</map>
</div>
<div class="dynheader">
Voici le graphe des appelants de cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_aeabe45f0372840462d595a801345672b_icgraph.png" border="0" usemap="#acombat_8h_aeabe45f0372840462d595a801345672b_icgraph" alt=""/></div>
<map name="acombat_8h_aeabe45f0372840462d595a801345672b_icgraph" id="acombat_8h_aeabe45f0372840462d595a801345672b_icgraph">
<area shape="rect" title="Affiche l&#39;interface permettant au joueur de choisir et effectuer une attaque durant un combat." alt="" coords="512,55,619,80"/>
<area shape="rect" href="combat_8c.html#a3c18ce2957ca72f56737d0082766ad63" title="Gère le tour du joueur lors d&#39;un combat contre un Mécha sauvage ou un PNJ." alt="" coords="377,55,464,80"/>
<area shape="poly" title=" " alt="" coords="498,70,464,70,464,65,498,65"/>
<area shape="rect" href="combat_8c.html#a03ca199547656caabf8e81d769b770e4" title="Gère un combat complet entre le joueur et un PNJ." alt="" coords="224,29,313,55"/>
<area shape="poly" title=" " alt="" coords="363,60,313,52,314,47,364,55"/>
<area shape="rect" href="combat_8c.html#ae03e9f733803425a6c1dcb7b81c8234e" title="Gère un combat entre le joueur et un Mécha sauvage." alt="" coords="208,79,329,104"/>
<area shape="poly" title=" " alt="" coords="364,79,330,84,329,79,363,74"/>
<area shape="rect" href="pointDePassage_8c.html#ade398b595e60d698c8c259edf2f8252a" title="Gère les interactions finales avec les PNJs &quot;Vin Gazole&quot; et &quot;Iron Musk&quot;, incluant dialogues,..." alt="" coords="35,5,131,31"/>
<area shape="poly" title=" " alt="" coords="210,37,131,27,131,22,211,32"/>
<area shape="rect" href="pointDePassage_8c.html#a9ed15a581ba87d71ad2d85b8649075da" title="Gère l&#39;interaction du joueur avec les PNJs &quot;Vin Gazole 2&quot; et &quot;Iron Musk&quot;, incluant dialogues,..." alt="" coords="5,55,160,80"/>
<area shape="poly" title=" " alt="" coords="211,53,160,59,160,54,210,47"/>
</map>
</div>

</div>
</div>
<a id="a5491a6cd3adeb619da6eb84e6d888e7a" name="a5491a6cd3adeb619da6eb84e6d888e7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5491a6cd3adeb619da6eb84e6d888e7a">&#9670;&#160;</a></span>attaque_ordi_pnj()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int attaque_ordi_pnj </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpnj__t.html">pnj_t</a> *&#160;</td>
          <td class="paramname"><em>pnj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *&#160;</td>
          <td class="paramname"><em>mecha_joueur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>actif</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gère les actions automatiques d'un PNJ (personnage non-joueur) lors d'un combat contre le joueur. </p>
<p>Cette fonction décide automatiquement des actions du PNJ selon l'état actuel du Mecha actif :</p><ul>
<li>Si les PV du Mecha actif sont inférieurs à 25% des PV maximum, le PNJ a 1 chance sur 4 de changer de Mecha.</li>
<li>Si les PV du Mecha actif sont inférieurs ou égaux à 50% des PV maximum, le PNJ a une chance sur deux d'utiliser un carburant pour récupérer 20 PV.</li>
<li>Sinon, le PNJ effectue une attaque aléatoire parmi celles disponibles. Si aucune attaque n'est disponible, un message indique que le Mecha ne peut plus attaquer.</li>
</ul>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">pnj</td><td>Pointeur vers la structure du PNJ effectuant l'action. </td></tr>
    <tr><td class="paramname">mecha_joueur</td><td>Pointeur vers le Mecha du joueur cible de l'action du PNJ. </td></tr>
    <tr><td class="paramname">actif</td><td>Pointeur vers l'indice du Mecha actuellement actif chez le PNJ. Peut être modifié si un changement de Mecha est effectué.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>int<ul>
<li><code>OK</code> : Une action a été effectuée avec succès (attaque, utilisation de carburant, ou changement de Mecha).</li>
<li><code>KO</code> : Aucune attaque disponible pour le Mecha actif du PNJ (toutes les utilisations sont épuisées).</li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Précondition</dt><dd>Les structures globales (<code>attaque</code>, <code>mecha</code>) et l'inventaire du PNJ doivent être initialisés.</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd><ul>
<li>Les PV du Mecha actif du PNJ peuvent augmenter si un carburant est utilisé.</li>
<li>Les utilisations restantes des attaques du Mecha actif peuvent être décrémentées.</li>
<li>L'indice du Mecha actif peut changer si le PNJ décide de changer de Mecha.</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>Des dialogues informatifs sont affichés à l'utilisateur en fonction des actions du PNJ.</li>
<li>Le comportement est semi-aléatoire, dépendant des PV actuels du Mecha actif pour simuler une stratégie plus réaliste.</li>
</ul>
</dd></dl>
<dl class="section warning"><dt>Avertissement</dt><dd>Cette fonction suppose que les Mechas et leurs attaques correspondantes sont correctement initialisés, et que le PNJ dispose d'un inventaire valide. Un comportement indéterminé pourrait se produire sinon.</dd></dl>
<dl class="section see"><dt>Voir également</dt><dd><a class="el" href="combat_8c.html#a8c19b3bf83d09e9fb4b596cd4ff45219" title="Calcule et applique les effets d&#39;une attaque lors d&#39;un combat entre deux Mechas.">algo_attaque()</a> pour le traitement des attaques et des dégâts. </dd>
<dd>
<a class="el" href="affichage_8c.html#a1091893e7df87a967b878919b232b0d5" title="Affiche un dialogue interactif durant un combat entre deux Méchas.">afficher_dialogue_combat()</a> pour afficher les messages durant le combat. </dd></dl>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_a5491a6cd3adeb619da6eb84e6d888e7a_cgraph.png" border="0" usemap="#acombat_8h_a5491a6cd3adeb619da6eb84e6d888e7a_cgraph" alt=""/></div>
<map name="acombat_8h_a5491a6cd3adeb619da6eb84e6d888e7a_cgraph" id="acombat_8h_a5491a6cd3adeb619da6eb84e6d888e7a_cgraph">
<area shape="rect" title="Gère les actions automatiques d&#39;un PNJ (personnage non&#45;joueur) lors d&#39;un combat contre le joueur." alt="" coords="5,207,123,233"/>
<area shape="rect" href="affichage_8c.html#a1091893e7df87a967b878919b232b0d5" title="Affiche un dialogue interactif durant un combat entre deux Méchas." alt="" coords="315,231,485,257"/>
<area shape="poly" title=" " alt="" coords="123,222,301,234,300,240,123,227"/>
<area shape="rect" href="combat_8c.html#a8c19b3bf83d09e9fb4b596cd4ff45219" title="Calcule et applique les effets d&#39;une attaque lors d&#39;un combat entre deux Mechas." alt="" coords="171,182,267,207"/>
<area shape="poly" title=" " alt="" coords="122,208,157,202,158,207,123,213"/>
<area shape="rect" href="affichage_8c.html#a7290dad76779d8dd7f48366a16812be8" title="Initialise un rectangle avec ses dimensions, sa couleur et un texte optionnel." alt="" coords="737,282,848,307"/>
<area shape="poly" title=" " alt="" coords="462,254,534,267,724,287,724,292,533,272,461,259"/>
<area shape="rect" href="combat_8c.html#a159b2a6408c605d1fc9432689f92e3cb" title="Affiche à l&#39;écran tous les éléments graphiques d&#39;un combat entre deux Mechas." alt="" coords="558,182,658,207"/>
<area shape="poly" title=" " alt="" coords="454,229,544,207,545,212,455,234"/>
<area shape="rect" href="affichage_8c.html#ab542b24175a0231f8530346fc8ab790f" title="Dessine un rectangle coloré et son texte associé si présent." alt="" coords="925,270,1003,295"/>
<area shape="poly" title=" " alt="" coords="433,254,480,272,534,288,623,311,693,325,764,328,854,317,888,309,920,298,922,303,890,314,855,323,764,333,693,330,622,316,533,293,479,277,431,259"/>
<area shape="rect" href="affichage_8c.html#a390da1c2cd15fd5355de26bd34b3d3dc" title="Dessine du texte centré dans un rectangle, ligne par ligne si nécessaire." alt="" coords="903,195,1025,221"/>
<area shape="poly" title=" " alt="" coords="457,229,484,216,499,205,508,194,531,168,622,80,666,48,730,20,765,9,794,3,823,6,856,20,878,36,896,55,926,98,946,143,959,181,954,183,941,145,921,101,892,58,874,40,853,25,822,11,794,9,766,14,732,25,669,52,626,84,535,171,513,197,502,209,487,221,459,234"/>
<area shape="rect" href="affichage_8c.html#ab54c358911a2ed823f20797846583531" title="Dessine un texte centré verticalement et aligné à gauche dans un rectangle." alt="" coords="533,231,683,257"/>
<area shape="poly" title=" " alt="" coords="485,241,519,241,519,247,485,247"/>
<area shape="poly" title=" " alt="" coords="659,205,684,217,700,230,709,243,718,256,732,269,741,274,738,278,729,273,714,259,705,246,696,233,681,221,657,209"/>
<area shape="rect" href="affichage_8c.html#afc970416ff2ee1d9f8351a288625f23a" title="Concatène un entier à la fin d&#39;une chaîne de caractères." alt="" coords="762,183,823,209"/>
<area shape="poly" title=" " alt="" coords="658,192,748,193,748,198,658,198"/>
<area shape="rect" href="affichage_8c.html#a4f7e45e8554e8971bdba352cf9838405" title="Dessine plusieurs rectangles avec leurs textes centrés." alt="" coords="743,233,842,258"/>
<area shape="poly" title=" " alt="" coords="656,205,733,226,732,232,655,210"/>
<area shape="rect" href="affichage_8c.html#a3d385ca0396c4c2b3001371505a410e4" title="Affiche l&#39;arrière&#45;plan (background) actuel du jeu." alt="" coords="731,35,855,61"/>
<area shape="poly" title=" " alt="" coords="617,180,662,128,694,97,729,70,739,64,741,69,732,74,697,101,666,132,621,184"/>
<area shape="rect" href="affichage_8c.html#ae63215d67a18f635b3a1c2e1464a0a6f" title="Dessine un Mécha à l&#39;écran avec la texture correspondant à son orientation." alt="" coords="745,85,841,110"/>
<area shape="poly" title=" " alt="" coords="627,180,673,151,729,119,743,113,745,118,732,124,675,155,630,184"/>
<area shape="rect" href="affichage_8c.html#ac0e780352c4ab1739b9e31be92740c2d" title="Dessine du texte à une position spécifique à l&#39;écran, avec gestion des retours à la ligne." alt="" coords="739,134,846,159"/>
<area shape="poly" title=" " alt="" coords="657,179,729,161,730,166,658,185"/>
<area shape="poly" title=" " alt="" coords="843,254,912,269,911,274,842,259"/>
<area shape="poly" title=" " alt="" coords="842,232,892,221,893,226,843,237"/>
<area shape="poly" title=" " alt="" coords="267,205,340,225,339,230,265,210"/>
<area shape="rect" href="combat_8c.html#ab9469ab4f84b56a27ef05848c4a78cb9" title="Anime visuellement la diminution progressive des PV d&#39;un Mecha durant un combat." alt="" coords="341,182,459,207"/>
<area shape="poly" title=" " alt="" coords="267,192,327,192,327,197,267,197"/>
<area shape="poly" title=" " alt="" coords="459,192,544,192,544,197,459,197"/>
</map>
</div>
<div class="dynheader">
Voici le graphe des appelants de cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_a5491a6cd3adeb619da6eb84e6d888e7a_icgraph.png" border="0" usemap="#acombat_8h_a5491a6cd3adeb619da6eb84e6d888e7a_icgraph" alt=""/></div>
<map name="acombat_8h_a5491a6cd3adeb619da6eb84e6d888e7a_icgraph" id="acombat_8h_a5491a6cd3adeb619da6eb84e6d888e7a_icgraph">
<area shape="rect" title="Gère les actions automatiques d&#39;un PNJ (personnage non&#45;joueur) lors d&#39;un combat contre le joueur." alt="" coords="345,31,463,56"/>
<area shape="rect" href="combat_8c.html#a03ca199547656caabf8e81d769b770e4" title="Gère un combat complet entre le joueur et un PNJ." alt="" coords="208,31,297,56"/>
<area shape="poly" title=" " alt="" coords="332,46,297,46,297,41,332,41"/>
<area shape="rect" href="pointDePassage_8c.html#ade398b595e60d698c8c259edf2f8252a" title="Gère les interactions finales avec les PNJs &quot;Vin Gazole&quot; et &quot;Iron Musk&quot;, incluant dialogues,..." alt="" coords="35,5,131,31"/>
<area shape="poly" title=" " alt="" coords="194,37,130,28,131,22,195,32"/>
<area shape="rect" href="pointDePassage_8c.html#a9ed15a581ba87d71ad2d85b8649075da" title="Gère l&#39;interaction du joueur avec les PNJs &quot;Vin Gazole 2&quot; et &quot;Iron Musk&quot;, incluant dialogues,..." alt="" coords="5,55,160,80"/>
<area shape="poly" title=" " alt="" coords="195,54,161,59,160,54,194,49"/>
</map>
</div>

</div>
</div>
<a id="ac6ceced0c9217ccb31c1400649cfd67c" name="ac6ceced0c9217ccb31c1400649cfd67c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6ceced0c9217ccb31c1400649cfd67c">&#9670;&#160;</a></span>attaque_ordi_sauvage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int attaque_ordi_sauvage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *&#160;</td>
          <td class="paramname"><em>mecha_ordi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *&#160;</td>
          <td class="paramname"><em>mecha_joueur</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gère l'attaque aléatoire d'un Mecha sauvage durant un combat contre le joueur. </p>
<p>Cette fonction sélectionne aléatoirement une attaque parmi les deux disponibles pour le Mecha sauvage. Si l'attaque sélectionnée ne possède plus d'utilisations, elle tente automatiquement l'autre attaque. Si aucune attaque n'est disponible, un message indiquant que le Mecha sauvage ne peut plus attaquer est affiché.</p>
<p>L'attaque choisie est exécutée via la fonction <code><a class="el" href="combat_8c.html#a8c19b3bf83d09e9fb4b596cd4ff45219" title="Calcule et applique les effets d&#39;une attaque lors d&#39;un combat entre deux Mechas.">algo_attaque()</a></code>.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">mecha_ordi</td><td>Pointeur vers la structure du Mecha sauvage effectuant l'attaque. </td></tr>
    <tr><td class="paramname">mecha_joueur</td><td>Pointeur vers la structure du Mecha du joueur ciblé par l'attaque.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>int<ul>
<li><code>OK</code> : L'attaque a été exécutée avec succès.</li>
<li><code>0</code> : Aucune attaque disponible pour le Mecha sauvage (toutes les utilisations sont épuisées).</li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Précondition</dt><dd>Les structures globales <code>attaque</code> et <code>mecha</code> doivent être initialisées correctement.</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd><ul>
<li>La fonction décrémente les utilisations restantes de l'attaque choisie du Mecha sauvage.</li>
<li>Applique les dégâts au Mecha du joueur via <code><a class="el" href="combat_8c.html#a8c19b3bf83d09e9fb4b596cd4ff45219" title="Calcule et applique les effets d&#39;une attaque lors d&#39;un combat entre deux Mechas.">algo_attaque()</a></code>.</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>Un message informatif est affiché à l'utilisateur si aucune attaque ne peut être effectuée.</li>
<li>L'attaque est sélectionnée aléatoirement afin de varier les stratégies du Mecha sauvage.</li>
</ul>
</dd></dl>
<dl class="section warning"><dt>Avertissement</dt><dd>Cette fonction suppose que les Mechas et attaques correspondantes sont correctement initialisées. Un comportement imprévisible pourrait se produire en cas d'erreur d'initialisation.</dd></dl>
<dl class="section see"><dt>Voir également</dt><dd><a class="el" href="combat_8c.html#a8c19b3bf83d09e9fb4b596cd4ff45219" title="Calcule et applique les effets d&#39;une attaque lors d&#39;un combat entre deux Mechas.">algo_attaque()</a> pour le traitement concret des attaques et le calcul des dégâts infligés. </dd>
<dd>
<a class="el" href="affichage_8c.html#a1091893e7df87a967b878919b232b0d5" title="Affiche un dialogue interactif durant un combat entre deux Méchas.">afficher_dialogue_combat()</a> pour afficher des messages à l'utilisateur. </dd></dl>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_ac6ceced0c9217ccb31c1400649cfd67c_cgraph.png" border="0" usemap="#acombat_8h_ac6ceced0c9217ccb31c1400649cfd67c_cgraph" alt=""/></div>
<map name="acombat_8h_ac6ceced0c9217ccb31c1400649cfd67c_cgraph" id="acombat_8h_ac6ceced0c9217ccb31c1400649cfd67c_cgraph">
<area shape="rect" title="Gère l&#39;attaque aléatoire d&#39;un Mecha sauvage durant un combat contre le joueur." alt="" coords="5,207,155,233"/>
<area shape="rect" href="affichage_8c.html#a1091893e7df87a967b878919b232b0d5" title="Affiche un dialogue interactif durant un combat entre deux Méchas." alt="" coords="347,231,517,257"/>
<area shape="poly" title=" " alt="" coords="155,222,333,235,332,240,155,228"/>
<area shape="rect" href="combat_8c.html#a8c19b3bf83d09e9fb4b596cd4ff45219" title="Calcule et applique les effets d&#39;une attaque lors d&#39;un combat entre deux Mechas." alt="" coords="203,182,299,207"/>
<area shape="poly" title=" " alt="" coords="155,206,188,201,189,207,155,212"/>
<area shape="rect" href="affichage_8c.html#a7290dad76779d8dd7f48366a16812be8" title="Initialise un rectangle avec ses dimensions, sa couleur et un texte optionnel." alt="" coords="769,282,880,307"/>
<area shape="poly" title=" " alt="" coords="494,254,566,267,756,287,756,292,565,272,493,259"/>
<area shape="rect" href="combat_8c.html#a159b2a6408c605d1fc9432689f92e3cb" title="Affiche à l&#39;écran tous les éléments graphiques d&#39;un combat entre deux Mechas." alt="" coords="590,182,690,207"/>
<area shape="poly" title=" " alt="" coords="486,229,576,207,577,212,487,234"/>
<area shape="rect" href="affichage_8c.html#ab542b24175a0231f8530346fc8ab790f" title="Dessine un rectangle coloré et son texte associé si présent." alt="" coords="957,270,1035,295"/>
<area shape="poly" title=" " alt="" coords="465,254,512,272,566,288,655,311,725,325,796,328,886,317,920,309,952,298,954,303,922,314,887,323,796,333,725,330,654,316,565,293,511,277,463,259"/>
<area shape="rect" href="affichage_8c.html#a390da1c2cd15fd5355de26bd34b3d3dc" title="Dessine du texte centré dans un rectangle, ligne par ligne si nécessaire." alt="" coords="935,195,1057,221"/>
<area shape="poly" title=" " alt="" coords="489,229,516,216,531,205,540,194,563,168,654,80,698,48,762,20,797,9,826,3,855,6,888,20,910,36,928,55,958,98,978,143,991,181,986,183,973,145,953,101,924,58,906,40,885,25,854,11,826,9,798,14,764,25,701,52,658,84,567,171,545,197,534,209,519,221,491,234"/>
<area shape="rect" href="affichage_8c.html#ab54c358911a2ed823f20797846583531" title="Dessine un texte centré verticalement et aligné à gauche dans un rectangle." alt="" coords="565,231,715,257"/>
<area shape="poly" title=" " alt="" coords="517,241,551,241,551,247,517,247"/>
<area shape="poly" title=" " alt="" coords="691,205,716,217,732,230,741,243,750,256,764,269,773,274,770,278,761,273,746,259,737,246,728,233,713,221,689,209"/>
<area shape="rect" href="affichage_8c.html#afc970416ff2ee1d9f8351a288625f23a" title="Concatène un entier à la fin d&#39;une chaîne de caractères." alt="" coords="794,183,855,209"/>
<area shape="poly" title=" " alt="" coords="690,192,780,193,780,198,690,198"/>
<area shape="rect" href="affichage_8c.html#a4f7e45e8554e8971bdba352cf9838405" title="Dessine plusieurs rectangles avec leurs textes centrés." alt="" coords="775,233,874,258"/>
<area shape="poly" title=" " alt="" coords="688,205,765,226,764,232,687,210"/>
<area shape="rect" href="affichage_8c.html#a3d385ca0396c4c2b3001371505a410e4" title="Affiche l&#39;arrière&#45;plan (background) actuel du jeu." alt="" coords="763,35,887,61"/>
<area shape="poly" title=" " alt="" coords="649,180,694,128,726,97,761,70,771,64,773,69,764,74,729,101,698,132,653,184"/>
<area shape="rect" href="affichage_8c.html#ae63215d67a18f635b3a1c2e1464a0a6f" title="Dessine un Mécha à l&#39;écran avec la texture correspondant à son orientation." alt="" coords="777,85,873,110"/>
<area shape="poly" title=" " alt="" coords="659,180,705,151,761,119,775,113,777,118,764,124,707,155,662,184"/>
<area shape="rect" href="affichage_8c.html#ac0e780352c4ab1739b9e31be92740c2d" title="Dessine du texte à une position spécifique à l&#39;écran, avec gestion des retours à la ligne." alt="" coords="771,134,878,159"/>
<area shape="poly" title=" " alt="" coords="689,179,761,161,762,166,690,185"/>
<area shape="poly" title=" " alt="" coords="875,254,944,269,943,274,874,259"/>
<area shape="poly" title=" " alt="" coords="874,232,924,221,925,226,875,237"/>
<area shape="poly" title=" " alt="" coords="299,205,372,225,371,230,297,210"/>
<area shape="rect" href="combat_8c.html#ab9469ab4f84b56a27ef05848c4a78cb9" title="Anime visuellement la diminution progressive des PV d&#39;un Mecha durant un combat." alt="" coords="373,182,491,207"/>
<area shape="poly" title=" " alt="" coords="299,192,359,192,359,197,299,197"/>
<area shape="poly" title=" " alt="" coords="491,192,576,192,576,197,491,197"/>
</map>
</div>
<div class="dynheader">
Voici le graphe des appelants de cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_ac6ceced0c9217ccb31c1400649cfd67c_icgraph.png" border="0" usemap="#acombat_8h_ac6ceced0c9217ccb31c1400649cfd67c_icgraph" alt=""/></div>
<map name="acombat_8h_ac6ceced0c9217ccb31c1400649cfd67c_icgraph" id="acombat_8h_ac6ceced0c9217ccb31c1400649cfd67c_icgraph">
<area shape="rect" title="Gère l&#39;attaque aléatoire d&#39;un Mecha sauvage durant un combat contre le joueur." alt="" coords="175,5,324,31"/>
<area shape="rect" href="combat_8c.html#ae03e9f733803425a6c1dcb7b81c8234e" title="Gère un combat entre le joueur et un Mécha sauvage." alt="" coords="5,5,127,31"/>
<area shape="poly" title=" " alt="" coords="161,21,127,21,127,15,161,15"/>
</map>
</div>

</div>
</div>
<a id="a16e4593cbfaef36a7cc088aa6bef48c0" name="a16e4593cbfaef36a7cc088aa6bef48c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16e4593cbfaef36a7cc088aa6bef48c0">&#9670;&#160;</a></span>changer_mecha()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int changer_mecha </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjoueur__t.html">joueur_t</a> *&#160;</td>
          <td class="paramname"><em>joueur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>actif</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *&#160;</td>
          <td class="paramname"><em>ordi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Permet au joueur de changer le Mecha actif pendant un combat. </p>
<p>Cette fonction affiche un menu pour permettre au joueur de sélectionner un nouveau Mecha actif. Elle vérifie plusieurs conditions avant d'autoriser le changement :</p><ul>
<li>Le Mecha sélectionné ne doit pas être KO (PV != 0).</li>
<li>Le Mecha sélectionné ne doit pas être déjà actif.</li>
<li>Le joueur peut revenir en arrière en choisissant « retour ».</li>
</ul>
<p>Des messages de dialogues informatifs sont affichés selon le résultat de l'opération.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">joueur</td><td>Pointeur vers la structure du joueur. </td></tr>
    <tr><td class="paramname">actif</td><td>Pointeur vers l'indice du Mecha actuellement actif du joueur (sera mis à jour si le changement est accepté). </td></tr>
    <tr><td class="paramname">ordi</td><td>Pointeur vers le Mecha adverse (utilisé uniquement pour afficher des dialogues informatifs en cas d'erreur).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>int<ul>
<li><code>OK</code> : Changement de Mecha effectué avec succès.</li>
<li><code>KO</code> : Le changement de Mecha a échoué (Mecha mort ou déjà actif).</li>
<li><code>RETOUR</code> : Le joueur a annulé l'action.</li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Précondition</dt><dd>Le joueur doit avoir au moins un Mecha valide dans son équipe (autre que celui actif).</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>L'indice du Mecha actif (<code>*actif</code>) est modifié si un changement est validé par le joueur.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Cette fonction fait appel à l'interface graphique via <code><a class="el" href="combat_8c.html#a30cb93b663d557e0e81271f956c24379" title="Affiche l&#39;interface de sélection du Mecha du joueur durant un combat.">aff_mechas_combat()</a></code> pour permettre le choix du joueur.</dd></dl>
<dl class="section warning"><dt>Avertissement</dt><dd>Aucune vérification n'est effectuée pour le cas extrême où tous les Mechas seraient KO. Une telle vérification doit être faite en amont si nécessaire.</dd></dl>
<dl class="section see"><dt>Voir également</dt><dd><a class="el" href="combat_8c.html#a30cb93b663d557e0e81271f956c24379" title="Affiche l&#39;interface de sélection du Mecha du joueur durant un combat.">aff_mechas_combat()</a> pour l'interface de sélection graphique. </dd>
<dd>
<a class="el" href="affichage_8c.html#a1091893e7df87a967b878919b232b0d5" title="Affiche un dialogue interactif durant un combat entre deux Méchas.">afficher_dialogue_combat()</a> pour les messages informatifs. </dd></dl>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_a16e4593cbfaef36a7cc088aa6bef48c0_cgraph.png" border="0" usemap="#acombat_8h_a16e4593cbfaef36a7cc088aa6bef48c0_cgraph" alt=""/></div>
<map name="acombat_8h_a16e4593cbfaef36a7cc088aa6bef48c0_cgraph" id="acombat_8h_a16e4593cbfaef36a7cc088aa6bef48c0_cgraph">
<area shape="rect" title="Permet au joueur de changer le Mecha actif pendant un combat." alt="" coords="5,196,120,222"/>
<area shape="rect" href="combat_8c.html#a30cb93b663d557e0e81271f956c24379" title="Affiche l&#39;interface de sélection du Mecha du joueur durant un combat." alt="" coords="391,246,531,271"/>
<area shape="poly" title=" " alt="" coords="121,214,378,246,377,251,120,219"/>
<area shape="rect" href="affichage_8c.html#a1091893e7df87a967b878919b232b0d5" title="Affiche un dialogue interactif durant un combat entre deux Méchas." alt="" coords="168,159,339,184"/>
<area shape="poly" title=" " alt="" coords="120,195,174,184,175,190,121,201"/>
<area shape="rect" href="affichage_8c.html#afc970416ff2ee1d9f8351a288625f23a" title="Concatène un entier à la fin d&#39;une chaîne de caractères." alt="" coords="615,147,677,172"/>
<area shape="poly" title=" " alt="" coords="509,243,535,231,549,219,558,207,567,195,582,182,601,171,604,176,586,186,571,198,562,210,553,223,537,235,511,248"/>
<area shape="rect" href="affichage_8c.html#a7290dad76779d8dd7f48366a16812be8" title="Initialise un rectangle avec ses dimensions, sa couleur et un texte optionnel." alt="" coords="591,98,701,123"/>
<area shape="poly" title=" " alt="" coords="515,243,534,231,551,208,558,183,564,158,582,133,587,128,590,133,586,136,569,160,563,185,556,210,538,235,517,248"/>
<area shape="rect" href="affichage_8c.html#a4f7e45e8554e8971bdba352cf9838405" title="Dessine plusieurs rectangles avec leurs textes centrés." alt="" coords="597,295,695,320"/>
<area shape="poly" title=" " alt="" coords="510,269,585,289,584,294,509,274"/>
<area shape="rect" href="affichage_8c.html#a3d385ca0396c4c2b3001371505a410e4" title="Affiche l&#39;arrière&#45;plan (background) actuel du jeu." alt="" coords="584,196,708,222"/>
<area shape="poly" title=" " alt="" coords="509,243,584,223,585,228,510,248"/>
<area shape="rect" href="affichage_8c.html#ae63215d67a18f635b3a1c2e1464a0a6f" title="Dessine un Mécha à l&#39;écran avec la texture correspondant à son orientation." alt="" coords="598,246,694,271"/>
<area shape="poly" title=" " alt="" coords="531,256,584,256,584,261,531,261"/>
<area shape="rect" href="affichage_8c.html#ab542b24175a0231f8530346fc8ab790f" title="Dessine un rectangle coloré et son texte associé si présent." alt="" coords="778,271,857,296"/>
<area shape="poly" title=" " alt="" coords="695,298,764,289,764,294,696,304"/>
<area shape="rect" href="affichage_8c.html#a390da1c2cd15fd5355de26bd34b3d3dc" title="Dessine du texte centré dans un rectangle, ligne par ligne si nécessaire." alt="" coords="756,320,879,346"/>
<area shape="poly" title=" " alt="" coords="696,312,742,319,742,325,695,318"/>
<area shape="poly" title=" " alt="" coords="292,156,386,132,486,118,577,111,577,116,486,123,387,137,294,162"/>
<area shape="poly" title=" " alt="" coords="268,157,341,103,393,70,453,39,518,15,584,4,617,3,649,8,680,18,709,34,736,56,758,83,776,113,790,145,808,207,816,257,811,258,803,208,785,147,771,115,754,86,733,60,707,38,678,23,648,13,616,9,584,9,519,21,456,44,396,74,344,107,271,161"/>
<area shape="poly" title=" " alt="" coords="268,183,317,230,351,257,388,280,432,299,478,314,574,332,665,338,742,337,742,342,665,343,573,337,477,319,430,304,385,285,348,262,314,234,264,186"/>
<area shape="rect" href="combat_8c.html#a159b2a6408c605d1fc9432689f92e3cb" title="Affiche à l&#39;écran tous les éléments graphiques d&#39;un combat entre deux Mechas." alt="" coords="411,147,511,172"/>
<area shape="poly" title=" " alt="" coords="339,164,397,161,398,166,339,170"/>
<area shape="rect" href="affichage_8c.html#ab54c358911a2ed823f20797846583531" title="Dessine un texte centré verticalement et aligné à gauche dans un rectangle." alt="" coords="387,196,536,222"/>
<area shape="poly" title=" " alt="" coords="325,182,377,191,376,197,324,187"/>
<area shape="poly" title=" " alt="" coords="511,157,602,157,602,162,511,162"/>
<area shape="poly" title=" " alt="" coords="509,145,584,124,585,129,510,150"/>
<area shape="poly" title=" " alt="" coords="513,167,538,182,556,207,563,232,569,256,586,281,592,286,589,290,582,284,564,259,558,233,552,209,534,186,510,172"/>
<area shape="poly" title=" " alt="" coords="510,170,585,190,584,195,509,175"/>
<area shape="poly" title=" " alt="" coords="513,170,537,182,553,194,562,206,571,219,586,231,597,238,594,242,582,235,568,222,558,210,549,198,535,186,510,175"/>
<area shape="rect" href="affichage_8c.html#ac0e780352c4ab1739b9e31be92740c2d" title="Dessine du texte à une position spécifique à l&#39;écran, avec gestion des retours à la ligne." alt="" coords="593,48,699,74"/>
<area shape="poly" title=" " alt="" coords="480,145,526,115,583,83,596,77,598,81,585,88,528,120,482,149"/>
</map>
</div>
<div class="dynheader">
Voici le graphe des appelants de cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_a16e4593cbfaef36a7cc088aa6bef48c0_icgraph.png" border="0" usemap="#acombat_8h_a16e4593cbfaef36a7cc088aa6bef48c0_icgraph" alt=""/></div>
<map name="acombat_8h_a16e4593cbfaef36a7cc088aa6bef48c0_icgraph" id="acombat_8h_a16e4593cbfaef36a7cc088aa6bef48c0_icgraph">
<area shape="rect" title="Permet au joueur de changer le Mecha actif pendant un combat." alt="" coords="512,55,627,80"/>
<area shape="rect" href="combat_8c.html#a03ca199547656caabf8e81d769b770e4" title="Gère un combat complet entre le joueur et un PNJ." alt="" coords="224,31,313,56"/>
<area shape="poly" title=" " alt="" coords="512,54,464,45,384,40,314,43,314,37,384,35,464,39,513,49"/>
<area shape="rect" href="combat_8c.html#ae03e9f733803425a6c1dcb7b81c8234e" title="Gère un combat entre le joueur et un Mécha sauvage." alt="" coords="208,80,329,105"/>
<area shape="poly" title=" " alt="" coords="513,86,464,95,395,100,330,99,330,94,394,94,464,90,512,81"/>
<area shape="rect" href="combat_8c.html#a3c18ce2957ca72f56737d0082766ad63" title="Gère le tour du joueur lors d&#39;un combat contre un Mécha sauvage ou un PNJ." alt="" coords="377,55,464,80"/>
<area shape="poly" title=" " alt="" coords="498,70,464,70,464,65,498,65"/>
<area shape="rect" href="pointDePassage_8c.html#ade398b595e60d698c8c259edf2f8252a" title="Gère les interactions finales avec les PNJs &quot;Vin Gazole&quot; et &quot;Iron Musk&quot;, incluant dialogues,..." alt="" coords="35,5,131,31"/>
<area shape="poly" title=" " alt="" coords="210,38,131,27,131,22,211,33"/>
<area shape="rect" href="pointDePassage_8c.html#a9ed15a581ba87d71ad2d85b8649075da" title="Gère l&#39;interaction du joueur avec les PNJs &quot;Vin Gazole 2&quot; et &quot;Iron Musk&quot;, incluant dialogues,..." alt="" coords="5,55,160,80"/>
<area shape="poly" title=" " alt="" coords="211,53,160,60,160,55,210,48"/>
<area shape="poly" title=" " alt="" coords="363,61,313,53,314,48,364,56"/>
<area shape="poly" title=" " alt="" coords="364,79,330,85,329,80,363,74"/>
</map>
</div>

</div>
</div>
<a id="a03ca199547656caabf8e81d769b770e4" name="a03ca199547656caabf8e81d769b770e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03ca199547656caabf8e81d769b770e4">&#9670;&#160;</a></span>combat_pnj()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int combat_pnj </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjoueur__t.html">joueur_t</a> *&#160;</td>
          <td class="paramname"><em>joueur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpnj__t.html">pnj_t</a> *&#160;</td>
          <td class="paramname"><em>pnj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gère un combat complet entre le joueur et un PNJ. </p>
<p>Cette fonction orchestre l'intégralité d'un combat contre un PNJ, en gérant :</p><ul>
<li>La sélection automatique du premier Mécha actif disponible chez le joueur et le PNJ.</li>
<li>Le cycle complet des tours joueur et PNJ jusqu’à la victoire ou la défaite.</li>
<li>Le changement automatique de Méchas lorsque l'un d'entre eux tombe KO.</li>
<li>La gestion spécifique empêchant le joueur de fuir un combat contre un PNJ.</li>
<li>Le gain d'expérience et la montée en niveau des Méchas après avoir vaincu un adversaire.</li>
<li>La sauvegarde automatique de l'état du PNJ après le combat (si victoire).</li>
</ul>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">joueur</td><td>Un pointeur vers la structure <code><a class="el" href="structjoueur__t.html" title="Représente le joueur dans le jeu, avec sa position, son équipe de mechas et son inventaire.">joueur_t</a></code> représentant le joueur. </td></tr>
    <tr><td class="paramname">pnj</td><td>Un pointeur vers la structure <code><a class="el" href="structpnj__t.html" title="Représente un PNJ (Personnage Non Joueur) dans le jeu, avec sa position, ses dialogues et ses mechas.">pnj_t</a></code> représentant l'adversaire PNJ.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>Retourne un entier indiquant le résultat du combat :<ul>
<li><code>VRAI</code> si le joueur gagne le combat.</li>
<li><code>FAUX</code> si le joueur perd le combat (tous ses Méchas sont KO).</li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Précondition</dt><dd><ul>
<li>Les pointeurs <code>joueur</code> et <code>pnj</code> doivent être initialisés.</li>
<li>Les structures associées aux Méchas des deux participants doivent être valides.</li>
</ul>
</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd><ul>
<li>Met à jour les PV des Méchas impliqués dans le combat.</li>
<li>Modifie l'état du PNJ à <code>1</code> (déjà combattu) si le joueur gagne.</li>
<li>Sauvegarde automatiquement l'état modifié du PNJ après victoire.</li>
</ul>
</dd></dl>
<dl class="section warning"><dt>Avertissement</dt><dd><ul>
<li>Le joueur ne peut pas fuir un combat contre un PNJ (tentative déclenche un message spécifique).</li>
<li>Si le joueur possède le Mécha <code>Aeroshima</code> (id_mechas = 23), celui-ci ne peut pas participer contre les fils d'Iron Musk. Un changement forcé est demandé.</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>Cette fonction gère entièrement la boucle de combat, bloquant ainsi jusqu’à son issue finale (victoire ou défaite).</li>
<li>La montée de niveau (<code>level_mechas</code>) est automatiquement gérée à chaque victoire contre un Mécha adverse.</li>
<li>En cas de défaite, les PV du PNJ sont restaurés à leur maximum initial.</li>
</ul>
</dd></dl>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">joueur</td><td>La structure du joueur mise à jour selon l’issue du combat (PV, expérience gagnée). </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pnj</td><td>La structure du PNJ mise à jour selon l’issue du combat (PV mis à jour ou restaurés, état modifié en cas de victoire du joueur). </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_a03ca199547656caabf8e81d769b770e4_cgraph.png" border="0" usemap="#acombat_8h_a03ca199547656caabf8e81d769b770e4_cgraph" alt=""/></div>
<map name="acombat_8h_a03ca199547656caabf8e81d769b770e4_cgraph" id="acombat_8h_a03ca199547656caabf8e81d769b770e4_cgraph">
<area shape="rect" title="Gère un combat complet entre le joueur et un PNJ." alt="" coords="5,181,95,207"/>
<area shape="rect" href="affichage_8c.html#a1091893e7df87a967b878919b232b0d5" title="Affiche un dialogue interactif durant un combat entre deux Méchas." alt="" coords="815,207,985,232"/>
<area shape="poly" title=" " alt="" coords="58,180,91,136,114,112,141,90,194,55,239,32,288,19,351,15,508,15,583,11,643,7,671,8,701,13,732,23,768,41,811,74,846,115,872,157,890,192,885,195,867,159,841,118,807,78,765,45,730,28,699,18,671,13,643,12,583,17,508,21,351,21,289,24,241,37,197,60,144,95,118,116,95,140,62,183"/>
<area shape="rect" href="combat_8c.html#a5491a6cd3adeb619da6eb84e6d888e7a" title="Gère les actions automatiques d&#39;un PNJ (personnage non&#45;joueur) lors d&#39;un combat contre le joueur." alt="" coords="448,207,565,232"/>
<area shape="poly" title=" " alt="" coords="95,194,434,213,434,218,95,199"/>
<area shape="rect" href="combat_8c.html#a16e4593cbfaef36a7cc088aa6bef48c0" title="Permet au joueur de changer le Mecha actif pendant un combat." alt="" coords="449,156,564,181"/>
<area shape="poly" title=" " alt="" coords="95,188,143,185,435,169,435,174,143,190,95,193"/>
<area shape="rect" href="combat_8c.html#a2de6c3e2a52edcf450da90005d5fad1d" title="Calcule et distribue les points d&#39;expérience (XP) aux Méchas du joueur après avoir vaincu un Mécha ad..." alt="" coords="148,105,251,131"/>
<area shape="poly" title=" " alt="" coords="75,179,160,134,163,139,77,183"/>
<area shape="rect" href="sauv_8c.html#ab1da7937b8e445add82b83c23950cc74" title="Sauvegarde ou met à jour les données d&#39;un PNJ spécifique pour un joueur dans un fichier CSV personnal..." alt="" coords="143,308,256,333"/>
<area shape="poly" title=" " alt="" coords="64,205,98,243,144,286,162,299,159,303,141,291,94,247,60,208"/>
<area shape="rect" href="combat_8c.html#a3c18ce2957ca72f56737d0082766ad63" title="Gère le tour du joueur lors d&#39;un combat contre un Mécha sauvage ou un PNJ." alt="" coords="309,535,395,560"/>
<area shape="poly" title=" " alt="" coords="79,204,186,256,258,294,279,322,297,351,324,414,341,473,350,520,344,521,335,475,319,416,292,354,275,325,254,299,183,261,77,209"/>
<area shape="rect" href="affichage_8c.html#a7290dad76779d8dd7f48366a16812be8" title="Initialise un rectangle avec ses dimensions, sa couleur et un texte optionnel." alt="" coords="1237,463,1348,488"/>
<area shape="poly" title=" " alt="" coords="928,204,979,185,1046,169,1082,166,1118,168,1152,177,1184,193,1214,219,1237,250,1256,285,1270,321,1287,392,1293,448,1288,449,1281,393,1265,323,1251,287,1233,253,1210,222,1181,197,1150,182,1117,174,1082,172,1047,175,981,190,930,209"/>
<area shape="rect" href="combat_8c.html#a159b2a6408c605d1fc9432689f92e3cb" title="Affiche à l&#39;écran tous les éléments graphiques d&#39;un combat entre deux Mechas." alt="" coords="1058,764,1158,789"/>
<area shape="poly" title=" " alt="" coords="924,230,958,257,974,275,988,295,1010,353,1019,404,1019,452,1014,498,1008,544,1007,591,1015,642,1036,699,1056,729,1080,753,1076,757,1052,732,1031,702,1010,644,1002,591,1003,543,1008,497,1014,452,1014,405,1005,354,983,298,970,278,954,261,921,234"/>
<area shape="rect" href="affichage_8c.html#ab542b24175a0231f8530346fc8ab790f" title="Dessine un rectangle coloré et son texte associé si présent." alt="" coords="1425,335,1503,360"/>
<area shape="poly" title=" " alt="" coords="923,204,972,180,1033,161,1075,153,1108,150,1142,152,1183,161,1224,173,1264,191,1338,235,1399,283,1442,322,1439,326,1395,287,1334,240,1262,196,1222,178,1182,166,1141,157,1108,155,1075,158,1034,166,974,185,925,209"/>
<area shape="rect" href="affichage_8c.html#a390da1c2cd15fd5355de26bd34b3d3dc" title="Dessine du texte centré dans un rectangle, ligne par ligne si nécessaire." alt="" coords="1403,561,1525,587"/>
<area shape="poly" title=" " alt="" coords="976,229,1077,255,1132,275,1184,300,1228,327,1270,359,1346,429,1407,496,1448,549,1444,552,1403,500,1342,432,1267,363,1225,331,1181,304,1130,280,1076,261,975,234"/>
<area shape="rect" href="affichage_8c.html#ab54c358911a2ed823f20797846583531" title="Dessine un texte centré verticalement et aligné à gauche dans un rectangle." alt="" coords="1033,207,1183,232"/>
<area shape="poly" title=" " alt="" coords="985,217,1019,217,1019,222,985,222"/>
<area shape="poly" title=" " alt="" coords="1122,762,1151,734,1180,699,1277,499,1282,502,1185,702,1155,738,1126,766"/>
<area shape="rect" href="affichage_8c.html#afc970416ff2ee1d9f8351a288625f23a" title="Concatène un entier à la fin d&#39;une chaîne de caractères." alt="" coords="1262,616,1323,641"/>
<area shape="poly" title=" " alt="" coords="1150,762,1181,743,1197,720,1204,698,1211,675,1229,652,1248,639,1251,644,1232,656,1216,678,1209,700,1202,723,1184,746,1153,766"/>
<area shape="rect" href="affichage_8c.html#a4f7e45e8554e8971bdba352cf9838405" title="Dessine plusieurs rectangles avec leurs textes centrés." alt="" coords="1243,813,1342,839"/>
<area shape="poly" title=" " alt="" coords="1157,787,1232,807,1230,812,1156,792"/>
<area shape="rect" href="affichage_8c.html#a3d385ca0396c4c2b3001371505a410e4" title="Affiche l&#39;arrière&#45;plan (background) actuel du jeu." alt="" coords="1231,715,1355,740"/>
<area shape="poly" title=" " alt="" coords="1156,761,1230,741,1232,746,1157,766"/>
<area shape="rect" href="affichage_8c.html#ae63215d67a18f635b3a1c2e1464a0a6f" title="Dessine un Mécha à l&#39;écran avec la texture correspondant à son orientation." alt="" coords="1245,665,1341,691"/>
<area shape="poly" title=" " alt="" coords="1143,761,1181,742,1205,722,1229,701,1241,694,1244,699,1232,705,1208,726,1184,747,1146,766"/>
<area shape="rect" href="affichage_8c.html#ac0e780352c4ab1739b9e31be92740c2d" title="Dessine du texte à une position spécifique à l&#39;écran, avec gestion des retours à la ligne." alt="" coords="1239,764,1346,789"/>
<area shape="poly" title=" " alt="" coords="1158,774,1226,774,1226,779,1158,779"/>
<area shape="poly" title=" " alt="" coords="1339,811,1353,800,1374,769,1386,740,1392,712,1393,684,1391,624,1393,589,1400,549,1427,451,1452,372,1457,373,1432,452,1405,550,1399,589,1397,624,1399,684,1397,713,1392,742,1379,772,1357,804,1343,815"/>
<area shape="poly" title=" " alt="" coords="1337,811,1353,800,1374,777,1392,751,1422,696,1442,642,1454,599,1460,601,1447,644,1427,698,1397,754,1378,780,1356,804,1340,815"/>
<area shape="poly" title=" " alt="" coords="566,217,801,217,801,222,566,222"/>
<area shape="rect" href="combat_8c.html#a8c19b3bf83d09e9fb4b596cd4ff45219" title="Calcule et applique les effets d&#39;une attaque lors d&#39;un combat entre deux Mechas." alt="" coords="642,359,738,384"/>
<area shape="poly" title=" " alt="" coords="525,230,665,348,661,352,522,234"/>
<area shape="poly" title=" " alt="" coords="727,356,765,337,873,239,877,243,768,341,729,361"/>
<area shape="rect" href="combat_8c.html#ab9469ab4f84b56a27ef05848c4a78cb9" title="Anime visuellement la diminution progressive des PV d&#39;un Mecha durant un combat." alt="" coords="841,308,959,333"/>
<area shape="poly" title=" " alt="" coords="738,357,833,334,834,339,739,362"/>
<area shape="poly" title=" " alt="" coords="909,332,988,549,1000,592,1007,627,1016,660,1036,699,1058,728,1082,753,1078,757,1054,732,1031,702,1011,662,1002,628,995,594,983,551,904,334"/>
<area shape="poly" title=" " alt="" coords="564,173,767,198,801,203,801,208,766,203,564,178"/>
<area shape="rect" href="combat_8c.html#a30cb93b663d557e0e81271f956c24379" title="Affiche l&#39;interface de sélection du Mecha du joueur durant un combat." alt="" coords="1038,663,1178,688"/>
<area shape="poly" title=" " alt="" coords="546,153,564,141,574,129,579,116,584,90,591,64,599,52,612,41,668,14,721,4,771,8,819,26,864,55,907,94,948,141,988,194,1022,253,1050,317,1071,383,1086,448,1103,566,1109,649,1104,649,1098,566,1081,449,1066,384,1045,319,1018,255,983,197,944,144,904,98,861,60,817,31,770,13,721,9,669,19,615,45,603,55,596,66,590,91,584,118,578,132,567,145,549,158"/>
<area shape="poly" title=" " alt="" coords="1148,660,1181,641,1214,607,1241,569,1278,499,1283,502,1246,572,1218,611,1184,645,1151,665"/>
<area shape="poly" title=" " alt="" coords="1158,660,1248,637,1249,642,1160,665"/>
<area shape="poly" title=" " alt="" coords="1123,686,1232,800,1241,805,1238,809,1229,804,1120,690"/>
<area shape="poly" title=" " alt="" coords="1155,685,1234,708,1233,713,1153,690"/>
<area shape="poly" title=" " alt="" coords="1178,674,1231,674,1231,680,1178,679"/>
<area shape="rect" href="combat_8c.html#ac6fcdad743dc3526b2b89a1630618a07" title="Distribue les points d&#39;expérience (XP) gagnés lors d&#39;un combat à un ensemble de Méchas ayant particip..." alt="" coords="304,105,400,131"/>
<area shape="poly" title=" " alt="" coords="251,115,290,115,290,121,251,121"/>
<area shape="rect" href="combat_8c.html#aec838d58a7def8717d7fcd0faab3a107" title="Gère la montée en niveau d&#39;un Mecha joueur après avoir reçu des points d&#39;expérience (XP)." alt="" coords="451,105,562,131"/>
<area shape="poly" title=" " alt="" coords="400,115,437,115,437,121,400,121"/>
<area shape="rect" href="combat_8c.html#af35e79d0f311c06fb1fe44ce8bb34ca4" title="Gère l&#39;apprentissage d&#39;une nouvelle attaque par un Mecha lors d&#39;un changement de niveau." alt="" coords="613,56,767,81"/>
<area shape="poly" title=" " alt="" coords="554,103,628,82,629,87,555,108"/>
<area shape="rect" href="combat_8c.html#afe15b54290598e06032e0c418f626461" title="Gère l&#39;évolution d&#39;un Mecha joueur lorsqu&#39;il atteint le niveau requis." alt="" coords="627,105,753,131"/>
<area shape="poly" title=" " alt="" coords="562,115,613,115,613,121,562,121"/>
<area shape="poly" title=" " alt="" coords="743,79,768,90,802,114,834,142,882,194,878,198,830,146,799,119,765,95,741,84"/>
<area shape="poly" title=" " alt="" coords="724,128,768,147,865,197,862,202,766,152,722,133"/>
<area shape="poly" title=" " alt="" coords="364,532,403,495,461,445,533,391,612,345,666,321,710,308,814,294,900,285,938,287,986,294,1045,304,1092,314,1135,333,1184,367,1201,385,1210,404,1218,422,1233,441,1249,454,1246,458,1229,445,1213,425,1205,406,1197,388,1181,371,1133,337,1090,319,1044,309,985,299,937,292,900,291,815,299,711,314,668,326,615,350,536,395,465,449,407,499,368,536"/>
<area shape="poly" title=" " alt="" coords="359,559,368,596,386,647,413,701,430,727,450,749,488,782,524,800,563,810,614,821,717,839,799,844,881,838,985,821,1029,809,1068,793,1070,798,1030,814,986,826,882,843,799,850,717,844,613,826,562,816,522,805,486,786,446,753,426,730,408,704,381,649,363,598,353,561"/>
<area shape="poly" title=" " alt="" coords="358,560,383,665,407,742,441,823,486,900,512,935,541,965,573,991,608,1010,647,1023,689,1027,901,1027,984,1030,1049,1031,1080,1027,1111,1019,1144,1005,1181,984,1216,955,1243,919,1265,882,1279,851,1284,853,1269,885,1248,922,1219,958,1184,988,1146,1010,1112,1024,1081,1032,1050,1036,984,1035,901,1033,689,1033,646,1028,606,1015,570,995,537,969,508,938,481,903,437,825,402,743,378,667,353,561"/>
<area shape="poly" title=" " alt="" coords="350,534,353,475,364,385,376,335,393,285,416,237,446,193,453,187,456,191,450,197,421,240,398,287,381,337,370,386,358,475,356,534"/>
<area shape="rect" href="combat_8c.html#aeabe45f0372840462d595a801345672b" title="Affiche l&#39;interface permettant au joueur de choisir et effectuer une attaque durant un combat." alt="" coords="453,713,560,739"/>
<area shape="poly" title=" " alt="" coords="366,558,488,701,483,704,362,562"/>
<area shape="rect" href="combat_8c.html#ae82c6dcf76c1412964511d71b75c637e" title="Affiche l&#39;interface d&#39;utilisation d&#39;objets pendant un combat." alt="" coords="451,535,563,560"/>
<area shape="poly" title=" " alt="" coords="396,545,436,545,436,550,396,550"/>
<area shape="poly" title=" " alt="" coords="560,712,748,666,866,633,984,597,1132,541,1250,491,1252,496,1134,546,986,602,868,638,750,671,561,717"/>
<area shape="poly" title=" " alt="" coords="523,737,562,767,587,782,614,793,671,806,731,814,790,816,849,815,958,804,1044,789,1045,794,958,810,849,820,790,822,730,819,670,811,613,798,585,786,559,771,520,741"/>
<area shape="poly" title=" " alt="" coords="561,733,677,749,752,755,835,758,922,755,1011,745,1098,727,1182,698,1196,689,1205,677,1215,665,1229,652,1248,641,1251,646,1232,656,1219,668,1210,681,1200,693,1184,703,1100,732,1011,750,922,760,835,763,752,761,676,755,560,739"/>
<area shape="poly" title=" " alt="" coords="512,738,520,781,537,839,551,869,568,898,589,924,615,945,665,966,732,980,810,988,895,989,980,985,1060,976,1129,962,1182,945,1212,926,1238,901,1276,849,1280,852,1242,904,1215,930,1184,950,1130,967,1060,981,980,990,895,995,810,993,731,986,663,971,612,949,585,928,564,901,546,872,532,841,515,782,507,739"/>
<area shape="poly" title=" " alt="" coords="511,712,551,622,611,498,671,394,676,397,616,500,556,624,516,714"/>
<area shape="poly" title=" " alt="" coords="509,533,521,497,542,447,572,393,611,345,663,305,721,274,779,250,831,233,833,238,781,255,724,279,666,310,615,349,576,396,546,450,526,499,514,535"/>
<area shape="poly" title=" " alt="" coords="517,532,556,492,583,470,612,452,665,427,710,414,814,401,919,384,1002,372,1042,371,1083,374,1130,384,1184,401,1200,409,1210,419,1232,441,1253,454,1251,458,1229,445,1206,423,1196,413,1182,406,1129,389,1083,380,1041,376,1002,377,919,390,815,406,711,419,667,432,615,456,586,475,560,496,521,536"/>
<area shape="poly" title=" " alt="" coords="520,558,558,601,585,625,615,645,670,672,728,696,846,731,956,754,1045,768,1044,773,955,760,845,736,726,701,667,677,612,650,582,629,555,605,516,562"/>
<area shape="poly" title=" " alt="" coords="528,532,567,513,613,497,716,477,798,472,881,477,986,489,1088,497,1131,507,1184,529,1211,545,1235,564,1274,603,1270,607,1232,568,1207,549,1181,534,1130,512,1087,502,985,494,880,483,798,477,717,482,614,502,569,518,531,537"/>
<area shape="poly" title=" " alt="" coords="515,559,527,590,548,632,577,675,615,712,690,757,773,790,859,813,945,827,1029,834,1106,836,1230,830,1230,836,1106,841,1028,839,944,832,857,818,771,795,688,762,612,716,573,679,544,635,522,593,510,561"/>
<area shape="rect" href="combat_8c.html#a7f2daafca6455a03963db8f32d8a8d10" title="Gère l&#39;utilisation d&#39;un objet &quot;carburant&quot; durant un combat." alt="" coords="621,511,759,536"/>
<area shape="poly" title=" " alt="" coords="562,537,606,531,607,537,563,543"/>
<area shape="rect" href="combat_8c.html#a53bf2250ba00b21dceed166fa59bd150" title="Gère l&#39;utilisation d&#39;une &quot;mechaball&quot; pour capturer un Mecha adverse durant un combat." alt="" coords="619,560,761,585"/>
<area shape="poly" title=" " alt="" coords="563,552,605,558,604,563,562,558"/>
<area shape="rect" href="combat_8c.html#afff6b8b516af5c46c938f407788d1b5f" title="Gère l&#39;utilisation d&#39;un objet &quot;rappel&quot; durant un combat." alt="" coords="631,609,749,635"/>
<area shape="poly" title=" " alt="" coords="533,558,614,595,633,602,631,607,612,600,531,562"/>
<area shape="poly" title=" " alt="" coords="697,509,764,395,786,344,796,322,813,295,840,264,868,239,872,243,844,268,817,298,800,324,791,346,769,398,702,512"/>
<area shape="poly" title=" " alt="" coords="760,514,814,511,900,505,938,505,986,511,1063,530,1138,556,1256,607,1254,612,1136,561,1062,535,985,516,938,510,901,510,815,517,760,520"/>
<area shape="poly" title=" " alt="" coords="760,514,811,513,869,516,929,527,986,547,1021,569,1050,596,1093,649,1089,653,1046,600,1017,573,984,552,928,532,869,522,811,518,760,519"/>
<area shape="poly" title=" " alt="" coords="751,558,765,547,786,516,796,487,798,458,796,428,792,366,797,332,812,295,837,263,866,238,870,242,841,267,817,298,802,333,797,366,801,428,803,458,801,488,791,518,769,550,754,562"/>
<area shape="rect" href="pointDePassage_8c.html#af6656571e1d9901fcca65ffc7217aabb" title="Copie intégralement les attributs d&#39;un Mecha vers l&#39;équipe du joueur." alt="" coords="847,561,953,587"/>
<area shape="poly" title=" " alt="" coords="762,570,833,571,833,576,762,576"/>
<area shape="poly" title=" " alt="" coords="748,609,765,596,789,559,800,524,801,489,797,454,792,418,790,379,795,339,812,295,837,263,866,238,869,242,841,266,817,298,800,340,795,380,797,417,802,453,806,489,805,525,794,561,769,600,751,613"/>
<area shape="poly" title=" " alt="" coords="750,627,1024,662,1024,667,749,632"/>
</map>
</div>
<div class="dynheader">
Voici le graphe des appelants de cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_a03ca199547656caabf8e81d769b770e4_icgraph.png" border="0" usemap="#acombat_8h_a03ca199547656caabf8e81d769b770e4_icgraph" alt=""/></div>
<map name="acombat_8h_a03ca199547656caabf8e81d769b770e4_icgraph" id="acombat_8h_a03ca199547656caabf8e81d769b770e4_icgraph">
<area shape="rect" title="Gère un combat complet entre le joueur et un PNJ." alt="" coords="208,31,297,56"/>
<area shape="rect" href="pointDePassage_8c.html#ade398b595e60d698c8c259edf2f8252a" title="Gère les interactions finales avec les PNJs &quot;Vin Gazole&quot; et &quot;Iron Musk&quot;, incluant dialogues,..." alt="" coords="35,5,131,31"/>
<area shape="poly" title=" " alt="" coords="194,37,130,28,131,22,195,32"/>
<area shape="rect" href="pointDePassage_8c.html#a9ed15a581ba87d71ad2d85b8649075da" title="Gère l&#39;interaction du joueur avec les PNJs &quot;Vin Gazole 2&quot; et &quot;Iron Musk&quot;, incluant dialogues,..." alt="" coords="5,55,160,80"/>
<area shape="poly" title=" " alt="" coords="195,54,161,59,160,54,194,49"/>
</map>
</div>

</div>
</div>
<a id="ae03e9f733803425a6c1dcb7b81c8234e" name="ae03e9f733803425a6c1dcb7b81c8234e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae03e9f733803425a6c1dcb7b81c8234e">&#9670;&#160;</a></span>combat_sauvage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int combat_sauvage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjoueur__t.html">joueur_t</a> *&#160;</td>
          <td class="paramname"><em>joueur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *&#160;</td>
          <td class="paramname"><em>mecha_sauvage</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gère un combat entre le joueur et un Mécha sauvage. </p>
<p>Cette fonction permet au joueur de combattre un Mécha sauvage en gérant :</p><ul>
<li>L'ordre des tours basé sur la vitesse des Méchas.</li>
<li>La possibilité pour le joueur d'utiliser des objets, d'attaquer ou de changer de Mécha.</li>
<li>La fuite possible du joueur en cours de combat.</li>
<li>Le changement automatique de Mécha si celui-ci est KO.</li>
<li>La montée de niveau des Méchas du joueur en cas de victoire.</li>
</ul>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">joueur</td><td>Un pointeur vers la structure <code><a class="el" href="structjoueur__t.html" title="Représente le joueur dans le jeu, avec sa position, son équipe de mechas et son inventaire.">joueur_t</a></code> représentant le joueur. </td></tr>
    <tr><td class="paramname">mecha_sauvage</td><td>Un pointeur vers la structure <code><a class="el" href="structmechas__joueur__t.html" title="Représente un mecha appartenant à un joueur, avec ses statistiques et attaques.">mechas_joueur_t</a></code> représentant le Mécha sauvage.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>Retourne un entier indiquant le résultat du combat :<ul>
<li><code>VRAI</code> si le joueur gagne le combat ou réussit à fuir.</li>
<li><code>FAUX</code> si tous les Méchas du joueur sont KO.</li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Précondition</dt><dd><ul>
<li>Les pointeurs <code>joueur</code> et <code>mecha_sauvage</code> doivent être valides.</li>
<li>Le Mécha sauvage doit être initialisé avec ses PV, attaques, etc.</li>
</ul>
</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd><ul>
<li>Met à jour les PV et l'expérience (<code>xp</code>) des Méchas du joueur.</li>
<li>Permet éventuellement au joueur d'augmenter de niveau ou d'apprendre de nouvelles attaques après une victoire.</li>
<li>Permet de fuir le combat en conservant l'état actuel des Méchas.</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>Le joueur peut fuir un combat contre un Mécha sauvage (à l'inverse des combats contre les PNJ).</li>
<li>L'XP gagnée est distribuée uniquement si le Mécha sauvage est vaincu.</li>
<li>L'affichage du combat est restauré après la fin du combat (restauration de <code>game.mat_active</code>).</li>
</ul>
</dd></dl>
<dl class="section warning"><dt>Avertissement</dt><dd><ul>
<li>Si tous les Méchas du joueur sont KO, le combat est perdu automatiquement.</li>
<li>Si le joueur choisit de fuir, le combat se termine immédiatement. </li>
</ul>
</dd></dl>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_ae03e9f733803425a6c1dcb7b81c8234e_cgraph.png" border="0" usemap="#acombat_8h_ae03e9f733803425a6c1dcb7b81c8234e_cgraph" alt=""/></div>
<map name="acombat_8h_ae03e9f733803425a6c1dcb7b81c8234e_cgraph" id="acombat_8h_ae03e9f733803425a6c1dcb7b81c8234e_cgraph">
<area shape="rect" title="Gère un combat entre le joueur et un Mécha sauvage." alt="" coords="5,156,127,181"/>
<area shape="rect" href="affichage_8c.html#a1091893e7df87a967b878919b232b0d5" title="Affiche un dialogue interactif durant un combat entre deux Méchas." alt="" coords="868,207,1039,232"/>
<area shape="poly" title=" " alt="" coords="80,154,125,117,194,71,235,49,279,32,325,20,372,15,545,15,625,11,688,5,719,6,750,11,784,22,821,41,864,74,899,115,925,157,944,192,939,195,921,159,895,118,860,78,819,45,781,27,749,17,718,12,689,11,625,16,545,21,372,21,326,25,281,37,238,54,197,75,128,121,83,158"/>
<area shape="rect" href="combat_8c.html#ac6ceced0c9217ccb31c1400649cfd67c" title="Gère l&#39;attaque aléatoire d&#39;un Mecha sauvage durant un combat contre le joueur." alt="" coords="469,207,619,232"/>
<area shape="poly" title=" " alt="" coords="127,172,456,207,455,213,127,178"/>
<area shape="rect" href="combat_8c.html#a16e4593cbfaef36a7cc088aa6bef48c0" title="Permet au joueur de changer le Mecha actif pendant un combat." alt="" coords="487,156,601,181"/>
<area shape="poly" title=" " alt="" coords="127,166,473,166,473,171,127,171"/>
<area shape="rect" href="combat_8c.html#a2de6c3e2a52edcf450da90005d5fad1d" title="Calcule et distribue les points d&#39;expérience (XP) aux Méchas du joueur après avoir vaincu un Mécha ad..." alt="" coords="175,105,277,131"/>
<area shape="poly" title=" " alt="" coords="106,153,171,132,173,137,108,158"/>
<area shape="rect" href="combat_8c.html#a3c18ce2957ca72f56737d0082766ad63" title="Gère le tour du joueur lors d&#39;un combat contre un Mécha sauvage ou un PNJ." alt="" coords="330,535,417,560"/>
<area shape="poly" title=" " alt="" coords="80,180,355,522,351,525,76,183"/>
<area shape="rect" href="affichage_8c.html#a7290dad76779d8dd7f48366a16812be8" title="Initialise un rectangle avec ses dimensions, sa couleur et un texte optionnel." alt="" coords="1291,437,1401,463"/>
<area shape="poly" title=" " alt="" coords="981,204,1033,185,1099,170,1135,167,1171,169,1205,177,1237,193,1265,216,1287,244,1305,275,1319,308,1337,372,1345,423,1340,424,1332,373,1314,309,1300,277,1283,247,1261,220,1235,197,1204,182,1170,174,1135,172,1100,175,1034,190,983,209"/>
<area shape="rect" href="combat_8c.html#a159b2a6408c605d1fc9432689f92e3cb" title="Affiche à l&#39;écran tous les éléments graphiques d&#39;un combat entre deux Mechas." alt="" coords="1111,764,1211,789"/>
<area shape="poly" title=" " alt="" coords="977,230,1011,257,1028,275,1041,295,1064,353,1073,404,1072,452,1067,498,1062,544,1061,591,1068,642,1089,699,1109,729,1133,753,1130,757,1105,732,1084,702,1063,644,1055,591,1056,543,1062,497,1067,452,1067,405,1059,354,1036,298,1023,278,1007,261,974,234"/>
<area shape="rect" href="affichage_8c.html#ab542b24175a0231f8530346fc8ab790f" title="Dessine un rectangle coloré et son texte associé si présent." alt="" coords="1478,335,1557,360"/>
<area shape="poly" title=" " alt="" coords="976,204,1025,180,1086,161,1128,153,1162,150,1195,152,1237,161,1278,173,1317,191,1391,235,1452,283,1496,322,1492,326,1448,287,1388,240,1315,196,1276,178,1235,166,1194,157,1162,155,1129,158,1087,166,1027,185,978,209"/>
<area shape="rect" href="affichage_8c.html#a390da1c2cd15fd5355de26bd34b3d3dc" title="Dessine du texte centré dans un rectangle, ligne par ligne si nécessaire." alt="" coords="1456,561,1579,587"/>
<area shape="poly" title=" " alt="" coords="1021,229,1125,256,1182,276,1237,299,1291,327,1330,352,1367,382,1410,424,1464,489,1504,548,1499,551,1460,492,1406,428,1363,386,1327,357,1288,332,1235,304,1180,281,1123,261,1020,235"/>
<area shape="rect" href="affichage_8c.html#ab54c358911a2ed823f20797846583531" title="Dessine un texte centré verticalement et aligné à gauche dans un rectangle." alt="" coords="1087,207,1236,232"/>
<area shape="poly" title=" " alt="" coords="1039,217,1073,217,1073,222,1039,222"/>
<area shape="poly" title=" " alt="" coords="1176,762,1205,734,1234,699,1257,655,1285,593,1333,474,1337,476,1290,595,1262,658,1238,702,1209,738,1180,766"/>
<area shape="rect" href="affichage_8c.html#afc970416ff2ee1d9f8351a288625f23a" title="Concatène un entier à la fin d&#39;une chaîne de caractères." alt="" coords="1315,616,1377,641"/>
<area shape="poly" title=" " alt="" coords="1203,762,1234,743,1250,720,1257,698,1265,675,1282,652,1301,639,1304,644,1286,656,1269,678,1262,700,1255,723,1238,746,1206,766"/>
<area shape="rect" href="affichage_8c.html#a4f7e45e8554e8971bdba352cf9838405" title="Dessine plusieurs rectangles avec leurs textes centrés." alt="" coords="1297,813,1395,839"/>
<area shape="poly" title=" " alt="" coords="1210,787,1285,807,1284,812,1209,792"/>
<area shape="rect" href="affichage_8c.html#a3d385ca0396c4c2b3001371505a410e4" title="Affiche l&#39;arrière&#45;plan (background) actuel du jeu." alt="" coords="1284,715,1408,740"/>
<area shape="poly" title=" " alt="" coords="1209,761,1284,741,1285,746,1210,766"/>
<area shape="rect" href="affichage_8c.html#ae63215d67a18f635b3a1c2e1464a0a6f" title="Dessine un Mécha à l&#39;écran avec la texture correspondant à son orientation." alt="" coords="1298,665,1394,691"/>
<area shape="poly" title=" " alt="" coords="1197,761,1235,742,1258,722,1282,701,1295,694,1297,699,1286,705,1262,726,1237,747,1199,766"/>
<area shape="rect" href="affichage_8c.html#ac0e780352c4ab1739b9e31be92740c2d" title="Dessine du texte à une position spécifique à l&#39;écran, avec gestion des retours à la ligne." alt="" coords="1293,764,1399,789"/>
<area shape="poly" title=" " alt="" coords="1211,774,1279,774,1279,779,1211,779"/>
<area shape="poly" title=" " alt="" coords="1393,811,1406,800,1427,769,1440,740,1445,712,1447,684,1445,624,1447,589,1453,549,1480,451,1505,372,1510,373,1486,452,1459,550,1452,589,1450,624,1452,684,1451,713,1445,742,1432,772,1410,804,1396,815"/>
<area shape="poly" title=" " alt="" coords="1390,811,1406,800,1427,777,1446,751,1475,696,1496,642,1508,599,1513,601,1501,644,1480,698,1450,754,1431,780,1410,804,1393,815"/>
<area shape="poly" title=" " alt="" coords="619,217,854,217,854,222,619,222"/>
<area shape="rect" href="combat_8c.html#a8c19b3bf83d09e9fb4b596cd4ff45219" title="Calcule et applique les effets d&#39;une attaque lors d&#39;un combat entre deux Mechas." alt="" coords="695,359,791,384"/>
<area shape="poly" title=" " alt="" coords="563,230,716,348,713,352,560,234"/>
<area shape="poly" title=" " alt="" coords="780,356,818,337,927,239,930,243,822,341,783,361"/>
<area shape="rect" href="combat_8c.html#ab9469ab4f84b56a27ef05848c4a78cb9" title="Anime visuellement la diminution progressive des PV d&#39;un Mecha durant un combat." alt="" coords="895,308,1012,333"/>
<area shape="poly" title=" " alt="" coords="791,357,886,334,887,339,792,362"/>
<area shape="poly" title=" " alt="" coords="962,332,1041,549,1053,592,1060,627,1070,660,1089,699,1111,728,1136,753,1132,757,1107,732,1084,702,1065,662,1055,628,1048,594,1036,551,957,334"/>
<area shape="poly" title=" " alt="" coords="602,172,820,198,855,202,854,208,820,203,601,177"/>
<area shape="rect" href="combat_8c.html#a30cb93b663d557e0e81271f956c24379" title="Affiche l&#39;interface de sélection du Mecha du joueur durant un combat." alt="" coords="1091,663,1231,688"/>
<area shape="poly" title=" " alt="" coords="597,154,617,141,627,129,633,117,638,90,644,64,652,52,665,41,721,14,774,4,825,8,872,26,918,55,961,94,1002,141,1041,194,1076,253,1103,317,1124,383,1139,448,1157,566,1162,649,1157,649,1152,566,1134,449,1119,384,1098,319,1071,255,1036,197,998,144,957,98,915,60,870,31,823,13,774,9,723,19,668,45,656,55,649,66,643,91,638,118,632,132,620,145,600,158"/>
<area shape="poly" title=" " alt="" coords="1203,660,1234,641,1270,601,1298,556,1319,511,1334,475,1339,477,1324,513,1303,558,1274,604,1238,645,1206,665"/>
<area shape="poly" title=" " alt="" coords="1212,660,1301,637,1302,642,1213,665"/>
<area shape="poly" title=" " alt="" coords="1177,686,1286,800,1294,805,1291,809,1282,804,1173,690"/>
<area shape="poly" title=" " alt="" coords="1208,685,1288,708,1286,713,1206,690"/>
<area shape="poly" title=" " alt="" coords="1232,674,1284,674,1284,680,1231,679"/>
<area shape="rect" href="combat_8c.html#ac6fcdad743dc3526b2b89a1630618a07" title="Distribue les points d&#39;expérience (XP) gagnés lors d&#39;un combat à un ensemble de Méchas ayant particip..." alt="" coords="325,105,421,131"/>
<area shape="poly" title=" " alt="" coords="278,115,312,115,312,121,278,121"/>
<area shape="rect" href="combat_8c.html#aec838d58a7def8717d7fcd0faab3a107" title="Gère la montée en niveau d&#39;un Mecha joueur après avoir reçu des points d&#39;expérience (XP)." alt="" coords="489,105,599,131"/>
<area shape="poly" title=" " alt="" coords="421,115,475,115,475,121,421,121"/>
<area shape="rect" href="combat_8c.html#af35e79d0f311c06fb1fe44ce8bb34ca4" title="Gère l&#39;apprentissage d&#39;une nouvelle attaque par un Mecha lors d&#39;un changement de niveau." alt="" coords="667,56,820,81"/>
<area shape="poly" title=" " alt="" coords="595,103,677,82,679,87,597,108"/>
<area shape="rect" href="combat_8c.html#afe15b54290598e06032e0c418f626461" title="Gère l&#39;évolution d&#39;un Mecha joueur lorsqu&#39;il atteint le niveau requis." alt="" coords="680,105,807,131"/>
<area shape="poly" title=" " alt="" coords="600,115,666,115,666,121,600,121"/>
<area shape="poly" title=" " alt="" coords="797,79,821,90,856,114,887,142,936,194,932,198,884,146,853,119,819,95,794,84"/>
<area shape="poly" title=" " alt="" coords="778,128,821,147,918,197,916,202,819,152,775,133"/>
<area shape="poly" title=" " alt="" coords="388,532,432,495,498,445,579,391,666,345,720,322,764,309,868,294,954,283,992,285,1039,294,1080,307,1113,321,1165,355,1216,392,1247,410,1285,429,1287,430,1285,435,1283,434,1244,415,1213,396,1162,359,1110,326,1078,312,1038,299,991,290,954,289,868,299,765,315,722,327,668,350,581,396,501,449,435,500,391,536"/>
<area shape="poly" title=" " alt="" coords="380,560,389,597,406,648,433,702,450,727,471,749,518,784,560,801,607,809,667,818,771,834,853,839,934,834,1038,818,1081,807,1120,792,1121,797,1082,812,1039,823,935,839,853,844,770,839,666,823,606,815,559,806,515,789,468,753,446,730,428,705,401,650,384,598,374,561"/>
<area shape="poly" title=" " alt="" coords="379,560,388,605,406,671,433,745,451,782,472,816,529,903,555,939,582,970,612,994,648,1012,690,1023,742,1027,955,1027,1037,1030,1103,1031,1133,1027,1164,1019,1197,1005,1234,984,1269,955,1297,919,1318,882,1333,851,1337,853,1323,885,1301,922,1273,958,1238,988,1200,1010,1166,1024,1134,1032,1103,1036,1037,1035,955,1033,742,1033,689,1029,646,1017,610,999,579,973,551,942,524,906,467,819,446,785,428,747,401,672,383,606,374,561"/>
<area shape="poly" title=" " alt="" coords="372,534,373,474,383,384,395,334,412,283,436,236,467,193,475,186,479,190,471,197,440,239,417,285,400,335,389,385,378,475,377,534"/>
<area shape="rect" href="combat_8c.html#aeabe45f0372840462d595a801345672b" title="Affiche l&#39;interface permettant au joueur de choisir et effectuer une attaque durant un combat." alt="" coords="491,713,597,739"/>
<area shape="poly" title=" " alt="" coords="389,558,523,701,519,705,385,562"/>
<area shape="rect" href="combat_8c.html#ae82c6dcf76c1412964511d71b75c637e" title="Affiche l&#39;interface d&#39;utilisation d&#39;objets pendant un combat." alt="" coords="488,535,600,560"/>
<area shape="poly" title=" " alt="" coords="417,545,474,545,474,550,417,550"/>
<area shape="poly" title=" " alt="" coords="597,714,793,670,916,637,1038,597,1115,565,1191,529,1309,467,1312,472,1193,534,1118,570,1040,602,917,642,794,675,598,719"/>
<area shape="poly" title=" " alt="" coords="563,737,608,767,637,782,667,793,725,805,784,811,903,812,1011,802,1097,788,1098,793,1012,807,903,817,784,817,724,810,666,798,635,787,605,771,560,741"/>
<area shape="poly" title=" " alt="" coords="598,734,717,750,794,756,878,759,968,756,1059,746,1149,728,1235,698,1250,689,1259,677,1268,665,1282,652,1302,641,1304,646,1286,656,1272,668,1263,681,1253,693,1237,703,1151,733,1060,752,968,762,878,764,793,762,716,755,597,739"/>
<area shape="poly" title=" " alt="" coords="550,738,561,781,583,839,598,870,618,899,641,924,668,945,718,965,786,979,864,986,949,988,1034,984,1113,975,1182,962,1235,945,1266,926,1292,901,1329,849,1334,852,1296,904,1269,930,1237,950,1184,967,1114,981,1034,990,949,993,864,992,785,984,717,970,665,950,637,928,613,902,594,872,578,841,556,783,545,740"/>
<area shape="poly" title=" " alt="" coords="550,712,664,498,725,394,729,397,669,501,554,714"/>
<area shape="poly" title=" " alt="" coords="548,533,563,497,587,447,622,393,665,345,718,306,777,275,835,251,887,233,889,238,837,256,779,280,721,311,668,349,626,397,592,450,567,499,553,535"/>
<area shape="poly" title=" " alt="" coords="558,532,603,497,633,480,666,466,749,445,835,431,921,423,1006,421,1160,426,1277,437,1277,443,1159,431,1006,426,921,429,835,436,750,450,668,471,636,484,606,502,561,536"/>
<area shape="poly" title=" " alt="" coords="559,558,604,601,635,625,668,645,724,671,782,693,901,728,1010,752,1098,766,1097,772,1009,757,899,733,780,698,722,676,665,650,632,629,601,605,555,562"/>
<area shape="poly" title=" " alt="" coords="569,532,613,513,666,497,770,479,852,474,934,478,1039,489,1141,497,1185,507,1237,529,1264,545,1288,564,1327,603,1323,607,1285,568,1261,549,1235,534,1183,512,1140,502,1038,494,934,483,852,479,770,484,667,502,615,518,571,537"/>
<area shape="poly" title=" " alt="" coords="554,559,569,590,594,631,628,673,668,709,745,752,828,784,914,807,1000,821,1084,829,1160,832,1283,829,1283,834,1160,837,1083,835,1000,827,913,812,826,789,742,757,665,713,624,677,590,634,565,593,549,561"/>
<area shape="rect" href="combat_8c.html#a7f2daafca6455a03963db8f32d8a8d10" title="Gère l&#39;utilisation d&#39;un objet &quot;carburant&quot; durant un combat." alt="" coords="674,511,813,536"/>
<area shape="poly" title=" " alt="" coords="600,538,660,531,660,536,600,543"/>
<area shape="rect" href="combat_8c.html#a53bf2250ba00b21dceed166fa59bd150" title="Gère l&#39;utilisation d&#39;une &quot;mechaball&quot; pour capturer un Mecha adverse durant un combat." alt="" coords="672,560,815,585"/>
<area shape="poly" title=" " alt="" coords="600,552,659,559,658,564,600,557"/>
<area shape="rect" href="combat_8c.html#afff6b8b516af5c46c938f407788d1b5f" title="Gère l&#39;utilisation d&#39;un objet &quot;rappel&quot; durant un combat." alt="" coords="684,609,803,635"/>
<area shape="poly" title=" " alt="" coords="575,558,668,595,688,602,686,607,666,600,573,562"/>
<area shape="poly" title=" " alt="" coords="750,509,818,395,839,344,849,322,866,295,893,264,922,239,925,243,897,268,870,298,854,324,844,346,822,398,755,512"/>
<area shape="poly" title=" " alt="" coords="813,514,868,511,954,505,991,505,1039,511,1116,530,1191,556,1309,607,1307,612,1189,561,1115,535,1038,516,991,510,954,510,868,517,813,520"/>
<area shape="poly" title=" " alt="" coords="813,514,864,513,923,516,983,527,1040,547,1074,569,1104,596,1147,649,1143,653,1100,600,1071,573,1038,552,981,532,922,522,864,518,813,519"/>
<area shape="poly" title=" " alt="" coords="804,558,818,547,839,516,849,487,851,458,849,428,845,366,851,332,866,295,891,263,919,238,923,242,894,267,870,298,856,333,850,366,854,428,856,458,854,488,844,518,822,550,807,562"/>
<area shape="rect" href="pointDePassage_8c.html#af6656571e1d9901fcca65ffc7217aabb" title="Copie intégralement les attributs d&#39;un Mecha vers l&#39;équipe du joueur." alt="" coords="900,561,1007,587"/>
<area shape="poly" title=" " alt="" coords="815,570,886,571,886,576,815,576"/>
<area shape="poly" title=" " alt="" coords="801,609,818,596,842,559,853,524,854,489,850,454,845,418,843,379,849,339,866,295,890,263,919,238,923,242,894,266,870,298,854,340,849,380,851,417,856,453,860,489,858,525,847,561,822,600,804,613"/>
<area shape="poly" title=" " alt="" coords="803,627,1078,662,1077,667,803,632"/>
</map>
</div>

</div>
</div>
<a id="ac6fcdad743dc3526b2b89a1630618a07" name="ac6fcdad743dc3526b2b89a1630618a07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6fcdad743dc3526b2b89a1630618a07">&#9670;&#160;</a></span>distribuer_xp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void distribuer_xp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjoueur__t.html">joueur_t</a> *&#160;</td>
          <td class="paramname"><em>mechas_presents</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *&#160;</td>
          <td class="paramname"><em>mecha_ordi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>xp_gagne</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Distribue les points d'expérience (XP) gagnés lors d'un combat à un ensemble de Méchas ayant participé. </p>
<p>Cette fonction calcule la répartition des points d'expérience gagnés à la fin d'un combat selon le nombre de Méchas du joueur ayant participé. La répartition suit une logique prédéfinie :</p><ul>
<li>1 Mécha reçoit 100% de l'XP,</li>
<li>2 Méchas reçoivent respectivement 2/3 et 1/3 de l'XP,</li>
<li>3 Méchas reçoivent respectivement 3/5, 1/5, 1/5 de l'XP,</li>
<li>4 Méchas reçoivent respectivement 4/7, 1/7, 1/7, 1/7 de l'XP.</li>
</ul>
<p>Chaque Mécha reçoit son montant d'XP calculé et gère ensuite individuellement sa montée de niveau éventuelle.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">mechas_presents</td><td>Pointeur vers la structure du joueur contenant les Méchas ayant participé au combat. </td></tr>
    <tr><td class="paramname">mecha_ordi</td><td>Pointeur vers le Mécha adverse vaincu (pour contexte d'évolution ou apprentissage d'attaques). </td></tr>
    <tr><td class="paramname">xp_gagne</td><td>Quantité totale d'XP gagnée à répartir entre les Méchas participants.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Précondition</dt><dd><ul>
<li><code>mechas_presents</code> doit pointer vers une structure joueur initialisée avec un nombre correct de Méchas (<code>nb_mechas</code> renseigné).</li>
<li><code>xp_gagne</code> doit être une valeur positive représentant l'expérience totale à distribuer.</li>
</ul>
</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd><ul>
<li>Chaque Mécha ayant participé voit ses XP augmenter selon la répartition définie.</li>
<li>Si un Mécha dépasse le seuil d'XP pour monter de niveau, la fonction <code>montee_niveau</code> est appelée et met à jour ses statistiques en conséquence.</li>
</ul>
</dd></dl>
<dl class="section warning"><dt>Avertissement</dt><dd><ul>
<li>Si plus de 4 Méchas sont présents, seuls les 4 premiers Méchas reçoivent de l'XP.</li>
<li>Assurez-vous que l'ordre des Méchas présents est correct, car il influence la répartition des XP.</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>Le calcul du seuil d'expérience (<code>lvlup</code>) requis pour chaque Mécha utilise la formule exponentielle suivante : <p class="formulaDsp">
<picture><source srcset="form_0_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaDsp" alt="\[ \text{lvlup} = \left\lfloor 15 \times e^{0.05 \times \text{niveau}} \right\rfloor \]" src="form_0.png"/></picture>
</p>
 </li>
</ul>
</dd></dl>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_ac6fcdad743dc3526b2b89a1630618a07_cgraph.png" border="0" usemap="#acombat_8h_ac6fcdad743dc3526b2b89a1630618a07_cgraph" alt=""/></div>
<map name="acombat_8h_ac6fcdad743dc3526b2b89a1630618a07_cgraph" id="acombat_8h_ac6fcdad743dc3526b2b89a1630618a07_cgraph">
<area shape="rect" title="Distribue les points d&#39;expérience (XP) gagnés lors d&#39;un combat à un ensemble de Méchas ayant particip..." alt="" coords="5,172,101,197"/>
<area shape="rect" href="combat_8c.html#aec838d58a7def8717d7fcd0faab3a107" title="Gère la montée en niveau d&#39;un Mecha joueur après avoir reçu des points d&#39;expérience (XP)." alt="" coords="149,172,260,197"/>
<area shape="poly" title=" " alt="" coords="102,182,135,182,135,187,102,187"/>
<area shape="rect" href="combat_8c.html#af35e79d0f311c06fb1fe44ce8bb34ca4" title="Gère l&#39;apprentissage d&#39;une nouvelle attaque par un Mecha lors d&#39;un changement de niveau." alt="" coords="308,146,461,172"/>
<area shape="poly" title=" " alt="" coords="260,174,294,169,295,174,261,179"/>
<area shape="rect" href="combat_8c.html#afe15b54290598e06032e0c418f626461" title="Gère l&#39;évolution d&#39;un Mecha joueur lorsqu&#39;il atteint le niveau requis." alt="" coords="321,196,448,221"/>
<area shape="poly" title=" " alt="" coords="261,189,307,195,307,201,260,194"/>
<area shape="rect" href="affichage_8c.html#a1091893e7df87a967b878919b232b0d5" title="Affiche un dialogue interactif durant un combat entre deux Méchas." alt="" coords="509,172,680,197"/>
<area shape="poly" title=" " alt="" coords="462,166,496,170,495,175,461,171"/>
<area shape="rect" href="affichage_8c.html#a7290dad76779d8dd7f48366a16812be8" title="Initialise un rectangle avec ses dimensions, sa couleur et un texte optionnel." alt="" coords="932,48,1043,73"/>
<area shape="poly" title=" " alt="" coords="635,169,932,75,934,80,637,174"/>
<area shape="rect" href="combat_8c.html#a159b2a6408c605d1fc9432689f92e3cb" title="Affiche à l&#39;écran tous les éléments graphiques d&#39;un combat entre deux Mechas." alt="" coords="753,172,853,197"/>
<area shape="poly" title=" " alt="" coords="680,182,739,182,739,187,680,187"/>
<area shape="rect" href="affichage_8c.html#ab542b24175a0231f8530346fc8ab790f" title="Dessine un rectangle coloré et son texte associé si présent." alt="" coords="1119,270,1198,296"/>
<area shape="poly" title=" " alt="" coords="608,169,680,112,733,77,793,44,858,18,924,4,957,3,989,7,1021,17,1051,33,1078,55,1100,82,1117,112,1131,144,1149,207,1158,257,1152,257,1144,208,1126,146,1113,115,1095,85,1074,59,1048,37,1019,22,988,13,957,9,924,9,859,23,795,49,736,81,683,116,612,174"/>
<area shape="rect" href="affichage_8c.html#a390da1c2cd15fd5355de26bd34b3d3dc" title="Dessine du texte centré dans un rectangle, ligne par ligne si nécessaire." alt="" coords="1097,320,1220,345"/>
<area shape="poly" title=" " alt="" coords="617,195,669,225,744,264,832,302,926,330,1007,339,1083,338,1083,343,1006,344,925,335,831,307,742,269,667,230,615,199"/>
<area shape="rect" href="affichage_8c.html#ab54c358911a2ed823f20797846583531" title="Dessine un texte centré verticalement et aligné à gauche dans un rectangle." alt="" coords="728,396,877,421"/>
<area shape="poly" title=" " alt="" coords="604,196,621,231,649,278,685,329,730,374,750,388,747,392,726,378,681,333,644,281,617,233,599,199"/>
<area shape="poly" title=" " alt="" coords="819,169,876,125,899,102,924,82,934,76,937,81,927,87,902,106,879,129,823,174"/>
<area shape="rect" href="affichage_8c.html#afc970416ff2ee1d9f8351a288625f23a" title="Concatène un entier à la fin d&#39;une chaîne de caractères." alt="" coords="957,245,1018,270"/>
<area shape="poly" title=" " alt="" coords="836,195,926,231,945,239,943,244,924,236,834,200"/>
<area shape="rect" href="affichage_8c.html#a4f7e45e8554e8971bdba352cf9838405" title="Dessine plusieurs rectangles avec leurs textes centrés." alt="" coords="938,294,1037,320"/>
<area shape="poly" title=" " alt="" coords="819,195,864,236,927,281,938,287,935,291,924,285,861,240,815,199"/>
<area shape="rect" href="affichage_8c.html#a3d385ca0396c4c2b3001371505a410e4" title="Affiche l&#39;arrière&#45;plan (background) actuel du jeu." alt="" coords="925,97,1049,122"/>
<area shape="poly" title=" " alt="" coords="833,169,924,131,940,125,942,130,926,136,835,174"/>
<area shape="rect" href="affichage_8c.html#ae63215d67a18f635b3a1c2e1464a0a6f" title="Dessine un Mécha à l&#39;écran avec la texture correspondant à son orientation." alt="" coords="939,146,1035,172"/>
<area shape="poly" title=" " alt="" coords="852,175,925,165,926,170,853,180"/>
<area shape="rect" href="affichage_8c.html#ac0e780352c4ab1739b9e31be92740c2d" title="Dessine du texte à une position spécifique à l&#39;écran, avec gestion des retours à la ligne." alt="" coords="934,196,1041,221"/>
<area shape="poly" title=" " alt="" coords="853,188,921,197,920,202,852,193"/>
<area shape="poly" title=" " alt="" coords="1037,298,1105,288,1106,293,1037,303"/>
<area shape="poly" title=" " alt="" coords="1037,312,1084,319,1083,324,1037,317"/>
<area shape="poly" title=" " alt="" coords="448,199,495,193,496,198,449,204"/>
</map>
</div>
<div class="dynheader">
Voici le graphe des appelants de cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_ac6fcdad743dc3526b2b89a1630618a07_icgraph.png" border="0" usemap="#acombat_8h_ac6fcdad743dc3526b2b89a1630618a07_icgraph" alt=""/></div>
<map name="acombat_8h_ac6fcdad743dc3526b2b89a1630618a07_icgraph" id="acombat_8h_ac6fcdad743dc3526b2b89a1630618a07_icgraph">
<area shape="rect" title="Distribue les points d&#39;expérience (XP) gagnés lors d&#39;un combat à un ensemble de Méchas ayant particip..." alt="" coords="528,55,624,80"/>
<area shape="rect" href="combat_8c.html#a2de6c3e2a52edcf450da90005d5fad1d" title="Calcule et distribue les points d&#39;expérience (XP) aux Méchas du joueur après avoir vaincu un Mécha ad..." alt="" coords="377,55,480,80"/>
<area shape="poly" title=" " alt="" coords="514,70,480,70,480,65,514,65"/>
<area shape="rect" href="combat_8c.html#a03ca199547656caabf8e81d769b770e4" title="Gère un combat complet entre le joueur et un PNJ." alt="" coords="224,29,313,55"/>
<area shape="poly" title=" " alt="" coords="363,60,313,52,314,46,364,54"/>
<area shape="rect" href="combat_8c.html#ae03e9f733803425a6c1dcb7b81c8234e" title="Gère un combat entre le joueur et un Mécha sauvage." alt="" coords="208,79,329,104"/>
<area shape="poly" title=" " alt="" coords="364,80,330,85,329,80,363,74"/>
<area shape="rect" href="pointDePassage_8c.html#ade398b595e60d698c8c259edf2f8252a" title="Gère les interactions finales avec les PNJs &quot;Vin Gazole&quot; et &quot;Iron Musk&quot;, incluant dialogues,..." alt="" coords="35,5,131,31"/>
<area shape="poly" title=" " alt="" coords="210,37,131,27,131,22,211,32"/>
<area shape="rect" href="pointDePassage_8c.html#a9ed15a581ba87d71ad2d85b8649075da" title="Gère l&#39;interaction du joueur avec les PNJs &quot;Vin Gazole 2&quot; et &quot;Iron Musk&quot;, incluant dialogues,..." alt="" coords="5,55,160,80"/>
<area shape="poly" title=" " alt="" coords="211,53,160,59,160,54,210,47"/>
</map>
</div>

</div>
</div>
<a id="a159b2a6408c605d1fc9432689f92e3cb" name="a159b2a6408c605d1fc9432689f92e3cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a159b2a6408c605d1fc9432689f92e3cb">&#9670;&#160;</a></span>draw_combat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void draw_combat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *&#160;</td>
          <td class="paramname"><em>mecha_joueur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *&#160;</td>
          <td class="paramname"><em>mecha_ordi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Affiche à l'écran tous les éléments graphiques d'un combat entre deux Mechas. </p>
<p>Cette fonction gère l'affichage complet d'un combat, incluant :</p><ul>
<li>Les noms et niveaux des Mechas en combat.</li>
<li>Les points de vie (PV) des deux Mechas sous forme de barres graphiques.</li>
<li>Les textures des Mechas du joueur et de l'ordinateur.</li>
<li>Les rectangles décoratifs servant de fond à l'affichage des informations.</li>
</ul>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">mecha_joueur</td><td>Pointeur vers la structure représentant le Mecha du joueur. </td></tr>
    <tr><td class="paramname">mecha_ordi</td><td>Pointeur vers la structure représentant le Mecha adverse contrôlé par l'ordinateur.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Précondition</dt><dd>Les ressources graphiques (<code>game.renderer</code>, textures des Mechas, rectangles graphiques) doivent être chargées et initialisées correctement avant l'appel de cette fonction.</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>L'écran affiche toutes les informations nécessaires à la compréhension visuelle du combat en cours.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Cette fonction utilise des variables globales (notamment <code>game</code>, <code>rect_bas</code>, <code>mecha[]</code>) définies ailleurs dans le programme.</dd></dl>
<dl class="section warning"><dt>Avertissement</dt><dd>Assure-toi que les structures <code>mecha_joueur</code> et <code>mecha_ordi</code> contiennent des informations valides afin d'éviter tout problème d'affichage ou de segmentation. </dd></dl>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_a159b2a6408c605d1fc9432689f92e3cb_cgraph.png" border="0" usemap="#acombat_8h_a159b2a6408c605d1fc9432689f92e3cb_cgraph" alt=""/></div>
<map name="acombat_8h_a159b2a6408c605d1fc9432689f92e3cb_cgraph" id="acombat_8h_a159b2a6408c605d1fc9432689f92e3cb_cgraph">
<area shape="rect" title="Affiche à l&#39;écran tous les éléments graphiques d&#39;un combat entre deux Mechas." alt="" coords="5,129,105,155"/>
<area shape="rect" href="affichage_8c.html#afc970416ff2ee1d9f8351a288625f23a" title="Concatène un entier à la fin d&#39;une chaîne de caractères." alt="" coords="185,5,246,31"/>
<area shape="poly" title=" " alt="" coords="64,128,100,85,124,61,152,40,171,30,173,34,155,44,128,65,104,89,68,131"/>
<area shape="rect" href="affichage_8c.html#a7290dad76779d8dd7f48366a16812be8" title="Initialise un rectangle avec ses dimensions, sa couleur et un texte optionnel." alt="" coords="160,55,271,80"/>
<area shape="poly" title=" " alt="" coords="78,127,152,89,166,83,168,88,154,94,81,132"/>
<area shape="rect" href="affichage_8c.html#a4f7e45e8554e8971bdba352cf9838405" title="Dessine plusieurs rectangles avec leurs textes centrés." alt="" coords="166,104,265,129"/>
<area shape="poly" title=" " alt="" coords="105,131,152,124,153,129,106,137"/>
<area shape="rect" href="affichage_8c.html#a3d385ca0396c4c2b3001371505a410e4" title="Affiche l&#39;arrière&#45;plan (background) actuel du jeu." alt="" coords="153,153,277,179"/>
<area shape="poly" title=" " alt="" coords="106,147,140,152,139,157,105,152"/>
<area shape="rect" href="affichage_8c.html#ae63215d67a18f635b3a1c2e1464a0a6f" title="Dessine un Mécha à l&#39;écran avec la texture correspondant à son orientation." alt="" coords="167,203,263,228"/>
<area shape="poly" title=" " alt="" coords="82,152,154,188,171,195,169,200,152,192,80,157"/>
<area shape="rect" href="affichage_8c.html#ac0e780352c4ab1739b9e31be92740c2d" title="Dessine du texte à une position spécifique à l&#39;écran, avec gestion des retours à la ligne." alt="" coords="162,252,269,277"/>
<area shape="poly" title=" " alt="" coords="69,153,104,194,155,237,166,244,163,248,152,241,101,197,65,157"/>
<area shape="rect" href="affichage_8c.html#ab542b24175a0231f8530346fc8ab790f" title="Dessine un rectangle coloré et son texte associé si présent." alt="" coords="347,80,426,105"/>
<area shape="poly" title=" " alt="" coords="265,107,333,97,334,103,265,112"/>
<area shape="rect" href="affichage_8c.html#a390da1c2cd15fd5355de26bd34b3d3dc" title="Dessine du texte centré dans un rectangle, ligne par ligne si nécessaire." alt="" coords="325,129,448,155"/>
<area shape="poly" title=" " alt="" coords="265,121,312,128,311,134,265,127"/>
</map>
</div>
<div class="dynheader">
Voici le graphe des appelants de cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_a159b2a6408c605d1fc9432689f92e3cb_icgraph.png" border="0" usemap="#acombat_8h_a159b2a6408c605d1fc9432689f92e3cb_icgraph" alt=""/></div>
<map name="acombat_8h_a159b2a6408c605d1fc9432689f92e3cb_icgraph" id="acombat_8h_a159b2a6408c605d1fc9432689f92e3cb_icgraph">
<area shape="rect" title="Affiche à l&#39;écran tous les éléments graphiques d&#39;un combat entre deux Mechas." alt="" coords="1289,107,1389,133"/>
<area shape="rect" href="affichage_8c.html#a1091893e7df87a967b878919b232b0d5" title="Affiche un dialogue interactif durant un combat entre deux Méchas." alt="" coords="1071,359,1241,385"/>
<area shape="poly" title=" " alt="" coords="1323,146,1169,361,1165,357,1319,143"/>
<area shape="rect" href="combat_8c.html#aeabe45f0372840462d595a801345672b" title="Affiche l&#39;interface permettant au joueur de choisir et effectuer une attaque durant un combat." alt="" coords="693,107,800,133"/>
<area shape="poly" title=" " alt="" coords="1282,107,1241,99,1137,88,1056,85,974,89,870,99,801,110,800,105,869,93,974,84,1055,80,1137,83,1242,93,1283,101"/>
<area shape="rect" href="combat_8c.html#a3c18ce2957ca72f56737d0082766ad63" title="Gère le tour du joueur lors d&#39;un combat contre un Mécha sauvage ou un PNJ." alt="" coords="533,259,619,285"/>
<area shape="poly" title=" " alt="" coords="1307,102,1276,85,1241,72,1077,30,1008,16,943,9,879,11,815,25,748,54,674,98,653,115,636,136,609,182,592,226,583,260,577,259,587,225,604,179,632,132,650,112,670,94,745,49,814,20,879,6,943,4,1009,11,1079,25,1242,67,1278,80,1310,98"/>
<area shape="rect" href="combat_8c.html#ae82c6dcf76c1412964511d71b75c637e" title="Affiche l&#39;interface d&#39;utilisation d&#39;objets pendant un combat." alt="" coords="691,537,803,562"/>
<area shape="poly" title=" " alt="" coords="1336,147,1308,252,1284,322,1252,398,1211,473,1159,544,1130,576,1097,605,1062,630,1024,651,982,666,947,670,911,664,868,651,833,633,801,609,756,564,760,560,805,605,836,628,870,646,912,659,947,665,981,661,1022,646,1059,625,1094,601,1126,572,1155,541,1206,470,1247,395,1279,320,1303,250,1330,146"/>
<area shape="rect" href="combat_8c.html#ab9469ab4f84b56a27ef05848c4a78cb9" title="Anime visuellement la diminution progressive des PV d&#39;un Mecha durant un combat." alt="" coords="1097,107,1215,133"/>
<area shape="poly" title=" " alt="" coords="1275,123,1215,123,1215,117,1275,117"/>
<area shape="rect" href="combat_8c.html#a8c19b3bf83d09e9fb4b596cd4ff45219" title="Calcule et applique les effets d&#39;une attaque lors d&#39;un combat entre deux Mechas." alt="" coords="898,107,994,133"/>
<area shape="poly" title=" " alt="" coords="1143,348,1125,306,1099,255,1064,201,1021,154,989,135,992,131,1024,150,1068,198,1104,252,1130,304,1148,345"/>
<area shape="rect" href="combat_8c.html#a03ca199547656caabf8e81d769b770e4" title="Gère un combat complet entre le joueur et un PNJ." alt="" coords="224,259,313,285"/>
<area shape="poly" title=" " alt="" coords="1135,350,1088,297,1057,271,1021,251,983,235,949,225,889,218,748,224,575,224,503,228,431,238,314,263,313,258,430,233,502,223,575,219,748,219,890,213,950,220,985,230,1024,246,1060,267,1092,294,1139,346"/>
<area shape="rect" href="combat_8c.html#ae03e9f733803425a6c1dcb7b81c8234e" title="Gère un combat entre le joueur et un Mécha sauvage." alt="" coords="208,462,329,487"/>
<area shape="poly" title=" " alt="" coords="1152,399,1139,451,1114,519,1077,590,1053,622,1024,650,990,677,958,697,927,710,897,719,831,726,748,727,575,727,546,725,519,719,467,697,420,665,378,627,342,586,312,547,275,489,279,486,317,544,346,583,382,623,423,661,470,692,521,714,547,719,575,721,748,721,831,721,896,714,926,705,955,692,987,673,1021,646,1049,618,1073,587,1110,517,1134,450,1147,397"/>
<area shape="rect" href="combat_8c.html#a5491a6cd3adeb619da6eb84e6d888e7a" title="Gère les actions automatiques d&#39;un PNJ (personnage non&#45;joueur) lors d&#39;un combat contre le joueur." alt="" coords="688,158,805,183"/>
<area shape="poly" title=" " alt="" coords="1141,348,1122,314,1096,275,1062,236,1021,205,968,183,910,171,855,167,806,168,806,162,855,162,911,166,969,178,1024,200,1066,232,1100,271,1127,312,1146,346"/>
<area shape="rect" href="combat_8c.html#ac6ceced0c9217ccb31c1400649cfd67c" title="Gère l&#39;attaque aléatoire d&#39;un Mecha sauvage durant un combat contre le joueur." alt="" coords="672,410,821,435"/>
<area shape="poly" title=" " alt="" coords="1057,387,822,416,821,411,1056,382"/>
<area shape="rect" href="combat_8c.html#af35e79d0f311c06fb1fe44ce8bb34ca4" title="Gère l&#39;apprentissage d&#39;une nouvelle attaque par un Mecha lors d&#39;un changement de niveau." alt="" coords="869,309,1023,334"/>
<area shape="poly" title=" " alt="" coords="1089,359,999,337,1000,332,1090,354"/>
<area shape="rect" href="combat_8c.html#a16e4593cbfaef36a7cc088aa6bef48c0" title="Permet au joueur de changer le Mecha actif pendant un combat." alt="" coords="689,359,804,385"/>
<area shape="poly" title=" " alt="" coords="1057,375,804,375,804,369,1057,369"/>
<area shape="rect" href="combat_8c.html#afe15b54290598e06032e0c418f626461" title="Gère l&#39;évolution d&#39;un Mecha joueur lorsqu&#39;il atteint le niveau requis." alt="" coords="883,259,1009,285"/>
<area shape="poly" title=" " alt="" coords="1122,354,1075,327,1022,300,989,287,991,282,1024,295,1078,322,1125,350"/>
<area shape="rect" href="combat_8c.html#a7f2daafca6455a03963db8f32d8a8d10" title="Gère l&#39;utilisation d&#39;un objet &quot;carburant&quot; durant un combat." alt="" coords="877,610,1015,635"/>
<area shape="poly" title=" " alt="" coords="1149,399,1133,442,1106,497,1071,553,1049,578,1024,601,1005,612,1002,608,1021,597,1045,575,1066,549,1102,494,1128,440,1144,397"/>
<area shape="poly" title=" " alt="" coords="1114,393,779,539,776,534,1112,388"/>
<area shape="rect" href="combat_8c.html#a53bf2250ba00b21dceed166fa59bd150" title="Gère l&#39;utilisation d&#39;une &quot;mechaball&quot; pour capturer un Mecha adverse durant un combat." alt="" coords="875,511,1017,537"/>
<area shape="poly" title=" " alt="" coords="1136,397,1087,445,1024,494,985,514,983,509,1021,490,1084,441,1132,393"/>
<area shape="rect" href="combat_8c.html#afff6b8b516af5c46c938f407788d1b5f" title="Gère l&#39;utilisation d&#39;un objet &quot;rappel&quot; durant un combat." alt="" coords="887,561,1005,586"/>
<area shape="poly" title=" " alt="" coords="1145,398,1126,433,1099,474,1065,516,1024,552,1003,563,1000,558,1021,547,1061,512,1095,471,1121,430,1140,396"/>
<area shape="poly" title=" " alt="" coords="884,123,800,123,800,117,884,117"/>
<area shape="poly" title=" " alt="" coords="885,138,798,161,797,155,884,133"/>
<area shape="poly" title=" " alt="" coords="930,146,901,193,872,249,859,292,856,328,848,363,838,381,823,399,805,412,802,408,820,396,834,378,843,361,850,328,854,291,867,247,897,190,926,143"/>
<area shape="poly" title=" " alt="" coords="687,141,674,149,644,176,619,207,586,261,582,258,615,204,640,172,670,145,684,136"/>
<area shape="poly" title=" " alt="" coords="519,275,313,275,313,269,519,269"/>
<area shape="poly" title=" " alt="" coords="537,294,530,299,506,324,482,350,433,386,382,418,297,464,295,460,379,413,430,382,478,346,502,321,526,295,534,290"/>
<area shape="rect" href="pointDePassage_8c.html#ade398b595e60d698c8c259edf2f8252a" title="Gère les interactions finales avec les PNJs &quot;Vin Gazole&quot; et &quot;Iron Musk&quot;, incluant dialogues,..." alt="" coords="35,235,131,261"/>
<area shape="poly" title=" " alt="" coords="210,267,131,257,131,252,211,262"/>
<area shape="rect" href="pointDePassage_8c.html#a9ed15a581ba87d71ad2d85b8649075da" title="Gère l&#39;interaction du joueur avec les PNJs &quot;Vin Gazole 2&quot; et &quot;Iron Musk&quot;, incluant dialogues,..." alt="" coords="5,285,160,310"/>
<area shape="poly" title=" " alt="" coords="211,283,160,290,160,284,210,277"/>
<area shape="poly" title=" " alt="" coords="674,170,610,170,535,174,455,185,378,205,351,217,326,232,286,261,283,257,323,227,349,212,376,200,454,180,534,169,609,164,674,164"/>
<area shape="poly" title=" " alt="" coords="720,446,677,474,625,496,584,505,543,509,460,509,384,501,322,490,323,485,384,496,460,504,543,504,584,499,623,491,675,469,717,442"/>
<area shape="rect" href="combat_8c.html#aec838d58a7def8717d7fcd0faab3a107" title="Gère la montée en niveau d&#39;un Mecha joueur après avoir reçu des points d&#39;expérience (XP)." alt="" coords="691,309,802,334"/>
<area shape="poly" title=" " alt="" coords="855,324,802,324,802,319,855,319"/>
<area shape="rect" href="combat_8c.html#ac6fcdad743dc3526b2b89a1630618a07" title="Distribue les points d&#39;expérience (XP) gagnés lors d&#39;un combat à un ensemble de Méchas ayant particip..." alt="" coords="528,309,624,334"/>
<area shape="poly" title=" " alt="" coords="678,324,625,324,625,319,678,319"/>
<area shape="rect" href="combat_8c.html#a2de6c3e2a52edcf450da90005d5fad1d" title="Calcule et distribue les points d&#39;expérience (XP) aux Méchas du joueur après avoir vaincu un Mécha ad..." alt="" coords="377,310,480,335"/>
<area shape="poly" title=" " alt="" coords="514,325,480,325,480,320,514,319"/>
<area shape="poly" title=" " alt="" coords="374,308,309,287,311,282,376,303"/>
<area shape="poly" title=" " alt="" coords="406,347,285,464,282,460,402,343"/>
<area shape="poly" title=" " alt="" coords="684,356,671,349,655,337,645,325,636,312,622,300,603,287,606,283,626,295,640,309,650,321,659,333,673,345,687,352"/>
<area shape="poly" title=" " alt="" coords="676,381,611,383,535,381,455,371,376,351,348,337,321,320,281,287,285,283,325,316,350,333,378,346,456,366,535,376,611,378,676,376"/>
<area shape="poly" title=" " alt="" coords="676,390,329,465,328,459,675,385"/>
<area shape="poly" title=" " alt="" coords="882,291,799,311,798,306,880,286"/>
<area shape="poly" title=" " alt="" coords="889,608,868,601,777,565,779,560,870,596,890,603"/>
<area shape="poly" title=" " alt="" coords="723,528,696,492,670,449,655,406,650,370,643,336,635,318,622,299,607,287,611,283,626,296,640,316,648,334,656,369,660,405,674,447,700,489,727,525"/>
<area shape="poly" title=" " alt="" coords="861,538,803,545,803,540,861,532"/>
<area shape="poly" title=" " alt="" coords="873,567,803,559,804,554,873,562"/>
<area shape="poly" title=" " alt="" coords="1083,123,994,123,994,117,1083,117"/>
</map>
</div>

</div>
</div>
<a id="afe15b54290598e06032e0c418f626461" name="afe15b54290598e06032e0c418f626461"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe15b54290598e06032e0c418f626461">&#9670;&#160;</a></span>evolution_mechas()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evolution_mechas </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *&#160;</td>
          <td class="paramname"><em>mecha_joueur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *&#160;</td>
          <td class="paramname"><em>mecha_ordi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gère l'évolution d'un Mecha joueur lorsqu'il atteint le niveau requis. </p>
<p>Cette fonction vérifie si le Mecha joueur répond aux conditions nécessaires pour évoluer. Si le niveau actuel du Mecha est supérieur ou égal au niveau requis pour l'évolution et qu'une évolution est définie, alors l'ID du Mecha est mis à jour pour refléter cette évolution. Un message informant le joueur de l'évolution effectuée est affiché à l'écran.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">mecha_joueur</td><td>Pointeur vers le Mecha joueur susceptible d'évoluer. </td></tr>
    <tr><td class="paramname">mecha_ordi</td><td>Pointeur vers le Mecha adverse, utilisé uniquement pour l'affichage de dialogues contextuels.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>int<ul>
<li><code>OK</code> : L'évolution a été vérifiée et traitée correctement.</li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Précondition</dt><dd>Les attributs <code>niveau_evolution</code> et <code>evolution</code> du Mecha doivent être correctement initialisés.</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Si une évolution a eu lieu, <code>mecha_joueur-&gt;id_mechas</code> est incrémenté pour pointer vers le Mecha évolué.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>La fonction utilise <code>afficher_dialogue_combat</code> pour notifier le joueur de l'évolution.</dd></dl>
<dl class="section warning"><dt>Avertissement</dt><dd>La fonction suppose que le Mecha suivant immédiatement dans le tableau <code>mecha</code> correspond à l'évolution logique du Mecha actuel. Assurez-vous que le tableau <code>mecha</code> respecte strictement cet ordre d'évolution.</dd></dl>
<dl class="section see"><dt>Voir également</dt><dd><a class="el" href="affichage_8c.html#a1091893e7df87a967b878919b232b0d5" title="Affiche un dialogue interactif durant un combat entre deux Méchas.">afficher_dialogue_combat()</a> pour l'affichage interactif des dialogues avec le joueur. </dd></dl>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_afe15b54290598e06032e0c418f626461_cgraph.png" border="0" usemap="#acombat_8h_afe15b54290598e06032e0c418f626461_cgraph" alt=""/></div>
<map name="acombat_8h_afe15b54290598e06032e0c418f626461_cgraph" id="acombat_8h_afe15b54290598e06032e0c418f626461_cgraph">
<area shape="rect" title="Gère l&#39;évolution d&#39;un Mecha joueur lorsqu&#39;il atteint le niveau requis." alt="" coords="5,172,132,197"/>
<area shape="rect" href="affichage_8c.html#a1091893e7df87a967b878919b232b0d5" title="Affiche un dialogue interactif durant un combat entre deux Méchas." alt="" coords="180,172,351,197"/>
<area shape="poly" title=" " alt="" coords="132,182,166,182,166,187,132,187"/>
<area shape="rect" href="affichage_8c.html#a7290dad76779d8dd7f48366a16812be8" title="Initialise un rectangle avec ses dimensions, sa couleur et un texte optionnel." alt="" coords="603,48,713,73"/>
<area shape="poly" title=" " alt="" coords="306,169,603,75,604,80,307,174"/>
<area shape="rect" href="combat_8c.html#a159b2a6408c605d1fc9432689f92e3cb" title="Affiche à l&#39;écran tous les éléments graphiques d&#39;un combat entre deux Mechas." alt="" coords="423,172,523,197"/>
<area shape="poly" title=" " alt="" coords="351,182,409,182,409,187,351,187"/>
<area shape="rect" href="affichage_8c.html#ab542b24175a0231f8530346fc8ab790f" title="Dessine un rectangle coloré et son texte associé si présent." alt="" coords="790,270,869,296"/>
<area shape="poly" title=" " alt="" coords="279,169,351,112,404,77,464,44,528,18,595,4,628,3,660,7,691,17,721,33,748,55,770,82,788,112,802,144,820,207,828,257,823,257,815,208,797,146,783,115,766,85,745,59,719,37,689,22,659,13,627,9,595,9,530,23,466,49,406,81,354,116,282,174"/>
<area shape="rect" href="affichage_8c.html#a390da1c2cd15fd5355de26bd34b3d3dc" title="Dessine du texte centré dans un rectangle, ligne par ligne si nécessaire." alt="" coords="768,320,891,345"/>
<area shape="poly" title=" " alt="" coords="288,195,340,225,414,264,503,302,597,330,677,339,754,338,754,343,677,344,595,335,501,307,412,269,337,230,285,199"/>
<area shape="rect" href="affichage_8c.html#ab54c358911a2ed823f20797846583531" title="Dessine un texte centré verticalement et aligné à gauche dans un rectangle." alt="" coords="399,396,548,421"/>
<area shape="poly" title=" " alt="" coords="275,196,292,231,320,278,356,329,400,374,421,388,418,392,397,378,352,333,315,281,287,233,270,199"/>
<area shape="poly" title=" " alt="" coords="490,169,546,125,569,102,595,82,605,76,608,81,597,87,573,106,550,129,493,174"/>
<area shape="rect" href="affichage_8c.html#afc970416ff2ee1d9f8351a288625f23a" title="Concatène un entier à la fin d&#39;une chaîne de caractères." alt="" coords="627,245,689,270"/>
<area shape="poly" title=" " alt="" coords="507,195,597,231,616,239,614,244,595,236,505,200"/>
<area shape="rect" href="affichage_8c.html#a4f7e45e8554e8971bdba352cf9838405" title="Dessine plusieurs rectangles avec leurs textes centrés." alt="" coords="609,294,707,320"/>
<area shape="poly" title=" " alt="" coords="489,195,535,236,597,281,608,287,606,291,595,285,532,240,486,199"/>
<area shape="rect" href="affichage_8c.html#a3d385ca0396c4c2b3001371505a410e4" title="Affiche l&#39;arrière&#45;plan (background) actuel du jeu." alt="" coords="596,97,720,122"/>
<area shape="poly" title=" " alt="" coords="504,169,595,131,610,125,612,130,597,136,506,174"/>
<area shape="rect" href="affichage_8c.html#ae63215d67a18f635b3a1c2e1464a0a6f" title="Dessine un Mécha à l&#39;écran avec la texture correspondant à son orientation." alt="" coords="610,146,706,172"/>
<area shape="poly" title=" " alt="" coords="523,175,596,165,597,170,524,180"/>
<area shape="rect" href="affichage_8c.html#ac0e780352c4ab1739b9e31be92740c2d" title="Dessine du texte à une position spécifique à l&#39;écran, avec gestion des retours à la ligne." alt="" coords="605,196,711,221"/>
<area shape="poly" title=" " alt="" coords="524,188,591,197,591,202,523,193"/>
<area shape="poly" title=" " alt="" coords="707,298,776,288,776,293,708,303"/>
<area shape="poly" title=" " alt="" coords="708,312,754,319,754,324,707,317"/>
</map>
</div>
<div class="dynheader">
Voici le graphe des appelants de cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_afe15b54290598e06032e0c418f626461_icgraph.png" border="0" usemap="#acombat_8h_afe15b54290598e06032e0c418f626461_icgraph" alt=""/></div>
<map name="acombat_8h_afe15b54290598e06032e0c418f626461_icgraph" id="acombat_8h_afe15b54290598e06032e0c418f626461_icgraph">
<area shape="rect" title="Gère l&#39;évolution d&#39;un Mecha joueur lorsqu&#39;il atteint le niveau requis." alt="" coords="831,55,957,80"/>
<area shape="rect" href="combat_8c.html#aec838d58a7def8717d7fcd0faab3a107" title="Gère la montée en niveau d&#39;un Mecha joueur après avoir reçu des points d&#39;expérience (XP)." alt="" coords="672,55,783,80"/>
<area shape="poly" title=" " alt="" coords="817,70,783,70,783,65,817,65"/>
<area shape="rect" href="combat_8c.html#ac6fcdad743dc3526b2b89a1630618a07" title="Distribue les points d&#39;expérience (XP) gagnés lors d&#39;un combat à un ensemble de Méchas ayant particip..." alt="" coords="528,55,624,80"/>
<area shape="poly" title=" " alt="" coords="658,70,624,70,624,65,658,65"/>
<area shape="rect" href="combat_8c.html#a2de6c3e2a52edcf450da90005d5fad1d" title="Calcule et distribue les points d&#39;expérience (XP) aux Méchas du joueur après avoir vaincu un Mécha ad..." alt="" coords="377,55,480,80"/>
<area shape="poly" title=" " alt="" coords="514,70,480,70,480,65,514,65"/>
<area shape="rect" href="combat_8c.html#a03ca199547656caabf8e81d769b770e4" title="Gère un combat complet entre le joueur et un PNJ." alt="" coords="224,29,313,55"/>
<area shape="poly" title=" " alt="" coords="363,60,313,52,314,46,364,54"/>
<area shape="rect" href="combat_8c.html#ae03e9f733803425a6c1dcb7b81c8234e" title="Gère un combat entre le joueur et un Mécha sauvage." alt="" coords="208,79,329,104"/>
<area shape="poly" title=" " alt="" coords="364,80,330,85,329,80,363,74"/>
<area shape="rect" href="pointDePassage_8c.html#ade398b595e60d698c8c259edf2f8252a" title="Gère les interactions finales avec les PNJs &quot;Vin Gazole&quot; et &quot;Iron Musk&quot;, incluant dialogues,..." alt="" coords="35,5,131,31"/>
<area shape="poly" title=" " alt="" coords="210,37,131,27,131,22,211,32"/>
<area shape="rect" href="pointDePassage_8c.html#a9ed15a581ba87d71ad2d85b8649075da" title="Gère l&#39;interaction du joueur avec les PNJs &quot;Vin Gazole 2&quot; et &quot;Iron Musk&quot;, incluant dialogues,..." alt="" coords="5,55,160,80"/>
<area shape="poly" title=" " alt="" coords="211,53,160,59,160,54,210,47"/>
</map>
</div>

</div>
</div>
<a id="a2de6c3e2a52edcf450da90005d5fad1d" name="a2de6c3e2a52edcf450da90005d5fad1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2de6c3e2a52edcf450da90005d5fad1d">&#9670;&#160;</a></span>level_mechas()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void level_mechas </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjoueur__t.html">joueur_t</a> *&#160;</td>
          <td class="paramname"><em>mechas_presents</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *&#160;</td>
          <td class="paramname"><em>mecha_ordi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calcule et distribue les points d'expérience (XP) aux Méchas du joueur après avoir vaincu un Mécha adverse. </p>
<p>Cette fonction est appelée après la défaite d'un Mécha adverse. Elle effectue les opérations suivantes :</p><ul>
<li>Calcule la quantité totale d'expérience gagnée en fonction du niveau du Mécha adverse, selon la formule :  <p class="formulaDsp">
<picture><source srcset="form_1_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaDsp" alt="\[
     \text{xp\_gagne} = \left\lfloor 20 \times e^{0.02 \times \text{niveau adversaire}} \right\rfloor
  \]" src="form_1.png"/></picture>
</p>
</li>
<li>Répartit cette expérience aux Méchas du joueur qui ont participé au combat (maximum 4 Méchas).</li>
<li>Affiche dans la console les niveaux mis à jour des Méchas participants après la distribution d'expérience.</li>
</ul>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">mechas_presents</td><td>Pointeur vers la structure du joueur, contenant les Méchas participants au combat. </td></tr>
    <tr><td class="paramname">mecha_ordi</td><td>Pointeur vers le Mécha adverse vaincu, utilisé pour déterminer la quantité d'expérience à distribuer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Précondition</dt><dd><ul>
<li>Les structures pointées par <code>mechas_presents</code> et <code>mecha_ordi</code> doivent être initialisées et valides.</li>
</ul>
</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd><ul>
<li>Les Méchas du joueur ayant participé voient leur expérience et potentiellement leurs niveaux augmentés en fonction de l'expérience gagnée.</li>
<li>Les informations mises à jour des Méchas sont affichées à l'écran via <code>printf</code>.</li>
</ul>
</dd></dl>
<dl class="section warning"><dt>Avertissement</dt><dd><ul>
<li>Cette fonction limite explicitement la distribution d'expérience aux quatre premiers Méchas du joueur (<code>nb_mechas</code>). Les Méchas au-delà du quatrième ne reçoivent pas d'expérience.</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>La distribution réelle d'expérience aux Méchas est gérée par la fonction <code>distribuer_xp</code>.</li>
<li>L'affichage des niveaux après distribution sert à fournir un retour visuel rapide sur les résultats de l'attribution d'expérience.</li>
</ul>
</dd></dl>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname"><a class="el" href="structjoueur__t.html" title="Représente le joueur dans le jeu, avec sa position, son équipe de mechas et son inventaire.">joueur_t</a></td><td>Structure contenant les informations des Méchas du joueur. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname"><a class="el" href="structmechas__joueur__t.html" title="Représente un mecha appartenant à un joueur, avec ses statistiques et attaques.">mechas_joueur_t</a></td><td>Structure du Mécha adverse vaincu, pour calcul d'expérience.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>Voir également</dt><dd><a class="el" href="combat_8c.html#ac6fcdad743dc3526b2b89a1630618a07" title="Distribue les points d&#39;expérience (XP) gagnés lors d&#39;un combat à un ensemble de Méchas ayant particip...">distribuer_xp()</a> Pour la répartition détaillée de l'expérience aux Méchas. </dd></dl>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_a2de6c3e2a52edcf450da90005d5fad1d_cgraph.png" border="0" usemap="#acombat_8h_a2de6c3e2a52edcf450da90005d5fad1d_cgraph" alt=""/></div>
<map name="acombat_8h_a2de6c3e2a52edcf450da90005d5fad1d_cgraph" id="acombat_8h_a2de6c3e2a52edcf450da90005d5fad1d_cgraph">
<area shape="rect" title="Calcule et distribue les points d&#39;expérience (XP) aux Méchas du joueur après avoir vaincu un Mécha ad..." alt="" coords="5,172,108,197"/>
<area shape="rect" href="combat_8c.html#ac6fcdad743dc3526b2b89a1630618a07" title="Distribue les points d&#39;expérience (XP) gagnés lors d&#39;un combat à un ensemble de Méchas ayant particip..." alt="" coords="156,172,252,197"/>
<area shape="poly" title=" " alt="" coords="108,182,142,182,142,187,108,187"/>
<area shape="rect" href="combat_8c.html#aec838d58a7def8717d7fcd0faab3a107" title="Gère la montée en niveau d&#39;un Mecha joueur après avoir reçu des points d&#39;expérience (XP)." alt="" coords="300,172,411,197"/>
<area shape="poly" title=" " alt="" coords="252,182,286,182,286,187,252,187"/>
<area shape="rect" href="combat_8c.html#af35e79d0f311c06fb1fe44ce8bb34ca4" title="Gère l&#39;apprentissage d&#39;une nouvelle attaque par un Mecha lors d&#39;un changement de niveau." alt="" coords="459,146,612,172"/>
<area shape="poly" title=" " alt="" coords="410,174,445,169,446,174,411,179"/>
<area shape="rect" href="combat_8c.html#afe15b54290598e06032e0c418f626461" title="Gère l&#39;évolution d&#39;un Mecha joueur lorsqu&#39;il atteint le niveau requis." alt="" coords="472,196,599,221"/>
<area shape="poly" title=" " alt="" coords="411,189,458,195,457,201,410,194"/>
<area shape="rect" href="affichage_8c.html#a1091893e7df87a967b878919b232b0d5" title="Affiche un dialogue interactif durant un combat entre deux Méchas." alt="" coords="660,172,831,197"/>
<area shape="poly" title=" " alt="" coords="612,166,647,170,646,175,612,171"/>
<area shape="rect" href="affichage_8c.html#a7290dad76779d8dd7f48366a16812be8" title="Initialise un rectangle avec ses dimensions, sa couleur et un texte optionnel." alt="" coords="1083,48,1193,73"/>
<area shape="poly" title=" " alt="" coords="786,169,1083,75,1084,80,787,174"/>
<area shape="rect" href="combat_8c.html#a159b2a6408c605d1fc9432689f92e3cb" title="Affiche à l&#39;écran tous les éléments graphiques d&#39;un combat entre deux Mechas." alt="" coords="903,172,1003,197"/>
<area shape="poly" title=" " alt="" coords="831,182,889,182,889,187,831,187"/>
<area shape="rect" href="affichage_8c.html#ab542b24175a0231f8530346fc8ab790f" title="Dessine un rectangle coloré et son texte associé si présent." alt="" coords="1270,270,1349,296"/>
<area shape="poly" title=" " alt="" coords="759,169,831,112,884,77,944,44,1008,18,1075,4,1108,3,1140,7,1171,17,1201,33,1228,55,1250,82,1268,112,1282,144,1300,207,1308,257,1303,257,1295,208,1277,146,1263,115,1246,85,1225,59,1199,37,1169,22,1139,13,1107,9,1075,9,1010,23,946,49,886,81,834,116,762,174"/>
<area shape="rect" href="affichage_8c.html#a390da1c2cd15fd5355de26bd34b3d3dc" title="Dessine du texte centré dans un rectangle, ligne par ligne si nécessaire." alt="" coords="1248,320,1371,345"/>
<area shape="poly" title=" " alt="" coords="768,195,820,225,894,264,983,302,1077,330,1157,339,1234,338,1234,343,1157,344,1075,335,981,307,892,269,817,230,765,199"/>
<area shape="rect" href="affichage_8c.html#ab54c358911a2ed823f20797846583531" title="Dessine un texte centré verticalement et aligné à gauche dans un rectangle." alt="" coords="879,396,1028,421"/>
<area shape="poly" title=" " alt="" coords="755,196,772,231,800,278,836,329,880,374,901,388,898,392,877,378,832,333,795,281,767,233,750,199"/>
<area shape="poly" title=" " alt="" coords="970,169,1026,125,1049,102,1075,82,1085,76,1088,81,1077,87,1053,106,1030,129,973,174"/>
<area shape="rect" href="affichage_8c.html#afc970416ff2ee1d9f8351a288625f23a" title="Concatène un entier à la fin d&#39;une chaîne de caractères." alt="" coords="1107,245,1169,270"/>
<area shape="poly" title=" " alt="" coords="987,195,1077,231,1096,239,1094,244,1075,236,985,200"/>
<area shape="rect" href="affichage_8c.html#a4f7e45e8554e8971bdba352cf9838405" title="Dessine plusieurs rectangles avec leurs textes centrés." alt="" coords="1089,294,1187,320"/>
<area shape="poly" title=" " alt="" coords="969,195,1015,236,1077,281,1088,287,1086,291,1075,285,1012,240,966,199"/>
<area shape="rect" href="affichage_8c.html#a3d385ca0396c4c2b3001371505a410e4" title="Affiche l&#39;arrière&#45;plan (background) actuel du jeu." alt="" coords="1076,97,1200,122"/>
<area shape="poly" title=" " alt="" coords="984,169,1075,131,1090,125,1092,130,1077,136,986,174"/>
<area shape="rect" href="affichage_8c.html#ae63215d67a18f635b3a1c2e1464a0a6f" title="Dessine un Mécha à l&#39;écran avec la texture correspondant à son orientation." alt="" coords="1090,146,1186,172"/>
<area shape="poly" title=" " alt="" coords="1003,175,1076,165,1077,170,1004,180"/>
<area shape="rect" href="affichage_8c.html#ac0e780352c4ab1739b9e31be92740c2d" title="Dessine du texte à une position spécifique à l&#39;écran, avec gestion des retours à la ligne." alt="" coords="1085,196,1191,221"/>
<area shape="poly" title=" " alt="" coords="1004,188,1071,197,1071,202,1003,193"/>
<area shape="poly" title=" " alt="" coords="1187,298,1256,288,1256,293,1188,303"/>
<area shape="poly" title=" " alt="" coords="1188,312,1234,319,1234,324,1187,317"/>
<area shape="poly" title=" " alt="" coords="599,199,646,193,647,198,599,204"/>
</map>
</div>
<div class="dynheader">
Voici le graphe des appelants de cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_a2de6c3e2a52edcf450da90005d5fad1d_icgraph.png" border="0" usemap="#acombat_8h_a2de6c3e2a52edcf450da90005d5fad1d_icgraph" alt=""/></div>
<map name="acombat_8h_a2de6c3e2a52edcf450da90005d5fad1d_icgraph" id="acombat_8h_a2de6c3e2a52edcf450da90005d5fad1d_icgraph">
<area shape="rect" title="Calcule et distribue les points d&#39;expérience (XP) aux Méchas du joueur après avoir vaincu un Mécha ad..." alt="" coords="377,55,480,80"/>
<area shape="rect" href="combat_8c.html#a03ca199547656caabf8e81d769b770e4" title="Gère un combat complet entre le joueur et un PNJ." alt="" coords="224,29,313,55"/>
<area shape="poly" title=" " alt="" coords="363,60,313,52,314,46,364,54"/>
<area shape="rect" href="combat_8c.html#ae03e9f733803425a6c1dcb7b81c8234e" title="Gère un combat entre le joueur et un Mécha sauvage." alt="" coords="208,79,329,104"/>
<area shape="poly" title=" " alt="" coords="364,80,330,85,329,80,363,74"/>
<area shape="rect" href="pointDePassage_8c.html#ade398b595e60d698c8c259edf2f8252a" title="Gère les interactions finales avec les PNJs &quot;Vin Gazole&quot; et &quot;Iron Musk&quot;, incluant dialogues,..." alt="" coords="35,5,131,31"/>
<area shape="poly" title=" " alt="" coords="210,37,131,27,131,22,211,32"/>
<area shape="rect" href="pointDePassage_8c.html#a9ed15a581ba87d71ad2d85b8649075da" title="Gère l&#39;interaction du joueur avec les PNJs &quot;Vin Gazole 2&quot; et &quot;Iron Musk&quot;, incluant dialogues,..." alt="" coords="5,55,160,80"/>
<area shape="poly" title=" " alt="" coords="211,53,160,59,160,54,210,47"/>
</map>
</div>

</div>
</div>
<a id="aec838d58a7def8717d7fcd0faab3a107" name="aec838d58a7def8717d7fcd0faab3a107"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec838d58a7def8717d7fcd0faab3a107">&#9670;&#160;</a></span>montee_niveau()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void montee_niveau </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *&#160;</td>
          <td class="paramname"><em>mecha</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *&#160;</td>
          <td class="paramname"><em>mecha_ordi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>xp_partage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lvlup</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gère la montée en niveau d'un Mecha joueur après avoir reçu des points d'expérience (XP). </p>
<p>Cette fonction ajoute un nombre spécifié d'XP au Mecha joueur. Si le seuil d'XP pour le niveau suivant est atteint ou dépassé, le Mecha monte en niveau, réinitialise son compteur d'XP en excès pour le prochain niveau et met à jour ses statistiques (PV, attaque, défense). Elle vérifie également les possibilités d'évolution et d'apprentissage d'une nouvelle attaque à chaque montée en niveau.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">mecha</td><td>Pointeur vers le Mecha joueur recevant l'expérience. </td></tr>
    <tr><td class="paramname">mecha_ordi</td><td>Pointeur vers le Mecha adverse (pour l'affichage des dialogues contextuels). </td></tr>
    <tr><td class="paramname">xp_partage</td><td>Nombre de points d'expérience à ajouter au Mecha. </td></tr>
    <tr><td class="paramname">lvlup</td><td>Seuil d'expérience nécessaire pour atteindre le niveau supérieur actuel.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Précondition</dt><dd><ul>
<li><code>mecha</code> doit pointer vers un Mecha joueur correctement initialisé.</li>
<li><code>lvlup</code> doit correspondre au nombre d'XP nécessaires à l'atteinte du prochain niveau avant appel de la fonction.</li>
</ul>
</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd><ul>
<li>Les attributs du Mecha (niveau, XP, PV, attaque, défense) sont mis à jour en conséquence.</li>
<li>Si le Mecha atteint un niveau où il peut évoluer ou apprendre une attaque, ces changements sont appliqués immédiatement.</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>La fonction utilise un calcul exponentiel pour déterminer l'XP nécessaire pour chaque nouveau niveau : <p class="formulaDsp">
<picture><source srcset="form_0_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaDsp" alt="\[ \text{lvlup} = \left\lfloor 15 \times e^{0.05 \times \text{niveau}} \right\rfloor \]" src="form_0.png"/></picture>
</p>
</li>
</ul>
</dd></dl>
<dl class="section warning"><dt>Avertissement</dt><dd><ul>
<li>Cette fonction suppose que les fonctions <code>evolution_mechas</code> et <code>apprentissage_attaque</code> ne provoquent pas d'erreurs d'accès mémoire ou d'index hors limites.</li>
<li>Assurez-vous que les modifications de statistiques ne dépassent pas les limites prévues par le jeu. </li>
</ul>
</dd></dl>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_aec838d58a7def8717d7fcd0faab3a107_cgraph.png" border="0" usemap="#acombat_8h_aec838d58a7def8717d7fcd0faab3a107_cgraph" alt=""/></div>
<map name="acombat_8h_aec838d58a7def8717d7fcd0faab3a107_cgraph" id="acombat_8h_aec838d58a7def8717d7fcd0faab3a107_cgraph">
<area shape="rect" title="Gère la montée en niveau d&#39;un Mecha joueur après avoir reçu des points d&#39;expérience (XP)." alt="" coords="5,172,116,197"/>
<area shape="rect" href="combat_8c.html#af35e79d0f311c06fb1fe44ce8bb34ca4" title="Gère l&#39;apprentissage d&#39;une nouvelle attaque par un Mecha lors d&#39;un changement de niveau." alt="" coords="164,146,317,172"/>
<area shape="poly" title=" " alt="" coords="116,174,150,169,151,174,117,179"/>
<area shape="rect" href="combat_8c.html#afe15b54290598e06032e0c418f626461" title="Gère l&#39;évolution d&#39;un Mecha joueur lorsqu&#39;il atteint le niveau requis." alt="" coords="177,196,304,221"/>
<area shape="poly" title=" " alt="" coords="117,189,163,195,163,201,116,194"/>
<area shape="rect" href="affichage_8c.html#a1091893e7df87a967b878919b232b0d5" title="Affiche un dialogue interactif durant un combat entre deux Méchas." alt="" coords="365,172,536,197"/>
<area shape="poly" title=" " alt="" coords="318,166,352,170,351,175,317,171"/>
<area shape="rect" href="affichage_8c.html#a7290dad76779d8dd7f48366a16812be8" title="Initialise un rectangle avec ses dimensions, sa couleur et un texte optionnel." alt="" coords="788,48,899,73"/>
<area shape="poly" title=" " alt="" coords="491,169,788,75,790,80,493,174"/>
<area shape="rect" href="combat_8c.html#a159b2a6408c605d1fc9432689f92e3cb" title="Affiche à l&#39;écran tous les éléments graphiques d&#39;un combat entre deux Mechas." alt="" coords="609,172,709,197"/>
<area shape="poly" title=" " alt="" coords="536,182,595,182,595,187,536,187"/>
<area shape="rect" href="affichage_8c.html#ab542b24175a0231f8530346fc8ab790f" title="Dessine un rectangle coloré et son texte associé si présent." alt="" coords="975,270,1054,296"/>
<area shape="poly" title=" " alt="" coords="464,169,536,112,589,77,649,44,714,18,780,4,813,3,845,7,877,17,907,33,934,55,956,82,973,112,987,144,1005,207,1014,257,1008,257,1000,208,982,146,969,115,951,85,930,59,904,37,875,22,844,13,813,9,780,9,715,23,651,49,592,81,539,116,468,174"/>
<area shape="rect" href="affichage_8c.html#a390da1c2cd15fd5355de26bd34b3d3dc" title="Dessine du texte centré dans un rectangle, ligne par ligne si nécessaire." alt="" coords="953,320,1076,345"/>
<area shape="poly" title=" " alt="" coords="473,195,525,225,600,264,688,302,782,330,863,339,939,338,939,343,862,344,781,335,687,307,598,269,523,230,471,199"/>
<area shape="rect" href="affichage_8c.html#ab54c358911a2ed823f20797846583531" title="Dessine un texte centré verticalement et aligné à gauche dans un rectangle." alt="" coords="584,396,733,421"/>
<area shape="poly" title=" " alt="" coords="460,196,477,231,505,278,541,329,586,374,606,388,603,392,582,378,537,333,500,281,473,233,455,199"/>
<area shape="poly" title=" " alt="" coords="675,169,732,125,755,102,780,82,790,76,793,81,783,87,758,106,735,129,679,174"/>
<area shape="rect" href="affichage_8c.html#afc970416ff2ee1d9f8351a288625f23a" title="Concatène un entier à la fin d&#39;une chaîne de caractères." alt="" coords="813,245,874,270"/>
<area shape="poly" title=" " alt="" coords="692,195,782,231,801,239,799,244,780,236,690,200"/>
<area shape="rect" href="affichage_8c.html#a4f7e45e8554e8971bdba352cf9838405" title="Dessine plusieurs rectangles avec leurs textes centrés." alt="" coords="794,294,893,320"/>
<area shape="poly" title=" " alt="" coords="675,195,720,236,783,281,794,287,791,291,780,285,717,240,671,199"/>
<area shape="rect" href="affichage_8c.html#a3d385ca0396c4c2b3001371505a410e4" title="Affiche l&#39;arrière&#45;plan (background) actuel du jeu." alt="" coords="781,97,905,122"/>
<area shape="poly" title=" " alt="" coords="689,169,780,131,796,125,798,130,782,136,691,174"/>
<area shape="rect" href="affichage_8c.html#ae63215d67a18f635b3a1c2e1464a0a6f" title="Dessine un Mécha à l&#39;écran avec la texture correspondant à son orientation." alt="" coords="795,146,891,172"/>
<area shape="poly" title=" " alt="" coords="708,175,781,165,782,170,709,180"/>
<area shape="rect" href="affichage_8c.html#ac0e780352c4ab1739b9e31be92740c2d" title="Dessine du texte à une position spécifique à l&#39;écran, avec gestion des retours à la ligne." alt="" coords="790,196,897,221"/>
<area shape="poly" title=" " alt="" coords="709,188,777,197,776,202,708,193"/>
<area shape="poly" title=" " alt="" coords="893,298,961,288,962,293,893,303"/>
<area shape="poly" title=" " alt="" coords="893,312,940,319,939,324,893,317"/>
<area shape="poly" title=" " alt="" coords="304,199,351,193,352,198,305,204"/>
</map>
</div>
<div class="dynheader">
Voici le graphe des appelants de cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_aec838d58a7def8717d7fcd0faab3a107_icgraph.png" border="0" usemap="#acombat_8h_aec838d58a7def8717d7fcd0faab3a107_icgraph" alt=""/></div>
<map name="acombat_8h_aec838d58a7def8717d7fcd0faab3a107_icgraph" id="acombat_8h_aec838d58a7def8717d7fcd0faab3a107_icgraph">
<area shape="rect" title="Gère la montée en niveau d&#39;un Mecha joueur après avoir reçu des points d&#39;expérience (XP)." alt="" coords="672,55,783,80"/>
<area shape="rect" href="combat_8c.html#ac6fcdad743dc3526b2b89a1630618a07" title="Distribue les points d&#39;expérience (XP) gagnés lors d&#39;un combat à un ensemble de Méchas ayant particip..." alt="" coords="528,55,624,80"/>
<area shape="poly" title=" " alt="" coords="658,70,624,70,624,65,658,65"/>
<area shape="rect" href="combat_8c.html#a2de6c3e2a52edcf450da90005d5fad1d" title="Calcule et distribue les points d&#39;expérience (XP) aux Méchas du joueur après avoir vaincu un Mécha ad..." alt="" coords="377,55,480,80"/>
<area shape="poly" title=" " alt="" coords="514,70,480,70,480,65,514,65"/>
<area shape="rect" href="combat_8c.html#a03ca199547656caabf8e81d769b770e4" title="Gère un combat complet entre le joueur et un PNJ." alt="" coords="224,29,313,55"/>
<area shape="poly" title=" " alt="" coords="363,60,313,52,314,46,364,54"/>
<area shape="rect" href="combat_8c.html#ae03e9f733803425a6c1dcb7b81c8234e" title="Gère un combat entre le joueur et un Mécha sauvage." alt="" coords="208,79,329,104"/>
<area shape="poly" title=" " alt="" coords="364,80,330,85,329,80,363,74"/>
<area shape="rect" href="pointDePassage_8c.html#ade398b595e60d698c8c259edf2f8252a" title="Gère les interactions finales avec les PNJs &quot;Vin Gazole&quot; et &quot;Iron Musk&quot;, incluant dialogues,..." alt="" coords="35,5,131,31"/>
<area shape="poly" title=" " alt="" coords="210,37,131,27,131,22,211,32"/>
<area shape="rect" href="pointDePassage_8c.html#a9ed15a581ba87d71ad2d85b8649075da" title="Gère l&#39;interaction du joueur avec les PNJs &quot;Vin Gazole 2&quot; et &quot;Iron Musk&quot;, incluant dialogues,..." alt="" coords="5,55,160,80"/>
<area shape="poly" title=" " alt="" coords="211,53,160,59,160,54,210,47"/>
</map>
</div>

</div>
</div>
<a id="a3c18ce2957ca72f56737d0082766ad63" name="a3c18ce2957ca72f56737d0082766ad63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c18ce2957ca72f56737d0082766ad63">&#9670;&#160;</a></span>tour_joueur()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tour_joueur </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjoueur__t.html">joueur_t</a> *&#160;</td>
          <td class="paramname"><em>joueur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *&#160;</td>
          <td class="paramname"><em>mecha_sauvage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>actif</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type_combat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gère le tour du joueur lors d'un combat contre un Mécha sauvage ou un PNJ. </p>
<p>Cette fonction permet au joueur de réaliser une action pendant son tour. Le joueur peut :</p><ul>
<li>Utiliser un objet (carburant, rappel, mechaball).</li>
<li>Attaquer avec son Mécha actif.</li>
<li>Changer de Mécha actif.</li>
</ul>
<p>L'interface graphique affiche les choix possibles (Attaquer, Objet, Mechas, Fuite) et permet au joueur de naviguer entre eux avec les touches directionnelles. L'action sélectionnée est validée avec la touche <code>A</code>.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">joueur</td><td>Pointeur vers la structure contenant les informations du joueur (inventaire, Méchas disponibles). </td></tr>
    <tr><td class="paramname">mecha_sauvage</td><td>Pointeur vers le Mécha adverse (sauvage ou PNJ). </td></tr>
    <tr><td class="paramname">actif</td><td>Pointeur vers l'entier représentant l'indice du Mécha actuellement actif du joueur. </td></tr>
    <tr><td class="paramname">type_combat</td><td>Type du combat :<ul>
<li><code>0</code> pour combat contre un Mécha sauvage.</li>
<li><code>1</code> pour combat contre un PNJ.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>Retourne un entier indiquant l'action effectuée ou le résultat du tour :<ul>
<li><code>OK</code> (action réussie, tour terminé normalement).</li>
<li><code>CAPTURE</code> (capture réussie du Mécha sauvage).</li>
<li><code>FUITE</code> (le joueur quitte le combat en fermant la fenêtre ou via la touche Escape).</li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Précondition</dt><dd><ul>
<li>Les pointeurs <code>joueur</code>, <code>mecha_sauvage</code> et <code>actif</code> doivent être valides et initialisés.</li>
<li>La fenêtre SDL et le renderer doivent être initialisés.</li>
</ul>
</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd><ul>
<li>Met à jour les PV, l'inventaire et/ou les Méchas actifs en fonction des actions effectuées.</li>
<li>Affiche l'état actualisé du combat après chaque action.</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>L'action "Fuite" est affichée à l'écran mais n'est pas sélectionnable par le joueur (implémentation visuelle uniquement).</li>
<li>Les choix d'action se font uniquement entre les options "Attaquer", "Objet" et "Mechas".</li>
<li>L'utilisation d'un objet (notamment Mechaball) peut mener à la fin du combat via capture.</li>
</ul>
</dd></dl>
<dl class="section warning"><dt>Avertissement</dt><dd><ul>
<li>Cette fonction gère son propre cycle d'affichage et d'événements SDL, bloquant ainsi jusqu'à ce qu'une action valide soit choisie par le joueur.</li>
<li>Elle ne vérifie pas si tous les Méchas du joueur sont hors combat (cette vérification doit être faite à l'extérieur).</li>
</ul>
</dd></dl>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">joueur</td><td>Structure du joueur mise à jour selon les actions effectuées. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">actif</td><td>Indice du Mécha actif pouvant être modifié si le joueur change de Mécha.</td></tr>
  </table>
  </dd>
</dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000001">Bogue:</a></b></dt><dd><ul>
<li>L'option "Fuite" n'est pas fonctionnelle via le menu visuel (prévue en cas de fermeture directe du jeu).</li>
</ul>
</dd></dl>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_a3c18ce2957ca72f56737d0082766ad63_cgraph.png" border="0" usemap="#acombat_8h_a3c18ce2957ca72f56737d0082766ad63_cgraph" alt=""/></div>
<map name="acombat_8h_a3c18ce2957ca72f56737d0082766ad63_cgraph" id="acombat_8h_a3c18ce2957ca72f56737d0082766ad63_cgraph">
<area shape="rect" title="Gère le tour du joueur lors d&#39;un combat contre un Mécha sauvage ou un PNJ." alt="" coords="5,481,92,506"/>
<area shape="rect" href="combat_8c.html#aeabe45f0372840462d595a801345672b" title="Affiche l&#39;interface permettant au joueur de choisir et effectuer une attaque durant un combat." alt="" coords="143,634,249,659"/>
<area shape="poly" title=" " alt="" coords="64,504,175,622,171,625,60,508"/>
<area shape="rect" href="affichage_8c.html#a7290dad76779d8dd7f48366a16812be8" title="Initialise un rectangle avec ses dimensions, sa couleur et un texte optionnel." alt="" coords="913,305,1024,330"/>
<area shape="poly" title=" " alt="" coords="49,480,72,375,94,298,126,217,169,139,194,105,223,74,254,48,289,28,328,15,370,11,577,11,661,6,728,3,760,6,791,15,825,31,860,55,887,80,908,110,926,142,940,175,958,240,967,290,962,291,953,241,935,177,921,144,904,113,883,84,857,59,822,35,790,20,759,12,728,9,661,12,577,16,370,16,329,20,291,33,257,52,226,77,198,108,173,142,131,219,100,300,77,376,55,481"/>
<area shape="rect" href="combat_8c.html#a159b2a6408c605d1fc9432689f92e3cb" title="Affiche à l&#39;écran tous les éléments graphiques d&#39;un combat entre deux Mechas." alt="" coords="734,558,834,583"/>
<area shape="poly" title=" " alt="" coords="56,505,65,538,82,582,107,628,142,669,180,696,214,710,301,725,403,750,486,769,526,772,566,768,610,757,660,735,699,706,731,668,755,629,771,595,775,597,759,631,735,672,703,710,663,740,612,762,567,774,526,777,486,774,402,755,299,731,213,715,177,701,138,673,103,631,77,584,60,540,50,507"/>
<area shape="rect" href="affichage_8c.html#a4f7e45e8554e8971bdba352cf9838405" title="Dessine plusieurs rectangles avec leurs textes centrés." alt="" coords="919,654,1018,679"/>
<area shape="poly" title=" " alt="" coords="55,506,63,545,80,602,106,664,122,695,142,722,193,786,240,833,265,850,294,862,329,869,370,872,577,872,635,866,692,851,746,828,797,800,884,739,943,687,947,691,887,743,800,804,749,832,694,856,636,871,577,877,370,877,328,875,293,867,263,854,236,837,189,789,138,726,118,697,101,667,75,604,58,547,50,507"/>
<area shape="rect" href="combat_8c.html#a16e4593cbfaef36a7cc088aa6bef48c0" title="Permet au joueur de changer le Mecha actif pendant un combat." alt="" coords="314,353,429,378"/>
<area shape="poly" title=" " alt="" coords="81,478,325,381,327,385,83,483"/>
<area shape="rect" href="combat_8c.html#ae82c6dcf76c1412964511d71b75c637e" title="Affiche l&#39;interface d&#39;utilisation d&#39;objets pendant un combat." alt="" coords="140,254,252,279"/>
<area shape="poly" title=" " alt="" coords="56,479,177,289,182,292,60,482"/>
<area shape="rect" href="combat_8c.html#a8c19b3bf83d09e9fb4b596cd4ff45219" title="Calcule et applique les effets d&#39;une attaque lors d&#39;un combat entre deux Mechas." alt="" coords="323,609,419,634"/>
<area shape="poly" title=" " alt="" coords="249,636,310,627,310,633,250,642"/>
<area shape="poly" title=" " alt="" coords="221,631,299,593,656,440,921,333,923,338,658,445,301,598,223,636"/>
<area shape="poly" title=" " alt="" coords="221,657,258,674,301,688,402,713,484,728,523,729,564,725,609,714,660,695,694,675,724,648,766,593,770,596,728,652,697,679,662,700,611,719,565,730,524,735,484,733,401,718,299,693,256,679,219,662"/>
<area shape="rect" href="affichage_8c.html#afc970416ff2ee1d9f8351a288625f23a" title="Concatène un entier à la fin d&#39;une chaîne de caractères." alt="" coords="938,457,999,482"/>
<area shape="poly" title=" " alt="" coords="250,649,340,652,392,649,442,643,519,623,577,599,633,572,708,543,923,478,925,483,710,548,636,577,579,604,521,628,443,648,392,654,340,657,249,654"/>
<area shape="poly" title=" " alt="" coords="210,657,248,693,273,711,301,725,343,739,386,749,475,759,565,758,652,749,735,735,809,717,921,681,923,686,810,722,736,740,653,755,565,764,475,764,385,754,342,744,299,730,270,716,244,697,207,661"/>
<area shape="rect" href="affichage_8c.html#a1091893e7df87a967b878919b232b0d5" title="Affiche un dialogue interactif durant un combat entre deux Méchas." alt="" coords="491,254,661,279"/>
<area shape="poly" title=" " alt="" coords="378,607,558,290,563,292,382,610"/>
<area shape="rect" href="combat_8c.html#ab9469ab4f84b56a27ef05848c4a78cb9" title="Anime visuellement la diminution progressive des PV d&#39;un Mecha durant un combat." alt="" coords="517,659,635,685"/>
<area shape="poly" title=" " alt="" coords="420,630,511,653,510,658,419,636"/>
<area shape="poly" title=" " alt="" coords="662,268,757,276,859,289,907,299,906,304,858,295,756,282,661,274"/>
<area shape="poly" title=" " alt="" coords="586,278,634,370,670,431,711,492,761,547,757,550,707,495,666,434,629,373,581,281"/>
<area shape="rect" href="affichage_8c.html#ab542b24175a0231f8530346fc8ab790f" title="Dessine un rectangle coloré et son texte associé si présent." alt="" coords="1101,317,1179,342"/>
<area shape="poly" title=" " alt="" coords="661,263,709,263,872,263,942,270,1031,289,1095,309,1093,314,1030,294,942,276,871,268,709,268,662,268"/>
<area shape="rect" href="affichage_8c.html#a390da1c2cd15fd5355de26bd34b3d3dc" title="Dessine du texte centré dans un rectangle, ligne par ligne si nécessaire." alt="" coords="1079,530,1201,555"/>
<area shape="poly" title=" " alt="" coords="598,277,648,307,710,339,758,357,800,369,873,384,946,402,986,418,1032,442,1082,479,1121,517,1117,521,1078,483,1029,446,984,423,944,407,872,390,799,375,756,362,708,344,646,312,595,282"/>
<area shape="rect" href="affichage_8c.html#ab54c358911a2ed823f20797846583531" title="Dessine un texte centré verticalement et aligné à gauche dans un rectangle." alt="" coords="709,305,859,330"/>
<area shape="poly" title=" " alt="" coords="630,277,719,299,717,304,629,282"/>
<area shape="poly" title=" " alt="" coords="797,556,826,527,857,492,912,410,952,341,956,343,916,413,861,495,830,531,801,560"/>
<area shape="poly" title=" " alt="" coords="820,555,857,536,881,514,890,503,905,491,924,481,927,486,908,495,894,507,884,518,860,541,823,560"/>
<area shape="poly" title=" " alt="" coords="821,581,860,600,884,620,908,639,921,646,918,650,905,643,881,624,857,605,818,586"/>
<area shape="rect" href="affichage_8c.html#a3d385ca0396c4c2b3001371505a410e4" title="Affiche l&#39;arrière&#45;plan (background) actuel du jeu." alt="" coords="907,506,1031,531"/>
<area shape="poly" title=" " alt="" coords="829,555,909,533,910,538,831,560"/>
<area shape="rect" href="affichage_8c.html#ae63215d67a18f635b3a1c2e1464a0a6f" title="Dessine un Mécha à l&#39;écran avec la texture correspondant à son orientation." alt="" coords="921,555,1017,581"/>
<area shape="poly" title=" " alt="" coords="834,567,907,566,907,571,834,573"/>
<area shape="rect" href="affichage_8c.html#ac0e780352c4ab1739b9e31be92740c2d" title="Dessine du texte à une position spécifique à l&#39;écran, avec gestion des retours à la ligne." alt="" coords="915,605,1022,630"/>
<area shape="poly" title=" " alt="" coords="835,580,905,599,904,604,833,586"/>
<area shape="poly" title=" " alt="" coords="1012,652,1029,640,1045,601,1073,521,1128,354,1133,356,1078,522,1050,603,1033,643,1015,656"/>
<area shape="poly" title=" " alt="" coords="1005,651,1029,639,1077,602,1116,564,1120,568,1081,606,1032,643,1008,656"/>
<area shape="poly" title=" " alt="" coords="614,657,660,638,750,588,752,593,662,642,616,662"/>
<area shape="poly" title=" " alt="" coords="410,350,442,337,541,284,544,289,444,342,412,355"/>
<area shape="rect" href="combat_8c.html#a30cb93b663d557e0e81271f956c24379" title="Affiche l&#39;interface de sélection du Mecha du joueur durant un combat." alt="" coords="714,457,854,482"/>
<area shape="poly" title=" " alt="" coords="390,376,434,407,462,422,492,435,544,449,599,459,700,467,700,472,598,464,543,454,490,440,460,427,431,411,387,380"/>
<area shape="poly" title=" " alt="" coords="799,454,940,337,943,341,803,458"/>
<area shape="poly" title=" " alt="" coords="854,467,924,467,924,472,854,472"/>
<area shape="poly" title=" " alt="" coords="802,480,831,508,861,544,875,571,882,595,891,617,909,639,915,644,911,649,905,643,886,619,877,596,870,573,856,547,827,512,798,484"/>
<area shape="poly" title=" " alt="" coords="833,479,908,500,906,505,832,485"/>
<area shape="poly" title=" " alt="" coords="806,480,852,509,908,540,923,547,920,552,905,545,849,513,803,484"/>
<area shape="poly" title=" " alt="" coords="238,251,300,239,371,233,443,239,508,249,507,254,442,244,371,239,300,244,239,257"/>
<area shape="poly" title=" " alt="" coords="198,253,209,219,228,174,257,129,277,109,299,94,350,73,418,58,496,49,580,46,664,48,743,57,810,72,860,94,885,113,905,136,936,190,956,245,966,290,961,291,951,247,932,193,901,139,881,117,857,98,808,77,742,62,664,54,580,51,497,54,419,64,351,78,301,98,280,113,262,132,233,177,214,221,203,254"/>
<area shape="poly" title=" " alt="" coords="207,278,244,330,271,360,302,387,353,422,409,452,524,501,633,535,721,556,720,562,632,540,522,506,406,457,350,426,298,391,267,364,240,333,203,281"/>
<area shape="poly" title=" " alt="" coords="201,252,214,227,235,194,264,162,299,138,350,116,395,103,437,97,477,97,560,111,662,137,724,154,772,172,814,200,861,244,958,443,953,445,857,247,811,204,769,177,722,159,661,142,559,116,476,102,437,102,396,108,352,121,301,142,267,166,239,197,219,229,205,255"/>
<area shape="poly" title=" " alt="" coords="208,278,245,329,272,360,302,387,378,441,460,488,545,529,629,565,787,618,907,651,905,656,785,623,628,570,542,534,457,493,375,445,298,391,268,363,241,333,203,281"/>
<area shape="rect" href="combat_8c.html#a7f2daafca6455a03963db8f32d8a8d10" title="Gère l&#39;utilisation d&#39;un objet &quot;carburant&quot; durant un combat." alt="" coords="302,254,441,279"/>
<area shape="poly" title=" " alt="" coords="252,264,288,264,288,269,252,269"/>
<area shape="rect" href="combat_8c.html#a53bf2250ba00b21dceed166fa59bd150" title="Gère l&#39;utilisation d&#39;une &quot;mechaball&quot; pour capturer un Mecha adverse durant un combat." alt="" coords="300,153,443,178"/>
<area shape="poly" title=" " alt="" coords="213,252,299,195,325,181,328,186,301,200,216,256"/>
<area shape="rect" href="combat_8c.html#afff6b8b516af5c46c938f407788d1b5f" title="Gère l&#39;utilisation d&#39;un objet &quot;rappel&quot; durant un combat." alt="" coords="312,303,431,329"/>
<area shape="poly" title=" " alt="" coords="243,277,313,297,311,302,241,282"/>
<area shape="poly" title=" " alt="" coords="441,264,477,264,477,269,441,269"/>
<area shape="poly" title=" " alt="" coords="418,251,507,234,563,227,623,225,686,228,747,239,806,259,860,290,897,325,925,366,947,408,961,442,956,445,942,410,921,369,893,328,857,294,804,264,746,244,685,233,623,230,564,233,508,239,419,256"/>
<area shape="poly" title=" " alt="" coords="411,277,443,288,507,307,558,318,607,335,663,370,679,387,688,403,696,419,711,435,732,448,729,453,708,439,692,422,683,406,675,390,660,374,605,340,557,323,506,312,442,293,410,282"/>
<area shape="poly" title=" " alt="" coords="403,176,444,195,540,245,538,250,441,200,400,180"/>
<area shape="rect" href="pointDePassage_8c.html#af6656571e1d9901fcca65ffc7217aabb" title="Copie intégralement les attributs d&#39;un Mecha vers l&#39;équipe du joueur." alt="" coords="523,153,629,178"/>
<area shape="poly" title=" " alt="" coords="443,163,509,163,509,168,443,168"/>
<area shape="poly" title=" " alt="" coords="424,301,509,280,510,285,425,306"/>
<area shape="poly" title=" " alt="" coords="411,326,444,337,738,449,736,454,442,342,410,331"/>
</map>
</div>
<div class="dynheader">
Voici le graphe des appelants de cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_a3c18ce2957ca72f56737d0082766ad63_icgraph.png" border="0" usemap="#acombat_8h_a3c18ce2957ca72f56737d0082766ad63_icgraph" alt=""/></div>
<map name="acombat_8h_a3c18ce2957ca72f56737d0082766ad63_icgraph" id="acombat_8h_a3c18ce2957ca72f56737d0082766ad63_icgraph">
<area shape="rect" title="Gère le tour du joueur lors d&#39;un combat contre un Mécha sauvage ou un PNJ." alt="" coords="377,55,464,80"/>
<area shape="rect" href="combat_8c.html#a03ca199547656caabf8e81d769b770e4" title="Gère un combat complet entre le joueur et un PNJ." alt="" coords="224,29,313,55"/>
<area shape="poly" title=" " alt="" coords="363,60,313,52,314,47,364,55"/>
<area shape="rect" href="combat_8c.html#ae03e9f733803425a6c1dcb7b81c8234e" title="Gère un combat entre le joueur et un Mécha sauvage." alt="" coords="208,79,329,104"/>
<area shape="poly" title=" " alt="" coords="364,79,330,84,329,79,363,74"/>
<area shape="rect" href="pointDePassage_8c.html#ade398b595e60d698c8c259edf2f8252a" title="Gère les interactions finales avec les PNJs &quot;Vin Gazole&quot; et &quot;Iron Musk&quot;, incluant dialogues,..." alt="" coords="35,5,131,31"/>
<area shape="poly" title=" " alt="" coords="210,37,131,27,131,22,211,32"/>
<area shape="rect" href="pointDePassage_8c.html#a9ed15a581ba87d71ad2d85b8649075da" title="Gère l&#39;interaction du joueur avec les PNJs &quot;Vin Gazole 2&quot; et &quot;Iron Musk&quot;, incluant dialogues,..." alt="" coords="5,55,160,80"/>
<area shape="poly" title=" " alt="" coords="211,53,160,59,160,54,210,47"/>
</map>
</div>

</div>
</div>
<a id="a7f2daafca6455a03963db8f32d8a8d10" name="a7f2daafca6455a03963db8f32d8a8d10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f2daafca6455a03963db8f32d8a8d10">&#9670;&#160;</a></span>utilisation_carburant()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int utilisation_carburant </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjoueur__t.html">joueur_t</a> *&#160;</td>
          <td class="paramname"><em>joueur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *&#160;</td>
          <td class="paramname"><em>ordi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>actif</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gère l'utilisation d'un objet "carburant" durant un combat. </p>
<p>Cette fonction permet au joueur d'utiliser un objet carburant pour restaurer les points de vie (PV) d'un Mecha spécifique de son équipe durant un combat. Elle effectue plusieurs vérifications avant utilisation :</p><ul>
<li>Vérifie si le joueur possède au moins un carburant dans son inventaire.</li>
<li>Vérifie que le Mecha choisi n'est pas déjà à ses PV max ou KO.</li>
<li>Permet au joueur de choisir le Mecha cible de l'utilisation via <code>aff_mechas_combat</code>.</li>
</ul>
<p>En cas de succès, 50 PV sont restaurés au Mecha sélectionné, sans dépasser les PV max, et l'objet est retiré de l'inventaire.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">joueur</td><td>Pointeur vers la structure du joueur actuellement en combat. </td></tr>
    <tr><td class="paramname">ordi</td><td>Pointeur vers le Mecha adverse (utilisé pour l'affichage du combat). </td></tr>
    <tr><td class="paramname">actif</td><td>Pointeur vers l'indice du Mecha actif du joueur actuellement utilisé en combat.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>int<ul>
<li><code>OK</code> : Le carburant a été utilisé avec succès.</li>
<li><code>KO</code> : Échec de l'utilisation (pas de carburant disponible).</li>
<li><code>RETOUR</code> : L'action a été annulée ou impossible (Mecha sélectionné KO, PV déjà au max ou aucun choix effectué).</li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Précondition</dt><dd>Les structures joueur, inventaire et Mechas doivent être correctement initialisées.</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Le Mecha sélectionné a reçu des PV supplémentaires, et l'inventaire est mis à jour.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Des dialogues informatifs sont affichés à l'écran pour expliquer chaque situation rencontrée par le joueur.</dd></dl>
<dl class="section warning"><dt>Avertissement</dt><dd>Vérifie toujours que le joueur dispose de l'objet avant son utilisation pour éviter des résultats incorrects. </dd></dl>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_a7f2daafca6455a03963db8f32d8a8d10_cgraph.png" border="0" usemap="#acombat_8h_a7f2daafca6455a03963db8f32d8a8d10_cgraph" alt=""/></div>
<map name="acombat_8h_a7f2daafca6455a03963db8f32d8a8d10_cgraph" id="acombat_8h_a7f2daafca6455a03963db8f32d8a8d10_cgraph">
<area shape="rect" title="Gère l&#39;utilisation d&#39;un objet &quot;carburant&quot; durant un combat." alt="" coords="5,129,144,155"/>
<area shape="rect" href="combat_8c.html#a30cb93b663d557e0e81271f956c24379" title="Affiche l&#39;interface de sélection du Mecha du joueur durant un combat." alt="" coords="415,129,555,155"/>
<area shape="poly" title=" " alt="" coords="144,139,401,139,401,145,144,145"/>
<area shape="rect" href="affichage_8c.html#afc970416ff2ee1d9f8351a288625f23a" title="Concatène un entier à la fin d&#39;une chaîne de caractères." alt="" coords="639,32,701,57"/>
<area shape="poly" title=" " alt="" coords="144,128,625,49,626,54,145,133"/>
<area shape="rect" href="affichage_8c.html#a1091893e7df87a967b878919b232b0d5" title="Affiche un dialogue interactif durant un combat entre deux Méchas." alt="" coords="192,204,363,229"/>
<area shape="poly" title=" " alt="" coords="111,152,230,197,228,202,109,157"/>
<area shape="poly" title=" " alt="" coords="504,127,550,98,607,66,625,58,628,63,609,71,553,102,507,131"/>
<area shape="rect" href="affichage_8c.html#a7290dad76779d8dd7f48366a16812be8" title="Initialise un rectangle avec ses dimensions, sa couleur et un texte optionnel." alt="" coords="615,279,725,304"/>
<area shape="poly" title=" " alt="" coords="544,152,562,164,581,189,587,215,593,239,610,264,616,269,613,273,606,268,588,242,582,216,576,192,558,168,541,157"/>
<area shape="rect" href="affichage_8c.html#a4f7e45e8554e8971bdba352cf9838405" title="Dessine plusieurs rectangles avec leurs textes centrés." alt="" coords="621,180,719,205"/>
<area shape="poly" title=" " alt="" coords="533,152,610,174,609,179,532,157"/>
<area shape="rect" href="affichage_8c.html#a3d385ca0396c4c2b3001371505a410e4" title="Affiche l&#39;arrière&#45;plan (background) actuel du jeu." alt="" coords="608,81,732,107"/>
<area shape="poly" title=" " alt="" coords="534,127,606,108,607,113,536,132"/>
<area shape="rect" href="affichage_8c.html#ae63215d67a18f635b3a1c2e1464a0a6f" title="Dessine un Mécha à l&#39;écran avec la texture correspondant à son orientation." alt="" coords="622,131,718,156"/>
<area shape="poly" title=" " alt="" coords="555,140,608,140,608,145,555,145"/>
<area shape="rect" href="affichage_8c.html#ab542b24175a0231f8530346fc8ab790f" title="Dessine un rectangle coloré et son texte associé si présent." alt="" coords="802,131,881,156"/>
<area shape="poly" title=" " alt="" coords="714,177,788,156,789,161,716,182"/>
<area shape="rect" href="affichage_8c.html#a390da1c2cd15fd5355de26bd34b3d3dc" title="Dessine du texte centré dans un rectangle, ligne par ligne si nécessaire." alt="" coords="780,229,903,255"/>
<area shape="poly" title=" " alt="" coords="716,203,783,223,782,228,714,208"/>
<area shape="poly" title=" " alt="" coords="308,227,356,245,411,262,510,278,601,286,600,291,509,284,410,267,354,251,306,232"/>
<area shape="poly" title=" " alt="" coords="291,201,339,161,414,106,506,54,556,32,607,17,671,3,700,5,733,17,765,37,792,63,829,117,825,120,788,67,762,41,731,22,698,10,672,9,609,22,558,37,508,58,417,111,343,165,295,205"/>
<area shape="poly" title=" " alt="" coords="297,227,347,259,412,289,500,318,571,334,606,337,643,334,684,327,731,314,777,291,815,262,818,267,780,296,733,319,685,332,644,340,606,342,571,340,498,323,410,294,345,264,295,232"/>
<area shape="rect" href="combat_8c.html#a159b2a6408c605d1fc9432689f92e3cb" title="Affiche à l&#39;écran tous les éléments graphiques d&#39;un combat entre deux Mechas." alt="" coords="435,179,535,204"/>
<area shape="poly" title=" " alt="" coords="362,204,421,196,422,202,363,209"/>
<area shape="rect" href="affichage_8c.html#ab54c358911a2ed823f20797846583531" title="Dessine un texte centré verticalement et aligné à gauche dans un rectangle." alt="" coords="411,228,560,253"/>
<area shape="poly" title=" " alt="" coords="363,224,397,228,396,233,362,229"/>
<area shape="poly" title=" " alt="" coords="534,178,558,164,575,141,582,117,588,92,606,67,625,54,628,59,610,70,593,94,587,118,580,143,562,168,537,183"/>
<area shape="poly" title=" " alt="" coords="537,201,561,213,577,226,586,239,595,251,610,264,620,270,617,275,606,268,591,255,582,242,573,230,559,217,534,206"/>
<area shape="poly" title=" " alt="" coords="535,189,607,189,607,195,535,194"/>
<area shape="poly" title=" " alt="" coords="533,176,559,164,573,152,582,140,592,128,606,116,616,110,619,115,610,120,595,132,586,144,577,156,561,168,535,181"/>
<area shape="poly" title=" " alt="" coords="534,176,607,157,609,162,536,181"/>
<area shape="rect" href="affichage_8c.html#ac0e780352c4ab1739b9e31be92740c2d" title="Dessine du texte à une position spécifique à l&#39;écran, avec gestion des retours à la ligne." alt="" coords="617,229,723,255"/>
<area shape="poly" title=" " alt="" coords="533,201,610,223,609,228,532,207"/>
</map>
</div>
<div class="dynheader">
Voici le graphe des appelants de cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_a7f2daafca6455a03963db8f32d8a8d10_icgraph.png" border="0" usemap="#acombat_8h_a7f2daafca6455a03963db8f32d8a8d10_icgraph" alt=""/></div>
<map name="acombat_8h_a7f2daafca6455a03963db8f32d8a8d10_icgraph" id="acombat_8h_a7f2daafca6455a03963db8f32d8a8d10_icgraph">
<area shape="rect" title="Gère l&#39;utilisation d&#39;un objet &quot;carburant&quot; durant un combat." alt="" coords="672,55,811,80"/>
<area shape="rect" href="combat_8c.html#ae82c6dcf76c1412964511d71b75c637e" title="Affiche l&#39;interface d&#39;utilisation d&#39;objets pendant un combat." alt="" coords="512,55,624,80"/>
<area shape="poly" title=" " alt="" coords="658,70,624,70,624,65,658,65"/>
<area shape="rect" href="combat_8c.html#a3c18ce2957ca72f56737d0082766ad63" title="Gère le tour du joueur lors d&#39;un combat contre un Mécha sauvage ou un PNJ." alt="" coords="377,55,464,80"/>
<area shape="poly" title=" " alt="" coords="498,70,464,70,464,65,498,65"/>
<area shape="rect" href="combat_8c.html#a03ca199547656caabf8e81d769b770e4" title="Gère un combat complet entre le joueur et un PNJ." alt="" coords="224,29,313,55"/>
<area shape="poly" title=" " alt="" coords="363,60,313,52,314,47,364,55"/>
<area shape="rect" href="combat_8c.html#ae03e9f733803425a6c1dcb7b81c8234e" title="Gère un combat entre le joueur et un Mécha sauvage." alt="" coords="208,79,329,104"/>
<area shape="poly" title=" " alt="" coords="364,79,330,84,329,79,363,74"/>
<area shape="rect" href="pointDePassage_8c.html#ade398b595e60d698c8c259edf2f8252a" title="Gère les interactions finales avec les PNJs &quot;Vin Gazole&quot; et &quot;Iron Musk&quot;, incluant dialogues,..." alt="" coords="35,5,131,31"/>
<area shape="poly" title=" " alt="" coords="210,37,131,27,131,22,211,32"/>
<area shape="rect" href="pointDePassage_8c.html#a9ed15a581ba87d71ad2d85b8649075da" title="Gère l&#39;interaction du joueur avec les PNJs &quot;Vin Gazole 2&quot; et &quot;Iron Musk&quot;, incluant dialogues,..." alt="" coords="5,55,160,80"/>
<area shape="poly" title=" " alt="" coords="211,53,160,59,160,54,210,47"/>
</map>
</div>

</div>
</div>
<a id="a53bf2250ba00b21dceed166fa59bd150" name="a53bf2250ba00b21dceed166fa59bd150"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53bf2250ba00b21dceed166fa59bd150">&#9670;&#160;</a></span>utilisation_mechaball()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int utilisation_mechaball </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjoueur__t.html">joueur_t</a> *&#160;</td>
          <td class="paramname"><em>joueur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *&#160;</td>
          <td class="paramname"><em>ordi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>actif</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gère l'utilisation d'une "mechaball" pour capturer un Mecha adverse durant un combat. </p>
<p>Cette fonction permet au joueur d'utiliser une mechaball afin d'essayer de capturer un Mecha sauvage en combat. Elle réalise plusieurs étapes clés :</p><ul>
<li>Vérifie que le joueur dispose d'au moins une mechaball dans son inventaire.</li>
<li>Calcule le taux de capture en fonction du type du Mecha adverse :<ul>
<li>Type "Nucléaire" : taux de base faible (10% max).</li>
<li>Autres types : taux de base plus élevé (50% max).</li>
</ul>
</li>
<li>Le taux effectif de capture dépend des PV restants du Mecha adverse : plus les PV sont bas, plus le taux est élevé.</li>
<li>Un tirage aléatoire détermine si la capture est réussie ou non.</li>
</ul>
<p>En cas de succès, le Mecha sauvage est ajouté à l'équipe du joueur.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">joueur</td><td>Pointeur vers la structure du joueur en combat. </td></tr>
    <tr><td class="paramname">ordi</td><td>Pointeur vers le Mecha adverse que le joueur tente de capturer. </td></tr>
    <tr><td class="paramname">actif</td><td>Pointeur vers l'indice du Mecha actif du joueur utilisé actuellement en combat.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>int<ul>
<li><code>CAPTURE</code> : La capture a réussi, le Mecha adverse rejoint l'équipe.</li>
<li><code>FAUX</code> : La capture a échoué, la mechaball est consommée.</li>
<li><code>KO</code> : Échec d'utilisation (aucune mechaball disponible).</li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Précondition</dt><dd>Les structures joueur, inventaire et Mechas doivent être initialisées et valides.</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>La mechaball est retirée de l'inventaire, et le Mecha sauvage est ajouté à l'équipe en cas de succès.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Des dialogues informatifs sont affichés pour expliquer le résultat de l'action au joueur.</dd></dl>
<dl class="section warning"><dt>Avertissement</dt><dd>Cette fonction ne devrait être utilisée que durant des combats contre des Mechas sauvages. Pour les combats spéciaux ou scénarisés, la capture pourrait être désactivée. </dd></dl>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_a53bf2250ba00b21dceed166fa59bd150_cgraph.png" border="0" usemap="#acombat_8h_a53bf2250ba00b21dceed166fa59bd150_cgraph" alt=""/></div>
<map name="acombat_8h_a53bf2250ba00b21dceed166fa59bd150_cgraph" id="acombat_8h_a53bf2250ba00b21dceed166fa59bd150_cgraph">
<area shape="rect" title="Gère l&#39;utilisation d&#39;une &quot;mechaball&quot; pour capturer un Mecha adverse durant un combat." alt="" coords="5,197,148,222"/>
<area shape="rect" href="affichage_8c.html#a1091893e7df87a967b878919b232b0d5" title="Affiche un dialogue interactif durant un combat entre deux Méchas." alt="" coords="196,172,367,197"/>
<area shape="poly" title=" " alt="" coords="148,198,182,194,183,199,148,204"/>
<area shape="rect" href="pointDePassage_8c.html#af6656571e1d9901fcca65ffc7217aabb" title="Copie intégralement les attributs d&#39;un Mecha vers l&#39;équipe du joueur." alt="" coords="228,221,335,246"/>
<area shape="poly" title=" " alt="" coords="148,215,215,223,214,229,148,221"/>
<area shape="rect" href="affichage_8c.html#a7290dad76779d8dd7f48366a16812be8" title="Initialise un rectangle avec ses dimensions, sa couleur et un texte optionnel." alt="" coords="619,48,729,73"/>
<area shape="poly" title=" " alt="" coords="322,169,619,75,620,80,323,174"/>
<area shape="rect" href="combat_8c.html#a159b2a6408c605d1fc9432689f92e3cb" title="Affiche à l&#39;écran tous les éléments graphiques d&#39;un combat entre deux Mechas." alt="" coords="439,172,539,197"/>
<area shape="poly" title=" " alt="" coords="367,182,425,182,425,187,367,187"/>
<area shape="rect" href="affichage_8c.html#ab542b24175a0231f8530346fc8ab790f" title="Dessine un rectangle coloré et son texte associé si présent." alt="" coords="806,270,885,296"/>
<area shape="poly" title=" " alt="" coords="295,169,367,112,420,77,480,44,544,18,611,4,644,3,676,7,707,17,737,33,764,55,786,82,804,112,818,144,836,207,844,257,839,257,831,208,813,146,799,115,782,85,761,59,735,37,705,22,675,13,643,9,611,9,546,23,482,49,422,81,370,116,298,174"/>
<area shape="rect" href="affichage_8c.html#a390da1c2cd15fd5355de26bd34b3d3dc" title="Dessine du texte centré dans un rectangle, ligne par ligne si nécessaire." alt="" coords="784,320,907,345"/>
<area shape="poly" title=" " alt="" coords="331,195,368,207,437,242,489,275,541,305,573,318,613,330,652,337,693,340,770,338,770,344,693,345,652,342,611,335,571,323,538,310,486,280,435,246,366,212,329,200"/>
<area shape="rect" href="affichage_8c.html#ab54c358911a2ed823f20797846583531" title="Dessine un texte centré verticalement et aligné à gauche dans un rectangle." alt="" coords="415,396,564,421"/>
<area shape="poly" title=" " alt="" coords="350,195,369,208,385,229,392,250,395,292,396,333,403,354,417,375,432,387,428,391,413,378,398,356,391,334,389,292,387,251,380,232,365,212,347,199"/>
<area shape="poly" title=" " alt="" coords="506,169,562,125,585,102,611,82,621,76,624,81,613,87,589,106,566,129,509,174"/>
<area shape="rect" href="affichage_8c.html#afc970416ff2ee1d9f8351a288625f23a" title="Concatène un entier à la fin d&#39;une chaîne de caractères." alt="" coords="643,245,705,270"/>
<area shape="poly" title=" " alt="" coords="523,195,613,231,632,239,630,244,611,236,521,200"/>
<area shape="rect" href="affichage_8c.html#a4f7e45e8554e8971bdba352cf9838405" title="Dessine plusieurs rectangles avec leurs textes centrés." alt="" coords="625,294,723,320"/>
<area shape="poly" title=" " alt="" coords="505,195,551,236,613,281,624,287,622,291,611,285,548,240,502,199"/>
<area shape="rect" href="affichage_8c.html#a3d385ca0396c4c2b3001371505a410e4" title="Affiche l&#39;arrière&#45;plan (background) actuel du jeu." alt="" coords="612,97,736,122"/>
<area shape="poly" title=" " alt="" coords="520,169,611,131,626,125,628,130,613,136,522,174"/>
<area shape="rect" href="affichage_8c.html#ae63215d67a18f635b3a1c2e1464a0a6f" title="Dessine un Mécha à l&#39;écran avec la texture correspondant à son orientation." alt="" coords="626,146,722,172"/>
<area shape="poly" title=" " alt="" coords="539,175,612,165,613,170,540,180"/>
<area shape="rect" href="affichage_8c.html#ac0e780352c4ab1739b9e31be92740c2d" title="Dessine du texte à une position spécifique à l&#39;écran, avec gestion des retours à la ligne." alt="" coords="621,196,727,221"/>
<area shape="poly" title=" " alt="" coords="540,188,607,197,607,202,539,193"/>
<area shape="poly" title=" " alt="" coords="723,298,792,288,792,293,724,303"/>
<area shape="poly" title=" " alt="" coords="724,312,770,319,770,324,723,317"/>
</map>
</div>
<div class="dynheader">
Voici le graphe des appelants de cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_a53bf2250ba00b21dceed166fa59bd150_icgraph.png" border="0" usemap="#acombat_8h_a53bf2250ba00b21dceed166fa59bd150_icgraph" alt=""/></div>
<map name="acombat_8h_a53bf2250ba00b21dceed166fa59bd150_icgraph" id="acombat_8h_a53bf2250ba00b21dceed166fa59bd150_icgraph">
<area shape="rect" title="Gère l&#39;utilisation d&#39;une &quot;mechaball&quot; pour capturer un Mecha adverse durant un combat." alt="" coords="672,55,815,80"/>
<area shape="rect" href="combat_8c.html#ae82c6dcf76c1412964511d71b75c637e" title="Affiche l&#39;interface d&#39;utilisation d&#39;objets pendant un combat." alt="" coords="512,55,624,80"/>
<area shape="poly" title=" " alt="" coords="658,70,624,70,624,65,658,65"/>
<area shape="rect" href="combat_8c.html#a3c18ce2957ca72f56737d0082766ad63" title="Gère le tour du joueur lors d&#39;un combat contre un Mécha sauvage ou un PNJ." alt="" coords="377,55,464,80"/>
<area shape="poly" title=" " alt="" coords="498,70,464,70,464,65,498,65"/>
<area shape="rect" href="combat_8c.html#a03ca199547656caabf8e81d769b770e4" title="Gère un combat complet entre le joueur et un PNJ." alt="" coords="224,29,313,55"/>
<area shape="poly" title=" " alt="" coords="363,60,313,52,314,47,364,55"/>
<area shape="rect" href="combat_8c.html#ae03e9f733803425a6c1dcb7b81c8234e" title="Gère un combat entre le joueur et un Mécha sauvage." alt="" coords="208,79,329,104"/>
<area shape="poly" title=" " alt="" coords="364,79,330,84,329,79,363,74"/>
<area shape="rect" href="pointDePassage_8c.html#ade398b595e60d698c8c259edf2f8252a" title="Gère les interactions finales avec les PNJs &quot;Vin Gazole&quot; et &quot;Iron Musk&quot;, incluant dialogues,..." alt="" coords="35,5,131,31"/>
<area shape="poly" title=" " alt="" coords="210,37,131,27,131,22,211,32"/>
<area shape="rect" href="pointDePassage_8c.html#a9ed15a581ba87d71ad2d85b8649075da" title="Gère l&#39;interaction du joueur avec les PNJs &quot;Vin Gazole 2&quot; et &quot;Iron Musk&quot;, incluant dialogues,..." alt="" coords="5,55,160,80"/>
<area shape="poly" title=" " alt="" coords="211,53,160,59,160,54,210,47"/>
</map>
</div>

</div>
</div>
<a id="ae82c6dcf76c1412964511d71b75c637e" name="ae82c6dcf76c1412964511d71b75c637e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae82c6dcf76c1412964511d71b75c637e">&#9670;&#160;</a></span>utilisation_objet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int utilisation_objet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjoueur__t.html">joueur_t</a> *&#160;</td>
          <td class="paramname"><em>joueur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *&#160;</td>
          <td class="paramname"><em>ordi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>actif</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type_combat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Affiche l'interface d'utilisation d'objets pendant un combat. </p>
<p>Cette fonction permet au joueur de choisir et d'utiliser des objets spécifiques lors d'un combat entre son Mecha et un adversaire (Mecha sauvage ou combat scénarisé). Les objets disponibles sont :</p><ul>
<li><b>Carburant</b> : Restaure les PV d'un Mecha.</li>
<li><b>Rappel</b> : Réanime un Mecha KO.</li>
<li><b>Mechaball</b> : Permet de capturer un Mecha sauvage (uniquement dans certains types de combat).</li>
<li><b>Retour</b> : Revenir au menu précédent.</li>
</ul>
<p>Le joueur navigue entre ces choix à l'aide des touches directionnelles gauche/droite et valide sa sélection avec la touche <code>A</code>.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">joueur</td><td>Pointeur vers la structure du joueur en combat. </td></tr>
    <tr><td class="paramname">ordi</td><td>Pointeur vers le Mecha adverse en combat. </td></tr>
    <tr><td class="paramname">actif</td><td>Pointeur vers l'indice du Mecha actif du joueur actuellement utilisé en combat. </td></tr>
    <tr><td class="paramname">type_combat</td><td>Type du combat en cours :<ul>
<li><code>0</code> : Combat contre un Mecha sauvage (capture possible).</li>
<li><code>1</code> : Combat scénarisé (capture impossible).</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>int<ul>
<li><code>OK</code> : Objet utilisé avec succès ou retour effectué.</li>
<li><code>CAPTURE</code> : Capture réussie du Mecha sauvage avec une Mechaball.</li>
<li><code>FAUX</code> : La capture a échoué, le combat continue.</li>
<li><code>RETOUR</code> : L'utilisateur a choisi de revenir en arrière sans utiliser d'objet.</li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Précondition</dt><dd>Les ressources graphiques (<code>game.renderer</code>, rectangles graphiques, Mechas, etc.) doivent être correctement initialisées.</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Le combat est mis à jour selon l'effet de l'objet choisi.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>La fonction bloque l'exécution jusqu'à ce que l'utilisateur fasse une sélection valide ou annule l'action.</dd></dl>
<dl class="section warning"><dt>Avertissement</dt><dd>Veille à ce que le joueur dispose bien des objets dans son inventaire avant leur utilisation pour éviter des résultats inattendus. </dd></dl>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_ae82c6dcf76c1412964511d71b75c637e_cgraph.png" border="0" usemap="#acombat_8h_ae82c6dcf76c1412964511d71b75c637e_cgraph" alt=""/></div>
<map name="acombat_8h_ae82c6dcf76c1412964511d71b75c637e_cgraph" id="acombat_8h_ae82c6dcf76c1412964511d71b75c637e_cgraph">
<area shape="rect" title="Affiche l&#39;interface d&#39;utilisation d&#39;objets pendant un combat." alt="" coords="5,123,117,148"/>
<area shape="rect" href="affichage_8c.html#a1091893e7df87a967b878919b232b0d5" title="Affiche un dialogue interactif durant un combat entre deux Méchas." alt="" coords="356,47,527,72"/>
<area shape="poly" title=" " alt="" coords="82,120,119,100,165,82,255,64,342,57,342,62,256,70,166,87,121,105,84,125"/>
<area shape="rect" href="affichage_8c.html#a7290dad76779d8dd7f48366a16812be8" title="Initialise un rectangle avec ses dimensions, sa couleur et un texte optionnel." alt="" coords="779,99,889,124"/>
<area shape="poly" title=" " alt="" coords="73,121,111,86,136,68,164,53,216,34,262,22,303,15,342,14,424,20,527,31,627,44,725,69,790,91,788,96,723,74,626,50,526,37,423,25,342,19,303,21,263,27,218,39,166,58,139,72,114,90,76,125"/>
<area shape="rect" href="combat_8c.html#a159b2a6408c605d1fc9432689f92e3cb" title="Affiche à l&#39;écran tous les éléments graphiques d&#39;un combat entre deux Mechas." alt="" coords="599,248,699,273"/>
<area shape="poly" title=" " alt="" coords="73,147,110,191,136,215,166,233,220,253,277,266,335,274,393,278,500,277,586,268,586,274,500,282,392,284,335,280,276,271,219,258,164,238,133,219,106,195,69,150"/>
<area shape="rect" href="affichage_8c.html#afc970416ff2ee1d9f8351a288625f23a" title="Concatène un entier à la fin d&#39;une chaîne de caractères." alt="" coords="803,345,865,371"/>
<area shape="poly" title=" " alt="" coords="70,147,83,175,104,210,132,246,167,275,248,314,335,342,424,360,513,369,597,372,674,371,790,362,790,367,674,376,597,378,513,374,424,365,334,347,246,319,164,279,128,249,99,213,78,177,65,149"/>
<area shape="rect" href="affichage_8c.html#a4f7e45e8554e8971bdba352cf9838405" title="Dessine plusieurs rectangles avec leurs textes centrés." alt="" coords="785,148,883,173"/>
<area shape="poly" title=" " alt="" coords="67,121,102,67,130,38,164,16,203,4,235,5,267,11,308,15,418,16,467,20,527,32,791,140,788,145,526,37,466,25,418,22,308,21,267,16,234,10,203,9,166,21,134,42,106,71,71,124"/>
<area shape="rect" href="combat_8c.html#a7f2daafca6455a03963db8f32d8a8d10" title="Gère l&#39;utilisation d&#39;un objet &quot;carburant&quot; durant un combat." alt="" coords="167,197,306,223"/>
<area shape="poly" title=" " alt="" coords="88,146,166,182,186,190,184,195,164,187,86,151"/>
<area shape="rect" href="combat_8c.html#a53bf2250ba00b21dceed166fa59bd150" title="Gère l&#39;utilisation d&#39;une &quot;mechaball&quot; pour capturer un Mecha adverse durant un combat." alt="" coords="165,147,308,172"/>
<area shape="poly" title=" " alt="" coords="118,140,152,145,151,150,117,146"/>
<area shape="rect" href="combat_8c.html#afff6b8b516af5c46c938f407788d1b5f" title="Gère l&#39;utilisation d&#39;un objet &quot;rappel&quot; durant un combat." alt="" coords="177,97,296,123"/>
<area shape="poly" title=" " alt="" coords="117,125,163,118,164,123,118,130"/>
<area shape="poly" title=" " alt="" coords="524,69,575,77,765,101,764,106,574,82,524,75"/>
<area shape="poly" title=" " alt="" coords="462,70,495,98,529,134,544,163,550,188,558,211,576,235,589,243,586,248,573,239,553,214,545,190,539,164,524,137,492,101,459,74"/>
<area shape="rect" href="affichage_8c.html#ab542b24175a0231f8530346fc8ab790f" title="Dessine un rectangle coloré et son texte associé si présent." alt="" coords="966,99,1045,124"/>
<area shape="poly" title=" " alt="" coords="527,57,698,64,798,72,896,83,953,95,952,100,896,89,797,77,698,69,527,63"/>
<area shape="rect" href="affichage_8c.html#a390da1c2cd15fd5355de26bd34b3d3dc" title="Dessine du texte centré dans un rectangle, ligne par ligne si nécessaire." alt="" coords="944,24,1067,49"/>
<area shape="poly" title=" " alt="" coords="527,44,574,39,767,32,930,32,930,38,767,37,575,45,527,50"/>
<area shape="rect" href="affichage_8c.html#ab54c358911a2ed823f20797846583531" title="Dessine un texte centré verticalement et aligné à gauche dans un rectangle." alt="" coords="575,149,724,175"/>
<area shape="poly" title=" " alt="" coords="485,70,528,89,552,109,576,128,603,142,600,146,573,132,549,113,525,94,482,75"/>
<area shape="poly" title=" " alt="" coords="698,249,722,235,733,223,740,211,746,186,752,160,770,134,775,129,778,134,774,137,757,162,751,187,745,213,737,226,726,239,701,253"/>
<area shape="poly" title=" " alt="" coords="685,271,725,292,750,312,773,332,791,341,789,346,771,336,746,316,723,296,683,276"/>
<area shape="poly" title=" " alt="" coords="698,246,723,235,737,223,746,210,755,197,770,184,781,177,784,182,774,188,759,201,750,213,741,226,725,239,701,251"/>
<area shape="rect" href="affichage_8c.html#a3d385ca0396c4c2b3001371505a410e4" title="Affiche l&#39;arrière&#45;plan (background) actuel du jeu." alt="" coords="772,197,896,223"/>
<area shape="poly" title=" " alt="" coords="696,245,773,224,774,229,697,251"/>
<area shape="rect" href="affichage_8c.html#ae63215d67a18f635b3a1c2e1464a0a6f" title="Dessine un Mécha à l&#39;écran avec la texture correspondant à son orientation." alt="" coords="786,247,882,272"/>
<area shape="poly" title=" " alt="" coords="699,258,772,257,772,263,699,263"/>
<area shape="rect" href="affichage_8c.html#ac0e780352c4ab1739b9e31be92740c2d" title="Dessine du texte à une position spécifique à l&#39;écran, avec gestion des retours à la ligne." alt="" coords="781,296,887,321"/>
<area shape="poly" title=" " alt="" coords="700,271,771,290,770,295,698,276"/>
<area shape="poly" title=" " alt="" coords="878,146,952,124,953,129,880,151"/>
<area shape="poly" title=" " alt="" coords="871,146,894,133,919,110,942,84,975,56,978,60,946,88,923,114,898,138,874,150"/>
<area shape="poly" title=" " alt="" coords="282,195,306,183,331,160,354,134,413,80,416,84,358,137,335,164,310,187,284,200"/>
<area shape="poly" title=" " alt="" coords="290,220,791,345,789,350,289,225"/>
<area shape="rect" href="combat_8c.html#a30cb93b663d557e0e81271f956c24379" title="Affiche l&#39;interface de sélection du Mecha du joueur durant un combat." alt="" coords="579,199,719,224"/>
<area shape="poly" title=" " alt="" coords="306,208,566,209,566,214,306,213"/>
<area shape="poly" title=" " alt="" coords="700,196,723,185,737,173,746,160,755,147,770,133,779,128,782,132,774,138,759,150,750,163,741,176,725,190,702,201"/>
<area shape="poly" title=" " alt="" coords="705,222,726,235,744,260,751,284,757,308,774,332,792,344,789,348,770,336,752,311,746,286,739,262,722,239,702,226"/>
<area shape="poly" title=" " alt="" coords="696,196,773,175,774,180,697,201"/>
<area shape="poly" title=" " alt="" coords="719,208,758,208,758,213,719,214"/>
<area shape="poly" title=" " alt="" coords="700,222,773,241,771,246,698,227"/>
<area shape="poly" title=" " alt="" coords="276,144,307,132,360,104,407,77,410,82,363,109,309,137,278,149"/>
<area shape="rect" href="pointDePassage_8c.html#af6656571e1d9901fcca65ffc7217aabb" title="Copie intégralement les attributs d&#39;un Mecha vers l&#39;équipe du joueur." alt="" coords="388,148,495,173"/>
<area shape="poly" title=" " alt="" coords="308,157,374,158,374,163,308,163"/>
<area shape="poly" title=" " alt="" coords="288,95,376,73,377,78,290,100"/>
<area shape="poly" title=" " alt="" coords="296,101,347,99,407,102,469,112,528,133,544,145,554,159,562,172,576,185,586,191,584,196,573,190,558,176,549,162,540,149,525,138,468,117,406,107,347,104,296,106"/>
</map>
</div>
<div class="dynheader">
Voici le graphe des appelants de cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_ae82c6dcf76c1412964511d71b75c637e_icgraph.png" border="0" usemap="#acombat_8h_ae82c6dcf76c1412964511d71b75c637e_icgraph" alt=""/></div>
<map name="acombat_8h_ae82c6dcf76c1412964511d71b75c637e_icgraph" id="acombat_8h_ae82c6dcf76c1412964511d71b75c637e_icgraph">
<area shape="rect" title="Affiche l&#39;interface d&#39;utilisation d&#39;objets pendant un combat." alt="" coords="512,55,624,80"/>
<area shape="rect" href="combat_8c.html#a3c18ce2957ca72f56737d0082766ad63" title="Gère le tour du joueur lors d&#39;un combat contre un Mécha sauvage ou un PNJ." alt="" coords="377,55,464,80"/>
<area shape="poly" title=" " alt="" coords="498,70,464,70,464,65,498,65"/>
<area shape="rect" href="combat_8c.html#a03ca199547656caabf8e81d769b770e4" title="Gère un combat complet entre le joueur et un PNJ." alt="" coords="224,29,313,55"/>
<area shape="poly" title=" " alt="" coords="363,60,313,52,314,47,364,55"/>
<area shape="rect" href="combat_8c.html#ae03e9f733803425a6c1dcb7b81c8234e" title="Gère un combat entre le joueur et un Mécha sauvage." alt="" coords="208,79,329,104"/>
<area shape="poly" title=" " alt="" coords="364,79,330,84,329,79,363,74"/>
<area shape="rect" href="pointDePassage_8c.html#ade398b595e60d698c8c259edf2f8252a" title="Gère les interactions finales avec les PNJs &quot;Vin Gazole&quot; et &quot;Iron Musk&quot;, incluant dialogues,..." alt="" coords="35,5,131,31"/>
<area shape="poly" title=" " alt="" coords="210,37,131,27,131,22,211,32"/>
<area shape="rect" href="pointDePassage_8c.html#a9ed15a581ba87d71ad2d85b8649075da" title="Gère l&#39;interaction du joueur avec les PNJs &quot;Vin Gazole 2&quot; et &quot;Iron Musk&quot;, incluant dialogues,..." alt="" coords="5,55,160,80"/>
<area shape="poly" title=" " alt="" coords="211,53,160,59,160,54,210,47"/>
</map>
</div>

</div>
</div>
<a id="afff6b8b516af5c46c938f407788d1b5f" name="afff6b8b516af5c46c938f407788d1b5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afff6b8b516af5c46c938f407788d1b5f">&#9670;&#160;</a></span>utilisation_rappel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int utilisation_rappel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjoueur__t.html">joueur_t</a> *&#160;</td>
          <td class="paramname"><em>joueur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *&#160;</td>
          <td class="paramname"><em>ordi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>actif</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gère l'utilisation d'un objet "rappel" durant un combat. </p>
<p>Cette fonction permet au joueur d'utiliser un rappel afin de ranimer un Mecha mis K.O. (dont les PV sont à zéro) durant un combat. Elle effectue plusieurs vérifications avant l'utilisation :</p><ul>
<li>Vérifie si le joueur possède au moins un rappel dans son inventaire.</li>
<li>Vérifie que le Mecha sélectionné est bien mis K.O. (PV à zéro).</li>
<li>Permet au joueur de choisir le Mecha cible via l'interface <code>aff_mechas_combat</code>.</li>
</ul>
<p>En cas de succès, le Mecha choisi revient au combat avec la moitié de ses PV max et l'objet est retiré de l'inventaire.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">joueur</td><td>Pointeur vers la structure du joueur actuellement en combat. </td></tr>
    <tr><td class="paramname">ordi</td><td>Pointeur vers le Mecha adverse (utilisé pour l'affichage du combat). </td></tr>
    <tr><td class="paramname">actif</td><td>Pointeur vers l'indice du Mecha actif actuellement utilisé par le joueur en combat.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>int<ul>
<li><code>OK</code> : Le rappel a été utilisé avec succès.</li>
<li><code>KO</code> : Échec de l'utilisation (aucun rappel disponible).</li>
<li><code>RETOUR</code> : L'action a été annulée ou impossible (Mecha sélectionné encore en vie ou aucun choix effectué).</li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Précondition</dt><dd>Les structures joueur, inventaire et Mechas doivent être correctement initialisées.</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Le Mecha sélectionné a été ranimé, ses PV ont été restaurés à la moitié de leur maximum, et l'inventaire du joueur est mis à jour.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Des dialogues informatifs s'affichent pour expliquer clairement chaque résultat à l'utilisateur.</dd></dl>
<dl class="section warning"><dt>Avertissement</dt><dd>Vérifie toujours que le joueur possède l'objet avant son utilisation pour éviter des erreurs inattendues. </dd></dl>
<div class="dynheader">
Voici le graphe d'appel pour cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_afff6b8b516af5c46c938f407788d1b5f_cgraph.png" border="0" usemap="#acombat_8h_afff6b8b516af5c46c938f407788d1b5f_cgraph" alt=""/></div>
<map name="acombat_8h_afff6b8b516af5c46c938f407788d1b5f_cgraph" id="acombat_8h_afff6b8b516af5c46c938f407788d1b5f_cgraph">
<area shape="rect" title="Gère l&#39;utilisation d&#39;un objet &quot;rappel&quot; durant un combat." alt="" coords="5,196,124,222"/>
<area shape="rect" href="combat_8c.html#a30cb93b663d557e0e81271f956c24379" title="Affiche l&#39;interface de sélection du Mecha du joueur durant un combat." alt="" coords="395,246,535,271"/>
<area shape="poly" title=" " alt="" coords="125,214,382,246,381,251,124,219"/>
<area shape="rect" href="affichage_8c.html#a1091893e7df87a967b878919b232b0d5" title="Affiche un dialogue interactif durant un combat entre deux Méchas." alt="" coords="172,159,343,184"/>
<area shape="poly" title=" " alt="" coords="124,195,177,185,178,190,125,200"/>
<area shape="rect" href="affichage_8c.html#afc970416ff2ee1d9f8351a288625f23a" title="Concatène un entier à la fin d&#39;une chaîne de caractères." alt="" coords="619,147,681,172"/>
<area shape="poly" title=" " alt="" coords="513,243,539,231,553,219,562,207,571,195,586,182,605,171,608,176,590,186,575,198,566,210,557,223,541,235,515,248"/>
<area shape="rect" href="affichage_8c.html#a7290dad76779d8dd7f48366a16812be8" title="Initialise un rectangle avec ses dimensions, sa couleur et un texte optionnel." alt="" coords="595,98,705,123"/>
<area shape="poly" title=" " alt="" coords="519,243,538,231,555,208,562,183,568,158,586,133,591,128,594,133,590,136,573,160,567,185,560,210,542,235,521,248"/>
<area shape="rect" href="affichage_8c.html#a4f7e45e8554e8971bdba352cf9838405" title="Dessine plusieurs rectangles avec leurs textes centrés." alt="" coords="601,295,699,320"/>
<area shape="poly" title=" " alt="" coords="514,269,589,289,588,294,513,274"/>
<area shape="rect" href="affichage_8c.html#a3d385ca0396c4c2b3001371505a410e4" title="Affiche l&#39;arrière&#45;plan (background) actuel du jeu." alt="" coords="588,196,712,222"/>
<area shape="poly" title=" " alt="" coords="513,243,588,223,589,228,514,248"/>
<area shape="rect" href="affichage_8c.html#ae63215d67a18f635b3a1c2e1464a0a6f" title="Dessine un Mécha à l&#39;écran avec la texture correspondant à son orientation." alt="" coords="602,246,698,271"/>
<area shape="poly" title=" " alt="" coords="535,256,588,256,588,261,535,261"/>
<area shape="rect" href="affichage_8c.html#ab542b24175a0231f8530346fc8ab790f" title="Dessine un rectangle coloré et son texte associé si présent." alt="" coords="782,271,861,296"/>
<area shape="poly" title=" " alt="" coords="699,298,768,289,768,294,700,304"/>
<area shape="rect" href="affichage_8c.html#a390da1c2cd15fd5355de26bd34b3d3dc" title="Dessine du texte centré dans un rectangle, ligne par ligne si nécessaire." alt="" coords="760,320,883,346"/>
<area shape="poly" title=" " alt="" coords="700,312,746,319,746,325,699,318"/>
<area shape="poly" title=" " alt="" coords="296,156,390,132,490,118,581,111,581,116,490,123,391,137,298,162"/>
<area shape="poly" title=" " alt="" coords="272,157,345,103,397,70,457,39,522,15,588,4,621,3,653,8,684,18,713,34,740,56,762,83,780,113,794,145,812,207,820,257,815,258,807,208,789,147,775,115,758,86,737,60,711,38,682,23,652,13,620,9,588,9,523,21,460,44,400,74,348,107,275,161"/>
<area shape="poly" title=" " alt="" coords="272,183,321,230,355,257,392,280,436,299,482,314,578,332,669,338,746,337,746,342,669,343,577,337,481,319,434,304,389,285,352,262,318,234,268,186"/>
<area shape="rect" href="combat_8c.html#a159b2a6408c605d1fc9432689f92e3cb" title="Affiche à l&#39;écran tous les éléments graphiques d&#39;un combat entre deux Mechas." alt="" coords="415,147,515,172"/>
<area shape="poly" title=" " alt="" coords="343,164,401,161,402,166,343,170"/>
<area shape="rect" href="affichage_8c.html#ab54c358911a2ed823f20797846583531" title="Dessine un texte centré verticalement et aligné à gauche dans un rectangle." alt="" coords="391,196,540,222"/>
<area shape="poly" title=" " alt="" coords="329,182,381,191,380,197,328,187"/>
<area shape="poly" title=" " alt="" coords="515,157,606,157,606,162,515,162"/>
<area shape="poly" title=" " alt="" coords="513,145,588,124,589,129,514,150"/>
<area shape="poly" title=" " alt="" coords="517,167,542,182,560,207,567,232,573,256,590,281,596,286,593,290,586,284,568,259,562,233,556,209,538,186,514,172"/>
<area shape="poly" title=" " alt="" coords="514,170,589,190,588,195,513,175"/>
<area shape="poly" title=" " alt="" coords="517,170,541,182,557,194,566,206,575,219,590,231,601,238,598,242,586,235,572,222,562,210,553,198,539,186,514,175"/>
<area shape="rect" href="affichage_8c.html#ac0e780352c4ab1739b9e31be92740c2d" title="Dessine du texte à une position spécifique à l&#39;écran, avec gestion des retours à la ligne." alt="" coords="597,48,703,74"/>
<area shape="poly" title=" " alt="" coords="484,145,530,115,587,83,600,77,602,81,589,88,532,120,486,149"/>
</map>
</div>
<div class="dynheader">
Voici le graphe des appelants de cette fonction :</div>
<div class="dyncontent">
<div class="center"><img src="combat_8h_afff6b8b516af5c46c938f407788d1b5f_icgraph.png" border="0" usemap="#acombat_8h_afff6b8b516af5c46c938f407788d1b5f_icgraph" alt=""/></div>
<map name="acombat_8h_afff6b8b516af5c46c938f407788d1b5f_icgraph" id="acombat_8h_afff6b8b516af5c46c938f407788d1b5f_icgraph">
<area shape="rect" title="Gère l&#39;utilisation d&#39;un objet &quot;rappel&quot; durant un combat." alt="" coords="672,55,791,80"/>
<area shape="rect" href="combat_8c.html#ae82c6dcf76c1412964511d71b75c637e" title="Affiche l&#39;interface d&#39;utilisation d&#39;objets pendant un combat." alt="" coords="512,55,624,80"/>
<area shape="poly" title=" " alt="" coords="659,70,624,70,624,65,659,65"/>
<area shape="rect" href="combat_8c.html#a3c18ce2957ca72f56737d0082766ad63" title="Gère le tour du joueur lors d&#39;un combat contre un Mécha sauvage ou un PNJ." alt="" coords="377,55,464,80"/>
<area shape="poly" title=" " alt="" coords="498,70,464,70,464,65,498,65"/>
<area shape="rect" href="combat_8c.html#a03ca199547656caabf8e81d769b770e4" title="Gère un combat complet entre le joueur et un PNJ." alt="" coords="224,29,313,55"/>
<area shape="poly" title=" " alt="" coords="363,60,313,52,314,47,364,55"/>
<area shape="rect" href="combat_8c.html#ae03e9f733803425a6c1dcb7b81c8234e" title="Gère un combat entre le joueur et un Mécha sauvage." alt="" coords="208,79,329,104"/>
<area shape="poly" title=" " alt="" coords="364,79,330,84,329,79,363,74"/>
<area shape="rect" href="pointDePassage_8c.html#ade398b595e60d698c8c259edf2f8252a" title="Gère les interactions finales avec les PNJs &quot;Vin Gazole&quot; et &quot;Iron Musk&quot;, incluant dialogues,..." alt="" coords="35,5,131,31"/>
<area shape="poly" title=" " alt="" coords="210,37,131,27,131,22,211,32"/>
<area shape="rect" href="pointDePassage_8c.html#a9ed15a581ba87d71ad2d85b8649075da" title="Gère l&#39;interaction du joueur avec les PNJs &quot;Vin Gazole 2&quot; et &quot;Iron Musk&quot;, incluant dialogues,..." alt="" coords="5,55,160,80"/>
<area shape="poly" title=" " alt="" coords="211,53,160,59,160,54,210,47"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="combat_8h.html">combat.h</a></li>
    <li class="footer">Généré par <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
