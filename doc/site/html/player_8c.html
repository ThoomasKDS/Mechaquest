<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Mechaquest: Référence du fichier /mnt/c/Users/mokha/Documents/travaille L2/projet/github/src/player.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Mechaquest
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Généré par Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Recherche');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('player_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Chargement...</div>
<div class="SRStatus" id="Searching">Recherche...</div>
<div class="SRStatus" id="NoMatches">Aucune correspondance</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Fonctions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">Référence du fichier player.c</div></div>
</div><!--header-->
<div class="contents">

<p>fichier contenant les fonctions de déplacement  
<a href="#details">Plus de détails...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;<a class="el" href="player_8h_source.html">../lib/player.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="affichage_8h_source.html">../lib/affichage.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="son_8h_source.html">../lib/son.h</a>&quot;</code><br />
<code>#include &lt;<a class="el" href="pointDePassage_8h_source.html">pointDePassage.h</a>&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Graphe des dépendances par inclusion de player.c:</div>
<div class="dyncontent">
<div class="center"><img src="player_8c__incl.png" border="0" usemap="#a_2mnt_2c_2Users_2mokha_2Documents_2travaille_01L2_2projet_2github_2src_2player_8c" alt=""/></div>
<map name="a_2mnt_2c_2Users_2mokha_2Documents_2travaille_01L2_2projet_2github_2src_2player_8c" id="a_2mnt_2c_2Users_2mokha_2Documents_2travaille_01L2_2projet_2github_2src_2player_8c">
<area shape="rect" title="fichier contenant les fonctions de déplacement" alt="" coords="939,5,1082,75"/>
<area shape="rect" title=" " alt="" coords="856,563,917,588"/>
<area shape="poly" title=" " alt="" coords="1060,73,1091,102,1119,137,1138,177,1142,199,1141,222,1131,311,1121,382,1112,415,1098,447,1076,481,1046,517,1027,530,998,543,932,565,930,560,996,538,1024,525,1042,513,1072,478,1093,445,1107,413,1116,381,1126,310,1136,221,1137,200,1133,179,1115,140,1087,105,1056,77"/>
<area shape="rect" title=" " alt="" coords="1057,563,1121,588"/>
<area shape="poly" title=" " alt="" coords="1083,66,1167,106,1213,133,1258,165,1302,201,1340,243,1372,290,1395,342,1399,365,1399,387,1393,408,1384,428,1354,463,1314,493,1269,518,1221,538,1135,566,1134,561,1219,533,1266,513,1312,488,1351,459,1379,425,1388,406,1393,387,1394,366,1389,343,1367,293,1336,247,1298,205,1255,169,1210,137,1164,110,1081,70"/>
<area shape="rect" title=" " alt="" coords="955,563,1021,588"/>
<area shape="poly" title=" " alt="" coords="1083,43,1168,52,1261,67,1342,89,1373,104,1394,121,1411,150,1418,180,1416,212,1407,244,1392,276,1371,308,1319,369,1261,424,1206,469,1140,517,1087,545,1035,564,1033,559,1085,540,1137,512,1202,465,1258,420,1315,365,1367,305,1387,273,1402,242,1411,211,1413,181,1406,152,1390,124,1370,108,1341,94,1260,72,1167,58,1082,49"/>
<area shape="rect" href="player_8h.html" title="Gestion du joueur dans le jeu." alt="" coords="963,123,1059,148"/>
<area shape="poly" title=" " alt="" coords="1013,75,1013,109,1008,109,1008,75"/>
<area shape="rect" href="affichage_8h.html" title="Fichier d&#39;en&#45;tête pour la gestion de l&#39;affichage dans le jeu." alt="" coords="773,196,888,221"/>
<area shape="poly" title=" " alt="" coords="966,77,909,125,850,187,847,184,905,121,962,73"/>
<area shape="rect" href="pointDePassage_8h.html" title="Gestion des points de passage et événements du jeu." alt="" coords="681,343,810,368"/>
<area shape="poly" title=" " alt="" coords="984,76,953,124,942,149,936,172,931,214,922,254,911,275,894,297,858,324,818,341,816,336,855,319,890,293,907,272,917,252,925,213,931,171,937,147,948,121,980,74"/>
<area shape="rect" href="son_8h.html" title="Gestion de la musique et des effets sonore du jeu." alt="" coords="43,343,125,368"/>
<area shape="poly" title=" " alt="" coords="940,51,767,70,548,101,439,121,339,144,256,170,196,198,161,228,133,264,111,300,96,331,91,329,106,298,129,261,158,224,193,194,254,165,338,139,438,116,547,96,766,64,939,45"/>
<area shape="poly" title=" " alt="" coords="1051,146,1087,164,1104,178,1117,195,1137,241,1147,291,1149,343,1145,393,1125,485,1102,551,1097,549,1120,484,1139,393,1144,343,1142,292,1132,243,1112,197,1100,182,1084,169,1049,150"/>
<area shape="rect" title=" " alt="" coords="757,636,853,661"/>
<area shape="poly" title=" " alt="" coords="1052,146,1143,179,1196,204,1250,235,1298,273,1339,317,1354,342,1366,369,1373,397,1376,427,1376,504,1372,523,1360,541,1341,556,1316,570,1253,594,1176,612,1093,626,1009,636,868,647,867,642,1008,631,1092,621,1175,607,1251,589,1314,566,1338,552,1356,537,1367,521,1371,503,1371,427,1368,398,1361,370,1349,345,1334,320,1295,277,1247,240,1194,208,1141,183,1051,151"/>
<area shape="rect" title=" " alt="" coords="575,636,713,661"/>
<area shape="poly" title=" " alt="" coords="1009,149,1002,182,1002,202,1005,221,1020,254,1038,279,1080,317,1122,355,1140,381,1156,415,1171,453,1181,493,1180,515,1173,538,1159,563,1135,590,981,611,727,641,727,635,980,606,1132,586,1154,560,1168,536,1175,514,1175,494,1166,455,1151,417,1136,383,1118,358,1076,321,1034,283,1016,257,1000,222,996,202,997,182,1004,148"/>
<area shape="rect" title=" " alt="" coords="1014,196,1082,221"/>
<area shape="poly" title=" " alt="" coords="1019,147,1038,183,1033,185,1014,150"/>
<area shape="rect" href="initGame_8h.html" title="Initialisation et gestion de la SDL pour le jeu." alt="" coords="504,489,619,515"/>
<area shape="poly" title=" " alt="" coords="963,142,889,152,798,174,751,191,705,212,662,239,625,271,606,294,592,320,573,377,565,432,563,475,558,475,560,431,568,375,587,318,602,291,621,267,659,235,703,208,749,186,796,169,888,147,962,137"/>
<area shape="rect" href="global_8h.html" title="Définition des constantes, structures et variables globales du jeu." alt="" coords="327,563,423,588"/>
<area shape="poly" title=" " alt="" coords="963,143,773,160,524,189,405,209,307,231,240,256,222,268,216,281,216,430,219,452,227,472,240,491,256,507,294,535,332,555,330,559,291,539,252,511,236,494,223,475,214,453,211,430,211,280,218,265,237,251,305,226,404,203,523,184,773,154,962,138"/>
<area shape="poly" title=" " alt="" coords="976,151,867,193,865,188,974,146"/>
<area shape="rect" href="sauv_8h.html" title="Gestion des sauvegardes et récupération des données du jeu." alt="" coords="944,489,1032,515"/>
<area shape="poly" title=" " alt="" coords="1040,146,1071,165,1086,179,1097,195,1100,208,1097,222,1078,297,1052,369,1003,478,998,476,1047,367,1073,296,1092,221,1095,208,1092,197,1082,182,1068,169,1037,150"/>
<area shape="poly" title=" " alt="" coords="614,512,843,562,842,567,613,517"/>
<area shape="poly" title=" " alt="" coords="619,510,631,512,832,535,921,544,1034,560,1044,562,1043,567,1033,565,920,549,832,540,630,517,618,516"/>
<area shape="poly" title=" " alt="" coords="619,510,631,512,930,560,942,562,941,568,929,565,630,517,618,515"/>
<area shape="poly" title=" " alt="" coords="582,513,776,627,773,631,580,517"/>
<area shape="poly" title=" " alt="" coords="578,513,600,534,621,561,634,592,642,621,637,623,629,594,616,564,596,538,574,517"/>
<area shape="rect" title=" " alt="" coords="548,563,607,588"/>
<area shape="poly" title=" " alt="" coords="567,514,574,549,569,550,561,516"/>
<area shape="rect" title=" " alt="" coords="391,636,526,661"/>
<area shape="poly" title=" " alt="" coords="555,517,477,626,473,623,551,514"/>
<area shape="rect" title=" " alt="" coords="205,636,320,661"/>
<area shape="poly" title=" " alt="" coords="548,517,500,552,436,590,376,616,319,635,318,630,374,611,433,586,497,548,545,513"/>
<area shape="poly" title=" " alt="" coords="532,517,419,560,417,555,530,512"/>
<area shape="poly" title=" " alt="" coords="423,582,744,635,743,640,422,587"/>
<area shape="poly" title=" " alt="" coords="419,585,588,630,587,635,417,591"/>
<area shape="poly" title=" " alt="" coords="390,586,436,625,433,629,386,590"/>
<area shape="poly" title=" " alt="" coords="358,590,294,631,291,626,355,586"/>
<area shape="poly" title=" " alt="" coords="854,219,887,240,919,267,967,322,1001,368,1025,420,1047,489,1049,502,1046,516,1033,538,1017,555,1013,552,1029,534,1042,514,1044,502,1041,490,1020,422,996,371,963,325,915,271,883,244,851,224"/>
<area shape="poly" title=" " alt="" coords="866,193,975,151,977,156,868,198"/>
<area shape="poly" title=" " alt="" coords="862,219,904,239,948,267,1046,343,1091,380,1129,418,1157,458,1165,478,1169,499,1169,521,1163,543,1152,566,1135,590,1117,604,1091,616,1020,633,941,643,868,648,867,643,940,637,1020,627,1089,611,1115,599,1131,586,1148,563,1158,541,1163,520,1164,500,1160,480,1152,460,1125,422,1088,384,1043,347,945,272,902,244,860,224"/>
<area shape="poly" title=" " alt="" coords="773,213,610,219,509,227,408,239,314,257,236,282,207,297,184,314,170,333,165,354,165,430,168,463,176,490,189,512,206,531,228,546,254,560,316,585,361,598,424,611,562,633,561,639,423,616,360,603,314,591,251,565,225,551,203,535,185,515,171,492,163,464,160,430,160,354,165,331,180,310,204,292,234,277,312,252,407,234,509,221,609,213,773,208"/>
<area shape="poly" title=" " alt="" coords="774,219,711,236,680,251,652,271,632,294,615,320,590,377,574,432,567,476,561,475,569,431,585,375,610,318,628,291,649,267,677,246,709,231,772,214"/>
<area shape="poly" title=" " alt="" coords="773,212,666,215,524,223,364,241,283,255,204,272,134,282,70,287,45,294,25,306,13,325,8,354,8,503,13,532,26,557,46,578,71,595,131,621,192,636,191,641,130,626,69,600,42,582,22,560,8,534,3,504,3,354,8,323,21,302,43,289,69,282,133,276,204,267,282,249,363,236,523,218,666,209,773,207"/>
<area shape="poly" title=" " alt="" coords="774,221,700,240,661,254,624,272,545,318,487,361,439,413,392,490,381,520,378,549,372,548,376,519,387,488,435,410,483,357,542,314,621,267,659,249,698,235,772,216"/>
<area shape="rect" title=" " alt="" coords="811,269,880,295"/>
<area shape="poly" title=" " alt="" coords="836,221,843,255,838,256,830,222"/>
<area shape="poly" title=" " alt="" coords="847,219,871,240,894,268,926,323,952,381,984,476,979,477,947,383,922,326,890,271,867,244,844,223"/>
<area shape="rect" href="combat_8h.html" title="Gestion des combats dans le jeu." alt="" coords="681,269,786,295"/>
<area shape="poly" title=" " alt="" coords="817,224,762,263,759,259,813,219"/>
<area shape="poly" title=" " alt="" coords="973,517,916,557,913,552,970,512"/>
<area shape="poly" title=" " alt="" coords="1006,512,1063,552,1060,557,1003,517"/>
<area shape="poly" title=" " alt="" coords="991,515,991,549,985,549,985,515"/>
<area shape="poly" title=" " alt="" coords="944,511,437,570,436,564,944,506"/>
<area shape="poly" title=" " alt="" coords="705,297,646,324,568,366,486,422,448,455,414,491,396,521,384,551,379,549,391,518,410,488,444,451,483,418,565,362,643,320,703,292"/>
<area shape="poly" title=" " alt="" coords="756,293,789,313,824,341,848,367,863,391,878,414,901,439,928,462,957,480,954,485,925,466,897,443,873,417,858,393,844,370,821,345,786,318,753,297"/>
<area shape="poly" title=" " alt="" coords="738,295,744,329,738,330,733,295"/>
<area shape="poly" title=" " alt="" coords="706,371,651,389,584,415,513,449,447,491,416,521,392,552,388,549,412,518,444,487,511,444,582,410,649,383,704,365"/>
<area shape="poly" title=" " alt="" coords="759,366,798,401,849,439,896,463,942,482,940,487,894,468,847,444,794,405,755,370"/>
<area shape="rect" href="menu_8h.html" title="Gestion des menus et des interfaces utilisateur." alt="" coords="683,416,778,441"/>
<area shape="poly" title=" " alt="" coords="746,369,738,403,733,402,740,368"/>
<area shape="poly" title=" " alt="" coords="755,439,790,460,826,487,854,518,875,549,871,552,849,522,822,491,787,464,752,444"/>
<area shape="poly" title=" " alt="" coords="758,439,855,487,961,553,958,557,852,492,755,444"/>
<area shape="poly" title=" " alt="" coords="743,440,760,461,776,488,788,524,797,560,806,622,801,623,792,561,783,525,771,490,756,464,739,443"/>
<area shape="poly" title=" " alt="" coords="735,442,737,475,732,515,719,548,702,578,666,627,662,624,697,575,714,546,727,514,732,475,730,442"/>
<area shape="poly" title=" " alt="" coords="704,444,603,486,601,481,702,439"/>
<area shape="poly" title=" " alt="" coords="683,438,573,456,509,472,446,492,376,520,348,537,317,565,293,594,276,624,271,622,288,591,313,561,345,533,373,515,444,487,508,467,572,451,683,433"/>
<area shape="poly" title=" " alt="" coords="684,439,593,457,542,472,493,492,441,522,399,555,396,551,438,518,491,487,541,467,592,452,683,434"/>
<area shape="poly" title=" " alt="" coords="711,418,687,397,667,369,656,341,651,317,654,293,667,268,686,248,709,233,759,215,761,220,711,238,689,252,672,271,659,295,656,317,661,340,672,367,691,394,714,414"/>
<area shape="poly" title=" " alt="" coords="773,439,934,483,933,488,771,444"/>
<area shape="rect" title=" " alt="" coords="643,489,717,515"/>
<area shape="poly" title=" " alt="" coords="724,443,698,480,694,477,720,440"/>
<area shape="poly" title=" " alt="" coords="91,367,128,435,159,477,196,513,224,530,254,543,314,561,312,566,252,548,221,534,193,517,155,480,124,438,87,369"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Fonctions</h2></td></tr>
<tr class="memitem:af51d5e095cb4fc41eec0983022449146" id="r_af51d5e095cb4fc41eec0983022449146"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="player_8c.html#af51d5e095cb4fc41eec0983022449146">deplacement</a> (int taille_x, int taille_y, const Uint8 *keys, <a class="el" href="structjoueur__t.html">joueur_t</a> *j, int *last_case, SDL_Rect *sprite_p, int *repousse)</td></tr>
<tr class="memdesc:af51d5e095cb4fc41eec0983022449146"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gère le déplacement du joueur sur la carte en fonction des touches pressées.  <br /></td></tr>
<tr class="separator:af51d5e095cb4fc41eec0983022449146"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a279408d93f54625f9229df493ae67180" id="r_a279408d93f54625f9229df493ae67180"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="player_8c.html#a279408d93f54625f9229df493ae67180">animation</a> (<a class="el" href="structjoueur__t.html">joueur_t</a> *j, SDL_Rect *sprite_p)</td></tr>
<tr class="memdesc:a279408d93f54625f9229df493ae67180"><td class="mdescLeft">&#160;</td><td class="mdescRight">Met à jour l'animation du joueur lors de son déplacement.  <br /></td></tr>
<tr class="separator:a279408d93f54625f9229df493ae67180"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa063304a19a8497e45220ea85ad96307" id="r_aa063304a19a8497e45220ea85ad96307"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="player_8c.html#aa063304a19a8497e45220ea85ad96307">spawn_mecha</a> (<a class="el" href="structjoueur__t.html">joueur_t</a> *j, int obj_case, <a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *mecha_sauvage, int res)</td></tr>
<tr class="memdesc:aa063304a19a8497e45220ea85ad96307"><td class="mdescLeft">&#160;</td><td class="mdescRight">Détermine et génère l'apparition aléatoire d'un Mecha sauvage dans une zone définie.  <br /></td></tr>
<tr class="separator:aa063304a19a8497e45220ea85ad96307"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09715347a5e61cb5a25e0a2cefc73696" id="r_a09715347a5e61cb5a25e0a2cefc73696"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="player_8c.html#a09715347a5e61cb5a25e0a2cefc73696">detection_combat_pnj</a> (<a class="el" href="structjoueur__t.html">joueur_t</a> *joueur, int res)</td></tr>
<tr class="memdesc:a09715347a5e61cb5a25e0a2cefc73696"><td class="mdescLeft">&#160;</td><td class="mdescRight">Détecte si un PNJ peut déclencher un combat avec le joueur en fonction de sa position et orientation.  <br /></td></tr>
<tr class="separator:a09715347a5e61cb5a25e0a2cefc73696"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a660ead63ae8c167737981fec4571c187" id="r_a660ead63ae8c167737981fec4571c187"><td class="memItemLeft" align="right" valign="top"><a id="a660ead63ae8c167737981fec4571c187" name="a660ead63ae8c167737981fec4571c187"></a>
const int&#160;</td><td class="memItemRight" valign="bottom"><b>FRAME</b> = 15</td></tr>
<tr class="separator:a660ead63ae8c167737981fec4571c187"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Description détaillée</h2>
<div class="textblock"><p>fichier contenant les fonctions de déplacement </p>
</div><h2 class="groupheader">Documentation des fonctions</h2>
<a id="a279408d93f54625f9229df493ae67180" name="a279408d93f54625f9229df493ae67180"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a279408d93f54625f9229df493ae67180">&#9670;&#160;</a></span>animation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void animation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjoueur__t.html">joueur_t</a> *&#160;</td>
          <td class="paramname"><em>j</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SDL_Rect *&#160;</td>
          <td class="paramname"><em>sprite_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Met à jour l'animation du joueur lors de son déplacement. </p>
<p>Cette fonction actualise progressivement la position graphique du joueur (<code>sprite_p</code>) sur l'écran, selon les incréments définis (<code>j-&gt;move_dx</code> et <code>j-&gt;move_dy</code>). L'animation se déroule sur un nombre prédéfini de frames (<code>j-&gt;moving</code>), décrémenté à chaque appel de la fonction jusqu’à atteindre zéro (fin de l’animation).</p>
<p>Lorsque l'animation se termine (<code>j-&gt;moving == 0</code>), les valeurs de déplacement (<code>move_dx</code>, <code>move_dy</code>) sont remises à zéro pour stopper tout mouvement résiduel.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">j</td><td>Pointeur vers la structure du joueur contenant les informations sur l'animation en cours. </td></tr>
    <tr><td class="paramname">sprite_p</td><td>Pointeur vers la structure SDL_Rect définissant la position du sprite du joueur à l’écran.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Précondition</dt><dd>Les valeurs de déplacement (<code>j-&gt;move_dx</code> et <code>j-&gt;move_dy</code>) doivent être définies avant le début de l’animation. Le pointeur <code>sprite_p</code> doit être valide et initialisé correctement avec la position actuelle du joueur.</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>La position graphique du joueur (<code>sprite_p-&gt;x</code>, <code>sprite_p-&gt;y</code>) est mise à jour progressivement à chaque appel. Les valeurs de déplacement sont réinitialisées à zéro lorsque l'animation se termine.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Cette fonction doit être appelée régulièrement dans la boucle principale (généralement chaque frame) pour garantir une animation fluide du déplacement du joueur.</dd></dl>
<dl class="section warning"><dt>Avertissement</dt><dd>Veiller à ce que <code>j-&gt;screen_x</code> et <code>j-&gt;screen_y</code> soient initialisées correctement pour éviter tout décalage du sprite. </dd></dl>

</div>
</div>
<a id="af51d5e095cb4fc41eec0983022449146" name="af51d5e095cb4fc41eec0983022449146"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af51d5e095cb4fc41eec0983022449146">&#9670;&#160;</a></span>deplacement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int deplacement </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>taille_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>taille_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Uint8 *&#160;</td>
          <td class="paramname"><em>keys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structjoueur__t.html">joueur_t</a> *&#160;</td>
          <td class="paramname"><em>j</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>last_case</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SDL_Rect *&#160;</td>
          <td class="paramname"><em>sprite_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>repousse</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gère le déplacement du joueur sur la carte en fonction des touches pressées. </p>
<p>Cette fonction détermine la direction du déplacement en fonction des touches fléchées pressées par l'utilisateur (gauche, droite, haut, bas). Elle vérifie si la case cible est valide (libre, accessible ou portail vers une autre carte). Si le déplacement est valide, elle met à jour la position logique et graphique du joueur, et gère éventuellement le changement de carte.</p>
<p>La fonction empêche explicitement le déplacement en diagonale et bloque tout déplacement si le joueur est déjà en animation.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">game</td><td>Pointeur vers la structure principale du jeu contenant l'état actuel du jeu et des cartes. </td></tr>
    <tr><td class="paramname">taille_x</td><td>Largeur de la carte en nombre de cases. </td></tr>
    <tr><td class="paramname">taille_y</td><td>Hauteur de la carte en nombre de cases. </td></tr>
    <tr><td class="paramname">keys</td><td>Tableau des touches pressées (<code>Uint8</code> SDL) pour déterminer le déplacement. </td></tr>
    <tr><td class="paramname">j</td><td>Pointeur vers la structure du joueur (position, état d’animation). </td></tr>
    <tr><td class="paramname">last_case</td><td>Pointeur vers un entier stockant l'identifiant de la dernière case occupée avant le déplacement du joueur. </td></tr>
    <tr><td class="paramname">sprite_p</td><td>Rectangle SDL définissant la position graphique du sprite du joueur.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>int <br  />
<ul>
<li>La valeur de la case vers laquelle le joueur se déplace (<code>obj_case</code>), qui peut être :<ul>
<li><code>RIEN</code> si la case est vide ou traversable.</li>
<li>Un identifiant spécial (par exemple : changement de carte).</li>
</ul>
</li>
<li><code>0</code> si aucun déplacement valide n'est effectué (mouvement diagonal ou joueur en déplacement).</li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Précondition</dt><dd>Les pointeurs (<code>game</code>, <code>j</code>, <code>keys</code>, <code>last_case</code>, <code>sprite_p</code>) doivent être valides et correctement initialisés. La carte et ses dimensions doivent être cohérentes avec <code>taille_x</code> et <code>taille_y</code>.</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>La position du joueur (<code>j-&gt;x</code>, <code>j-&gt;y</code>) est mise à jour ainsi que la matrice du jeu (<code>game-&gt;mat</code>) selon le déplacement effectué. La gestion du changement de carte est faite si la case cible est un portail (<code>TPMAP1</code>, etc.).</dd></dl>
<dl class="section note"><dt>Note</dt><dd>La fonction gère uniquement la logique du déplacement initial. L'animation réelle du joueur est traitée dans la boucle principale en fonction des paramètres <code>j-&gt;moving</code>, <code>j-&gt;move_dx</code> et <code>j-&gt;move_dy</code>.</dd></dl>
<dl class="section warning"><dt>Avertissement</dt><dd>Cette fonction ne doit pas être appelée si le joueur est déjà en animation (<code>j-&gt;moving != 0</code>). Assurez-vous que les constantes (<code>RIEN</code>, <code>JOUEUR</code>, <code>TPMAP1</code>, etc.) soient définies avant utilisation. </dd></dl>

</div>
</div>
<a id="a09715347a5e61cb5a25e0a2cefc73696" name="a09715347a5e61cb5a25e0a2cefc73696"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09715347a5e61cb5a25e0a2cefc73696">&#9670;&#160;</a></span>detection_combat_pnj()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int detection_combat_pnj </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjoueur__t.html">joueur_t</a> *&#160;</td>
          <td class="paramname"><em>joueur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Détecte si un PNJ peut déclencher un combat avec le joueur en fonction de sa position et orientation. </p>
<p>Cette fonction parcourt la liste des PNJ présents sur la carte active, vérifiant leur état, leur position, et leur orientation pour déterminer si l'un d'entre eux peut voir directement le joueur. Le PNJ peut détecter le joueur jusqu'à 3 cases devant lui selon son orientation actuelle (haut, droite, bas, gauche).</p>
<p>Dès qu'un PNJ détecte le joueur, la fonction retourne immédiatement l'indice correspondant à ce PNJ dans le tableau global <code>pnj[]</code>.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">game</td><td>Pointeur vers la structure contenant l’état du jeu et la carte active. </td></tr>
    <tr><td class="paramname">joueur</td><td>Pointeur vers la structure du joueur contenant sa position actuelle sur la carte.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>int<ul>
<li>L'indice (<code>i</code>) du PNJ dans le tableau <code>pnj[]</code> qui a détecté le joueur.</li>
<li><code>0</code> si aucun PNJ ne détecte le joueur à proximité.</li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Précondition</dt><dd>Les tableaux <code>game-&gt;mat</code> et <code>pnj[]</code> doivent être initialisés correctement. Les constantes (<code>JOUEUR</code>, <code>PNJ</code>, <code>VIN_GAZOLE_1</code>) doivent être définies.</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Aucune modification d’état du jeu n'est réalisée par cette fonction. Elle ne fait que retourner l'indice d'un PNJ pouvant déclencher un combat.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>La fonction s’assure que les coordonnées testées restent toujours à l'intérieur des limites de la matrice.</dd></dl>
<dl class="section warning"><dt>Avertissement</dt><dd>Assurez-vous que les valeurs des orientations du PNJ sont correctement définies :<ul>
<li><code>1</code> : vers le haut</li>
<li><code>2</code> : vers la droite</li>
<li><code>3</code> : vers le bas</li>
<li><code>4</code> : vers la gauche </li>
</ul>
</dd></dl>

</div>
</div>
<a id="aa063304a19a8497e45220ea85ad96307" name="aa063304a19a8497e45220ea85ad96307"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa063304a19a8497e45220ea85ad96307">&#9670;&#160;</a></span>spawn_mecha()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spawn_mecha </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjoueur__t.html">joueur_t</a> *&#160;</td>
          <td class="paramname"><em>j</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>obj_case</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmechas__joueur__t.html">mechas_joueur_t</a> *&#160;</td>
          <td class="paramname"><em>mecha_sauvage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Détermine et génère l'apparition aléatoire d'un Mecha sauvage dans une zone définie. </p>
<p>Cette fonction gère l'apparition aléatoire d'un Mecha sauvage en fonction d'une probabilité cumulative. À chaque déplacement du joueur dans une zone propice (identifiée par <code>obj_case</code>), la probabilité de rencontrer un Mecha augmente. Lorsqu'un Mecha apparaît, ses attributs (niveau, PV, attaque, défense, vitesse, attaques disponibles) sont définis aléatoirement en fonction des valeurs moyennes prédéfinies pour cette zone.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">j</td><td>Pointeur vers la structure du joueur (pour la gestion de la probabilité d'apparition). </td></tr>
    <tr><td class="paramname">obj_case</td><td>Valeur représentant la case où se situe le joueur (détermine la zone de spawn éventuel). </td></tr>
    <tr><td class="paramname">mecha_sauvage</td><td>Pointeur vers une structure Mecha qui sera remplie avec les attributs du Mecha sauvage généré.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>int<ul>
<li><code>1</code> : Un Mecha sauvage est apparu, et ses attributs ont été initialisés.</li>
<li><code>0</code> : Aucun Mecha sauvage n’est apparu (probabilité insuffisante).</li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Précondition</dt><dd>La structure <code>zone[]</code>, ainsi que les tableaux globaux (<code>attaque[]</code>, <code>mecha[]</code>), doivent être initialisés et contenir des données valides. Les constantes telles que <code>Z1</code> et <code>Z10</code> doivent être correctement définies. Le générateur aléatoire (<code>rand()</code>) doit être initialisé préalablement (par exemple via <code>srand()</code>).</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Si un Mecha apparaît, ses attributs sont initialisés dans la structure pointée par <code>mecha_sauvage</code>. La probabilité de rencontre est réinitialisée (<code>j-&gt;proba_combat = 0</code>) en cas de succès. Sinon, la probabilité cumulative (<code>j-&gt;proba_combat</code>) est augmentée.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Des logs détaillés sur les attributs générés sont affichés sur la sortie standard (utile pour le debug).</dd></dl>
<dl class="section warning"><dt>Avertissement</dt><dd>Vérifier soigneusement les bornes des tableaux (<code>zone</code>, <code>mecha</code>, <code>attaque</code>) pour éviter tout accès hors limites. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="player_8c.html">player.c</a></li>
    <li class="footer">Généré par <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
